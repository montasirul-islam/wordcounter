function cO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(r,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function NE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pm={exports:{}},Ba={};var Q1;function uO(){if(Q1)return Ba;Q1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,l){var a=null;if(l!==void 0&&(a=""+l),o.key!==void 0&&(a=""+o.key),"key"in o){l={};for(var u in o)u!=="key"&&(l[u]=o[u])}else l=o;return o=l.ref,{$$typeof:t,type:r,key:a,ref:o!==void 0?o:null,props:l}}return Ba.Fragment=e,Ba.jsx=n,Ba.jsxs=n,Ba}var Z1;function fO(){return Z1||(Z1=1,pm.exports=uO()),pm.exports}var oe=fO(),mm={exports:{}},Pe={};var eS;function dO(){if(eS)return Pe;eS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function v(R){return R===null||typeof R!="object"?null:(R=b&&R[b]||R["@@iterator"],typeof R=="function"?R:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function w(R,F,j){this.props=R,this.context=F,this.refs=T,this.updater=j||S}w.prototype.isReactComponent={},w.prototype.setState=function(R,F){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,F,"setState")},w.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function k(){}k.prototype=w.prototype;function A(R,F,j){this.props=R,this.context=F,this.refs=T,this.updater=j||S}var O=A.prototype=new k;O.constructor=A,E(O,w.prototype),O.isPureReactComponent=!0;var N=Array.isArray;function H(){}var z={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function K(R,F,j){var Q=j.ref;return{$$typeof:t,type:R,key:F,ref:Q!==void 0?Q:null,props:j}}function se(R,F){return K(R.type,F,R.props)}function ce(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function ue(R){var F={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(j){return F[j]})}var me=/\/+/g;function ee(R,F){return typeof R=="object"&&R!==null&&R.key!=null?ue(""+R.key):F.toString(36)}function G(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(H,H):(R.status="pending",R.then(function(F){R.status==="pending"&&(R.status="fulfilled",R.value=F)},function(F){R.status==="pending"&&(R.status="rejected",R.reason=F)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function L(R,F,j,Q,he){var ae=typeof R;(ae==="undefined"||ae==="boolean")&&(R=null);var J=!1;if(R===null)J=!0;else switch(ae){case"bigint":case"string":case"number":J=!0;break;case"object":switch(R.$$typeof){case t:case e:J=!0;break;case p:return J=R._init,L(J(R._payload),F,j,Q,he)}}if(J)return he=he(R),J=Q===""?"."+ee(R,0):Q,N(he)?(j="",J!=null&&(j=J.replace(me,"$&/")+"/"),L(he,F,j,"",function(Ue){return Ue})):he!=null&&(ce(he)&&(he=se(he,j+(he.key==null||R&&R.key===he.key?"":(""+he.key).replace(me,"$&/")+"/")+J)),F.push(he)),1;J=0;var pe=Q===""?".":Q+":";if(N(R))for(var Ee=0;Ee<R.length;Ee++)Q=R[Ee],ae=pe+ee(Q,Ee),J+=L(Q,F,j,ae,he);else if(Ee=v(R),typeof Ee=="function")for(R=Ee.call(R),Ee=0;!(Q=R.next()).done;)Q=Q.value,ae=pe+ee(Q,Ee++),J+=L(Q,F,j,ae,he);else if(ae==="object"){if(typeof R.then=="function")return L(G(R),F,j,Q,he);throw F=String(R),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return J}function q(R,F,j){if(R==null)return R;var Q=[],he=0;return L(R,Q,"","",function(ae){return F.call(j,ae,he++)}),Q}function B(R){if(R._status===-1){var F=R._result;F=F(),F.then(function(j){(R._status===0||R._status===-1)&&(R._status=1,R._result=j)},function(j){(R._status===0||R._status===-1)&&(R._status=2,R._result=j)}),R._status===-1&&(R._status=0,R._result=F)}if(R._status===1)return R._result.default;throw R._result}var X=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},ne={map:q,forEach:function(R,F,j){q(R,function(){F.apply(this,arguments)},j)},count:function(R){var F=0;return q(R,function(){F++}),F},toArray:function(R){return q(R,function(F){return F})||[]},only:function(R){if(!ce(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Pe.Activity=g,Pe.Children=ne,Pe.Component=w,Pe.Fragment=n,Pe.Profiler=o,Pe.PureComponent=A,Pe.StrictMode=r,Pe.Suspense=d,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(R){return z.H.useMemoCache(R)}},Pe.cache=function(R){return function(){return R.apply(null,arguments)}},Pe.cacheSignal=function(){return null},Pe.cloneElement=function(R,F,j){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var Q=E({},R.props),he=R.key;if(F!=null)for(ae in F.key!==void 0&&(he=""+F.key),F)!I.call(F,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&F.ref===void 0||(Q[ae]=F[ae]);var ae=arguments.length-2;if(ae===1)Q.children=j;else if(1<ae){for(var J=Array(ae),pe=0;pe<ae;pe++)J[pe]=arguments[pe+2];Q.children=J}return K(R.type,he,Q)},Pe.createContext=function(R){return R={$$typeof:a,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:l,_context:R},R},Pe.createElement=function(R,F,j){var Q,he={},ae=null;if(F!=null)for(Q in F.key!==void 0&&(ae=""+F.key),F)I.call(F,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(he[Q]=F[Q]);var J=arguments.length-2;if(J===1)he.children=j;else if(1<J){for(var pe=Array(J),Ee=0;Ee<J;Ee++)pe[Ee]=arguments[Ee+2];he.children=pe}if(R&&R.defaultProps)for(Q in J=R.defaultProps,J)he[Q]===void 0&&(he[Q]=J[Q]);return K(R,ae,he)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(R){return{$$typeof:u,render:R}},Pe.isValidElement=ce,Pe.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:B}},Pe.memo=function(R,F){return{$$typeof:h,type:R,compare:F===void 0?null:F}},Pe.startTransition=function(R){var F=z.T,j={};z.T=j;try{var Q=R(),he=z.S;he!==null&&he(j,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(H,X)}catch(ae){X(ae)}finally{F!==null&&j.types!==null&&(F.types=j.types),z.T=F}},Pe.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Pe.use=function(R){return z.H.use(R)},Pe.useActionState=function(R,F,j){return z.H.useActionState(R,F,j)},Pe.useCallback=function(R,F){return z.H.useCallback(R,F)},Pe.useContext=function(R){return z.H.useContext(R)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(R,F){return z.H.useDeferredValue(R,F)},Pe.useEffect=function(R,F){return z.H.useEffect(R,F)},Pe.useEffectEvent=function(R){return z.H.useEffectEvent(R)},Pe.useId=function(){return z.H.useId()},Pe.useImperativeHandle=function(R,F,j){return z.H.useImperativeHandle(R,F,j)},Pe.useInsertionEffect=function(R,F){return z.H.useInsertionEffect(R,F)},Pe.useLayoutEffect=function(R,F){return z.H.useLayoutEffect(R,F)},Pe.useMemo=function(R,F){return z.H.useMemo(R,F)},Pe.useOptimistic=function(R,F){return z.H.useOptimistic(R,F)},Pe.useReducer=function(R,F,j){return z.H.useReducer(R,F,j)},Pe.useRef=function(R){return z.H.useRef(R)},Pe.useState=function(R){return z.H.useState(R)},Pe.useSyncExternalStore=function(R,F,j){return z.H.useSyncExternalStore(R,F,j)},Pe.useTransition=function(){return z.H.useTransition()},Pe.version="19.2.3",Pe}var tS;function Sc(){return tS||(tS=1,mm.exports=dO()),mm.exports}var M=Sc();const wo=NE(M),DE=cO({__proto__:null,default:wo},[M]);var gm={exports:{}},_a={},ym={exports:{}},bm={};var nS;function hO(){return nS||(nS=1,(function(t){function e(L,q){var B=L.length;L.push(q);e:for(;0<B;){var X=B-1>>>1,ne=L[X];if(0<o(ne,q))L[X]=q,L[B]=ne,B=X;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var q=L[0],B=L.pop();if(B!==q){L[0]=B;e:for(var X=0,ne=L.length,R=ne>>>1;X<R;){var F=2*(X+1)-1,j=L[F],Q=F+1,he=L[Q];if(0>o(j,B))Q<ne&&0>o(he,j)?(L[X]=he,L[Q]=B,X=Q):(L[X]=j,L[F]=B,X=F);else if(Q<ne&&0>o(he,B))L[X]=he,L[Q]=B,X=Q;else break e}}return q}function o(L,q){var B=L.sortIndex-q.sortIndex;return B!==0?B:L.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var d=[],h=[],p=1,g=null,b=3,v=!1,S=!1,E=!1,T=!1,w=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function O(L){for(var q=n(h);q!==null;){if(q.callback===null)r(h);else if(q.startTime<=L)r(h),q.sortIndex=q.expirationTime,e(d,q);else break;q=n(h)}}function N(L){if(E=!1,O(L),!S)if(n(d)!==null)S=!0,H||(H=!0,ue());else{var q=n(h);q!==null&&G(N,q.startTime-L)}}var H=!1,z=-1,I=5,K=-1;function se(){return T?!0:!(t.unstable_now()-K<I)}function ce(){if(T=!1,H){var L=t.unstable_now();K=L;var q=!0;try{e:{S=!1,E&&(E=!1,k(z),z=-1),v=!0;var B=b;try{t:{for(O(L),g=n(d);g!==null&&!(g.expirationTime>L&&se());){var X=g.callback;if(typeof X=="function"){g.callback=null,b=g.priorityLevel;var ne=X(g.expirationTime<=L);if(L=t.unstable_now(),typeof ne=="function"){g.callback=ne,O(L),q=!0;break t}g===n(d)&&r(d),O(L)}else r(d);g=n(d)}if(g!==null)q=!0;else{var R=n(h);R!==null&&G(N,R.startTime-L),q=!1}}break e}finally{g=null,b=B,v=!1}q=void 0}}finally{q?ue():H=!1}}}var ue;if(typeof A=="function")ue=function(){A(ce)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,ee=me.port2;me.port1.onmessage=ce,ue=function(){ee.postMessage(null)}}else ue=function(){w(ce,0)};function G(L,q){z=w(function(){L(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(L){switch(b){case 1:case 2:case 3:var q=3;break;default:q=b}var B=b;b=q;try{return L()}finally{b=B}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(L,q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var B=b;b=L;try{return q()}finally{b=B}},t.unstable_scheduleCallback=function(L,q,B){var X=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?X+B:X):B=X,L){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=B+ne,L={id:p++,callback:q,priorityLevel:L,startTime:B,expirationTime:ne,sortIndex:-1},B>X?(L.sortIndex=B,e(h,L),n(d)===null&&L===n(h)&&(E?(k(z),z=-1):E=!0,G(N,B-X))):(L.sortIndex=ne,e(d,L),S||v||(S=!0,H||(H=!0,ue()))),L},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(L){var q=b;return function(){var B=b;b=q;try{return L.apply(this,arguments)}finally{b=B}}}})(bm)),bm}var rS;function pO(){return rS||(rS=1,ym.exports=hO()),ym.exports}var vm={exports:{}},Mn={};var iS;function mO(){if(iS)return Mn;iS=1;var t=Sc();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(d,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:g==null?null:""+g,children:d,containerInfo:h,implementation:p}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Mn.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return l(d,h,null,p)},Mn.flushSync=function(d){var h=a.T,p=r.p;try{if(a.T=null,r.p=2,d)return d()}finally{a.T=h,r.p=p,r.d.f()}},Mn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},Mn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Mn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:v}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:b,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Mn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},Mn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Mn.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},Mn.requestFormReset=function(d){r.d.r(d)},Mn.unstable_batchedUpdates=function(d,h){return d(h)},Mn.useFormState=function(d,h,p){return a.H.useFormState(d,h,p)},Mn.useFormStatus=function(){return a.H.useHostTransitionStatus()},Mn.version="19.2.3",Mn}var oS;function zE(){if(oS)return vm.exports;oS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vm.exports=mO(),vm.exports}var sS;function gO(){if(sS)return _a;sS=1;var t=pO(),e=Sc(),n=zE();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,c=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(c=s.return),i=s.return;while(i)}return s.tag===3?c:null}function a(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function u(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function h(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var c=i,f=s;;){var m=c.return;if(m===null)break;var y=m.alternate;if(y===null){if(f=m.return,f!==null){c=f;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===c)return d(m),i;if(y===f)return d(m),s;y=y.sibling}throw Error(r(188))}if(c.return!==f.return)c=m,f=y;else{for(var x=!1,C=m.child;C;){if(C===c){x=!0,c=m,f=y;break}if(C===f){x=!0,f=m,c=y;break}C=C.sibling}if(!x){for(C=y.child;C;){if(C===c){x=!0,c=y,f=m;break}if(C===f){x=!0,f=y,c=m;break}C=C.sibling}if(!x)throw Error(r(189))}}if(c.alternate!==f)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function ue(i){return i===null||typeof i!="object"?null:(i=ce&&i[ce]||i["@@iterator"],typeof i=="function"?i:null)}var me=Symbol.for("react.client.reference");function ee(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===me?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case w:return"Profiler";case T:return"StrictMode";case N:return"Suspense";case H:return"SuspenseList";case K:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case A:return i.displayName||"Context";case k:return(i._context.displayName||"Context")+".Consumer";case O:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case z:return s=i.displayName||null,s!==null?s:ee(i.type)||"Memo";case I:s=i._payload,i=i._init;try{return ee(i(s))}catch{}}return null}var G=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},X=[],ne=-1;function R(i){return{current:i}}function F(i){0>ne||(i.current=X[ne],X[ne]=null,ne--)}function j(i,s){ne++,X[ne]=i.current,i.current=s}var Q=R(null),he=R(null),ae=R(null),J=R(null);function pe(i,s){switch(j(ae,s),j(he,i),j(Q,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?x1(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=x1(s),i=E1(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}F(Q),j(Q,i)}function Ee(){F(Q),F(he),F(ae)}function Ue(i){i.memoizedState!==null&&j(J,i);var s=Q.current,c=E1(s,i.type);s!==c&&(j(he,i),j(Q,c))}function ie(i){he.current===i&&(F(Q),F(he)),J.current===i&&(F(J),Na._currentValue=B)}var Te,be;function We(i){if(Te===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);Te=s&&s[1]||"",be=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Te+i+be}var Oe=!1;function fe(i,s){if(!i||Oe)return"";Oe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Y){var $=Y}Reflect.construct(i,[],te)}else{try{te.call()}catch(Y){$=Y}i.call(te.prototype)}}else{try{throw Error()}catch(Y){$=Y}(te=i())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Y){if(Y&&$&&typeof Y.stack=="string")return[Y.stack,$.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),x=y[0],C=y[1];if(x&&C){var D=x.split(`
`),P=C.split(`
`);for(m=f=0;f<D.length&&!D[f].includes("DetermineComponentFrameRoot");)f++;for(;m<P.length&&!P[m].includes("DetermineComponentFrameRoot");)m++;if(f===D.length||m===P.length)for(f=D.length-1,m=P.length-1;1<=f&&0<=m&&D[f]!==P[m];)m--;for(;1<=f&&0<=m;f--,m--)if(D[f]!==P[m]){if(f!==1||m!==1)do if(f--,m--,0>m||D[f]!==P[m]){var W=`
`+D[f].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=f&&0<=m);break}}}finally{Oe=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?We(c):""}function ve(i,s){switch(i.tag){case 26:case 27:case 5:return We(i.type);case 16:return We("Lazy");case 13:return i.child!==s&&s!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return fe(i.type,!1);case 11:return fe(i.type.render,!1);case 1:return fe(i.type,!0);case 31:return We("Activity");default:return""}}function je(i){try{var s="",c=null;do s+=ve(i,c),c=i,i=i.return;while(i);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Ae=Object.prototype.hasOwnProperty,Re=t.unstable_scheduleCallback,re=t.unstable_cancelCallback,Ne=t.unstable_shouldYield,ge=t.unstable_requestPaint,Se=t.unstable_now,ye=t.unstable_getCurrentPriorityLevel,Je=t.unstable_ImmediatePriority,it=t.unstable_UserBlockingPriority,Ge=t.unstable_NormalPriority,Dt=t.unstable_LowPriority,Ot=t.unstable_IdlePriority,Qt=t.log,zt=t.unstable_setDisableYieldValue,vt=null,dt=null;function fn(i){if(typeof Qt=="function"&&zt(i),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(vt,i)}catch{}}var jt=Math.clz32?Math.clz32:rn,bt=Math.log,qt=Math.LN2;function rn(i){return i>>>=0,i===0?32:31-(bt(i)/qt|0)|0}var Tt=256,wn=262144,dn=4194304;function Ft(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function In(i,s,c){var f=i.pendingLanes;if(f===0)return 0;var m=0,y=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var C=f&134217727;return C!==0?(f=C&~y,f!==0?m=Ft(f):(x&=C,x!==0?m=Ft(x):c||(c=C&~i,c!==0&&(m=Ft(c))))):(C=f&~y,C!==0?m=Ft(C):x!==0?m=Ft(x):c||(c=f&~i,c!==0&&(m=Ft(c)))),m===0?0:s!==0&&s!==m&&(s&y)===0&&(y=m&-m,c=s&-s,y>=c||y===32&&(c&4194048)!==0)?s:m}function ur(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function _o(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function et(){var i=dn;return dn<<=1,(dn&62914560)===0&&(dn=4194304),i}function Rt(i){for(var s=[],c=0;31>c;c++)s.push(i);return s}function Cn(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Hn(i,s,c,f,m,y){var x=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var C=i.entanglements,D=i.expirationTimes,P=i.hiddenUpdates;for(c=x&~c;0<c;){var W=31-jt(c),te=1<<W;C[W]=0,D[W]=-1;var $=P[W];if($!==null)for(P[W]=null,W=0;W<$.length;W++){var Y=$[W];Y!==null&&(Y.lane&=-536870913)}c&=~te}f!==0&&Dn(i,f,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(x&~s))}function Dn(i,s,c){i.pendingLanes|=s,i.suspendedLanes&=~s;var f=31-jt(s);i.entangledLanes|=s,i.entanglements[f]=i.entanglements[f]|1073741824|c&261930}function Xr(i,s){var c=i.entangledLanes|=s;for(i=i.entanglements;c;){var f=31-jt(c),m=1<<f;m&s|i[f]&s&&(i[f]|=s),c&=~m}}function Fl(i,s){var c=s&-s;return c=(c&42)!==0?1:Wr(c),(c&(i.suspendedLanes|s))!==0?0:c}function Wr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function $l(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Oc(){var i=q.p;return i!==0?i:(i=window.event,i===void 0?32:$1(i.type))}function Rc(i,s){var c=q.p;try{return q.p=i,s()}finally{q.p=c}}var Ni=Math.random().toString(36).slice(2),hn="__reactFiber$"+Ni,Vn="__reactProps$"+Ni,Ms="__reactContainer$"+Ni,oh="__reactEvents$"+Ni,QM="__reactListeners$"+Ni,ZM="__reactHandles$"+Ni,ab="__reactResources$"+Ni,Gl="__reactMarker$"+Ni;function sh(i){delete i[hn],delete i[Vn],delete i[oh],delete i[QM],delete i[ZM]}function ks(i){var s=i[hn];if(s)return s;for(var c=i.parentNode;c;){if(s=c[Ms]||c[hn]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(i=O1(i);i!==null;){if(c=i[hn])return c;i=O1(i)}return s}i=c,c=i.parentNode}return null}function As(i){if(i=i[hn]||i[Ms]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Kl(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Os(i){var s=i[ab];return s||(s=i[ab]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function on(i){i[Gl]=!0}var cb=new Set,ub={};function Io(i,s){Rs(i,s),Rs(i+"Capture",s)}function Rs(i,s){for(ub[i]=s,i=0;i<s.length;i++)cb.add(s[i])}var ek=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fb={},db={};function tk(i){return Ae.call(db,i)?!0:Ae.call(fb,i)?!1:ek.test(i)?db[i]=!0:(fb[i]=!0,!1)}function Nc(i,s,c){if(tk(s))if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+c)}}function Dc(i,s,c){if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+c)}}function Jr(i,s,c,f){if(f===null)i.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(s,c,""+f)}}function fr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function hb(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function nk(i,s,c){var f=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var m=f.get,y=f.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(x){c=""+x,y.call(this,x)}}),Object.defineProperty(i,s,{enumerable:f.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function lh(i){if(!i._valueTracker){var s=hb(i)?"checked":"value";i._valueTracker=nk(i,s,""+i[s])}}function pb(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var c=s.getValue(),f="";return i&&(f=hb(i)?i.checked?"true":"false":i.value),i=f,i!==c?(s.setValue(i),!0):!1}function zc(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var rk=/[\n"\\]/g;function dr(i){return i.replace(rk,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ah(i,s,c,f,m,y,x,C){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),s!=null?x==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+fr(s)):i.value!==""+fr(s)&&(i.value=""+fr(s)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),s!=null?ch(i,x,fr(s)):c!=null?ch(i,x,fr(c)):f!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.name=""+fr(C):i.removeAttribute("name")}function mb(i,s,c,f,m,y,x,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){lh(i);return}c=c!=null?""+fr(c):"",s=s!=null?""+fr(s):c,C||s===i.value||(i.value=s),i.defaultValue=s}f=f??m,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=C?i.checked:!!f,i.defaultChecked=!!f,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x),lh(i)}function ch(i,s,c){s==="number"&&zc(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function Ns(i,s,c,f){if(i=i.options,s){s={};for(var m=0;m<c.length;m++)s["$"+c[m]]=!0;for(c=0;c<i.length;c++)m=s.hasOwnProperty("$"+i[c].value),i[c].selected!==m&&(i[c].selected=m),m&&f&&(i[c].defaultSelected=!0)}else{for(c=""+fr(c),s=null,m=0;m<i.length;m++){if(i[m].value===c){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function gb(i,s,c){if(s!=null&&(s=""+fr(s),s!==i.value&&(i.value=s),c==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=c!=null?""+fr(c):""}function yb(i,s,c,f){if(s==null){if(f!=null){if(c!=null)throw Error(r(92));if(G(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),s=c}c=fr(s),i.defaultValue=c,f=i.textContent,f===c&&f!==""&&f!==null&&(i.value=f),lh(i)}function Ds(i,s){if(s){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=s;return}}i.textContent=s}var ik=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bb(i,s,c){var f=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":f?i.setProperty(s,c):typeof c!="number"||c===0||ik.has(s)?s==="float"?i.cssFloat=c:i[s]=(""+c).trim():i[s]=c+"px"}function vb(i,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var m in s)f=s[m],s.hasOwnProperty(m)&&c[m]!==f&&bb(i,m,f)}else for(var y in s)s.hasOwnProperty(y)&&bb(i,y,s[y])}function uh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ok=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lc(i){return sk.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Qr(){}var fh=null;function dh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var zs=null,Ls=null;function Sb(i){var s=As(i);if(s&&(i=s.stateNode)){var c=i[Vn]||null;e:switch(i=s.stateNode,s.type){case"input":if(ah(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+dr(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var f=c[s];if(f!==i&&f.form===i.form){var m=f[Vn]||null;if(!m)throw Error(r(90));ah(f,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<c.length;s++)f=c[s],f.form===i.form&&pb(f)}break e;case"textarea":gb(i,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&Ns(i,!!c.multiple,s,!1)}}}var hh=!1;function xb(i,s,c){if(hh)return i(s,c);hh=!0;try{var f=i(s);return f}finally{if(hh=!1,(zs!==null||Ls!==null)&&(xu(),zs&&(s=zs,i=Ls,Ls=zs=null,Sb(s),i)))for(s=0;s<i.length;s++)Sb(i[s])}}function Yl(i,s){var c=i.stateNode;if(c===null)return null;var f=c[Vn]||null;if(f===null)return null;c=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var Zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ph=!1;if(Zr)try{var Xl={};Object.defineProperty(Xl,"passive",{get:function(){ph=!0}}),window.addEventListener("test",Xl,Xl),window.removeEventListener("test",Xl,Xl)}catch{ph=!1}var Di=null,mh=null,Bc=null;function Eb(){if(Bc)return Bc;var i,s=mh,c=s.length,f,m="value"in Di?Di.value:Di.textContent,y=m.length;for(i=0;i<c&&s[i]===m[i];i++);var x=c-i;for(f=1;f<=x&&s[c-f]===m[y-f];f++);return Bc=m.slice(i,1<f?1-f:void 0)}function _c(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ic(){return!0}function Tb(){return!1}function jn(i){function s(c,f,m,y,x){this._reactName=c,this._targetInst=m,this.type=f,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(c=i[C],this[C]=c?c(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ic:Tb,this.isPropagationStopped=Tb,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ic)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ic)},persist:function(){},isPersistent:Ic}),s}var Ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hc=jn(Ho),Wl=g({},Ho,{view:0,detail:0}),lk=jn(Wl),gh,yh,Jl,Vc=g({},Wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Jl&&(Jl&&i.type==="mousemove"?(gh=i.screenX-Jl.screenX,yh=i.screenY-Jl.screenY):yh=gh=0,Jl=i),gh)},movementY:function(i){return"movementY"in i?i.movementY:yh}}),wb=jn(Vc),ak=g({},Vc,{dataTransfer:0}),ck=jn(ak),uk=g({},Wl,{relatedTarget:0}),bh=jn(uk),fk=g({},Ho,{animationName:0,elapsedTime:0,pseudoElement:0}),dk=jn(fk),hk=g({},Ho,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),pk=jn(hk),mk=g({},Ho,{data:0}),Cb=jn(mk),gk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vk(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=bk[i])?!!s[i]:!1}function vh(){return vk}var Sk=g({},Wl,{key:function(i){if(i.key){var s=gk[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=_c(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?yk[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vh,charCode:function(i){return i.type==="keypress"?_c(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?_c(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),xk=jn(Sk),Ek=g({},Vc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mb=jn(Ek),Tk=g({},Wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vh}),wk=jn(Tk),Ck=g({},Ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mk=jn(Ck),kk=g({},Vc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ak=jn(kk),Ok=g({},Ho,{newState:0,oldState:0}),Rk=jn(Ok),Nk=[9,13,27,32],Sh=Zr&&"CompositionEvent"in window,Ql=null;Zr&&"documentMode"in document&&(Ql=document.documentMode);var Dk=Zr&&"TextEvent"in window&&!Ql,kb=Zr&&(!Sh||Ql&&8<Ql&&11>=Ql),Ab=" ",Ob=!1;function Rb(i,s){switch(i){case"keyup":return Nk.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nb(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Bs=!1;function zk(i,s){switch(i){case"compositionend":return Nb(s);case"keypress":return s.which!==32?null:(Ob=!0,Ab);case"textInput":return i=s.data,i===Ab&&Ob?null:i;default:return null}}function Lk(i,s){if(Bs)return i==="compositionend"||!Sh&&Rb(i,s)?(i=Eb(),Bc=mh=Di=null,Bs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return kb&&s.locale!=="ko"?null:s.data;default:return null}}var Bk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Db(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Bk[i.type]:s==="textarea"}function zb(i,s,c,f){zs?Ls?Ls.push(f):Ls=[f]:zs=f,s=Au(s,"onChange"),0<s.length&&(c=new Hc("onChange","change",null,c,f),i.push({event:c,listeners:s}))}var Zl=null,ea=null;function _k(i){m1(i,0)}function jc(i){var s=Kl(i);if(pb(s))return i}function Lb(i,s){if(i==="change")return s}var Bb=!1;if(Zr){var xh;if(Zr){var Eh="oninput"in document;if(!Eh){var _b=document.createElement("div");_b.setAttribute("oninput","return;"),Eh=typeof _b.oninput=="function"}xh=Eh}else xh=!1;Bb=xh&&(!document.documentMode||9<document.documentMode)}function Ib(){Zl&&(Zl.detachEvent("onpropertychange",Hb),ea=Zl=null)}function Hb(i){if(i.propertyName==="value"&&jc(ea)){var s=[];zb(s,ea,i,dh(i)),xb(_k,s)}}function Ik(i,s,c){i==="focusin"?(Ib(),Zl=s,ea=c,Zl.attachEvent("onpropertychange",Hb)):i==="focusout"&&Ib()}function Hk(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return jc(ea)}function Vk(i,s){if(i==="click")return jc(s)}function jk(i,s){if(i==="input"||i==="change")return jc(s)}function Uk(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Xn=typeof Object.is=="function"?Object.is:Uk;function ta(i,s){if(Xn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var c=Object.keys(i),f=Object.keys(s);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var m=c[f];if(!Ae.call(s,m)||!Xn(i[m],s[m]))return!1}return!0}function Vb(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function jb(i,s){var c=Vb(i);i=0;for(var f;c;){if(c.nodeType===3){if(f=i+c.textContent.length,i<=s&&f>=s)return{node:c,offset:s-i};i=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Vb(c)}}function Ub(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Ub(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Pb(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=zc(i.document);s instanceof i.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)i=s.contentWindow;else break;s=zc(i.document)}return s}function Th(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var Pk=Zr&&"documentMode"in document&&11>=document.documentMode,_s=null,wh=null,na=null,Ch=!1;function qb(i,s,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ch||_s==null||_s!==zc(f)||(f=_s,"selectionStart"in f&&Th(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),na&&ta(na,f)||(na=f,f=Au(wh,"onSelect"),0<f.length&&(s=new Hc("onSelect","select",null,s,c),i.push({event:s,listeners:f}),s.target=_s)))}function Vo(i,s){var c={};return c[i.toLowerCase()]=s.toLowerCase(),c["Webkit"+i]="webkit"+s,c["Moz"+i]="moz"+s,c}var Is={animationend:Vo("Animation","AnimationEnd"),animationiteration:Vo("Animation","AnimationIteration"),animationstart:Vo("Animation","AnimationStart"),transitionrun:Vo("Transition","TransitionRun"),transitionstart:Vo("Transition","TransitionStart"),transitioncancel:Vo("Transition","TransitionCancel"),transitionend:Vo("Transition","TransitionEnd")},Mh={},Fb={};Zr&&(Fb=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function jo(i){if(Mh[i])return Mh[i];if(!Is[i])return i;var s=Is[i],c;for(c in s)if(s.hasOwnProperty(c)&&c in Fb)return Mh[i]=s[c];return i}var $b=jo("animationend"),Gb=jo("animationiteration"),Kb=jo("animationstart"),qk=jo("transitionrun"),Fk=jo("transitionstart"),$k=jo("transitioncancel"),Yb=jo("transitionend"),Xb=new Map,kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kh.push("scrollEnd");function Ar(i,s){Xb.set(i,s),Io(s,[i])}var Uc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},hr=[],Hs=0,Ah=0;function Pc(){for(var i=Hs,s=Ah=Hs=0;s<i;){var c=hr[s];hr[s++]=null;var f=hr[s];hr[s++]=null;var m=hr[s];hr[s++]=null;var y=hr[s];if(hr[s++]=null,f!==null&&m!==null){var x=f.pending;x===null?m.next=m:(m.next=x.next,x.next=m),f.pending=m}y!==0&&Wb(c,m,y)}}function qc(i,s,c,f){hr[Hs++]=i,hr[Hs++]=s,hr[Hs++]=c,hr[Hs++]=f,Ah|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Oh(i,s,c,f){return qc(i,s,c,f),Fc(i)}function Uo(i,s){return qc(i,null,null,s),Fc(i)}function Wb(i,s,c){i.lanes|=c;var f=i.alternate;f!==null&&(f.lanes|=c);for(var m=!1,y=i.return;y!==null;)y.childLanes|=c,f=y.alternate,f!==null&&(f.childLanes|=c),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,m&&s!==null&&(m=31-jt(c),i=y.hiddenUpdates,f=i[m],f===null?i[m]=[s]:f.push(s),s.lane=c|536870912),y):null}function Fc(i){if(50<wa)throw wa=0,Hp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Vs={};function Gk(i,s,c,f){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(i,s,c,f){return new Gk(i,s,c,f)}function Rh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ei(i,s){var c=i.alternate;return c===null?(c=Wn(i.tag,s,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=s,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,s=i.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function Jb(i,s){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,s=c.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function $c(i,s,c,f,m,y){var x=0;if(f=i,typeof i=="function")Rh(i)&&(x=1);else if(typeof i=="string")x=JA(i,c,Q.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case K:return i=Wn(31,c,s,m),i.elementType=K,i.lanes=y,i;case E:return Po(c.children,m,y,s);case T:x=8,m|=24;break;case w:return i=Wn(12,c,s,m|2),i.elementType=w,i.lanes=y,i;case N:return i=Wn(13,c,s,m),i.elementType=N,i.lanes=y,i;case H:return i=Wn(19,c,s,m),i.elementType=H,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:x=10;break e;case k:x=9;break e;case O:x=11;break e;case z:x=14;break e;case I:x=16,f=null;break e}x=29,c=Error(r(130,i===null?"null":typeof i,"")),f=null}return s=Wn(x,c,s,m),s.elementType=i,s.type=f,s.lanes=y,s}function Po(i,s,c,f){return i=Wn(7,i,f,s),i.lanes=c,i}function Nh(i,s,c){return i=Wn(6,i,null,s),i.lanes=c,i}function Qb(i){var s=Wn(18,null,null,0);return s.stateNode=i,s}function Dh(i,s,c){return s=Wn(4,i.children!==null?i.children:[],i.key,s),s.lanes=c,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Zb=new WeakMap;function pr(i,s){if(typeof i=="object"&&i!==null){var c=Zb.get(i);return c!==void 0?c:(s={value:i,source:s,stack:je(s)},Zb.set(i,s),s)}return{value:i,source:s,stack:je(s)}}var js=[],Us=0,Gc=null,ra=0,mr=[],gr=0,zi=null,Br=1,_r="";function ti(i,s){js[Us++]=ra,js[Us++]=Gc,Gc=i,ra=s}function e0(i,s,c){mr[gr++]=Br,mr[gr++]=_r,mr[gr++]=zi,zi=i;var f=Br;i=_r;var m=32-jt(f)-1;f&=~(1<<m),c+=1;var y=32-jt(s)+m;if(30<y){var x=m-m%5;y=(f&(1<<x)-1).toString(32),f>>=x,m-=x,Br=1<<32-jt(s)+m|c<<m|f,_r=y+i}else Br=1<<y|c<<m|f,_r=i}function zh(i){i.return!==null&&(ti(i,1),e0(i,1,0))}function Lh(i){for(;i===Gc;)Gc=js[--Us],js[Us]=null,ra=js[--Us],js[Us]=null;for(;i===zi;)zi=mr[--gr],mr[gr]=null,_r=mr[--gr],mr[gr]=null,Br=mr[--gr],mr[gr]=null}function t0(i,s){mr[gr++]=Br,mr[gr++]=_r,mr[gr++]=zi,Br=s.id,_r=s.overflow,zi=i}var pn=null,St=null,rt=!1,Li=null,yr=!1,Bh=Error(r(519));function Bi(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ia(pr(s,i)),Bh}function n0(i){var s=i.stateNode,c=i.type,f=i.memoizedProps;switch(s[hn]=i,s[Vn]=f,c){case"dialog":Ze("cancel",s),Ze("close",s);break;case"iframe":case"object":case"embed":Ze("load",s);break;case"video":case"audio":for(c=0;c<Ma.length;c++)Ze(Ma[c],s);break;case"source":Ze("error",s);break;case"img":case"image":case"link":Ze("error",s),Ze("load",s);break;case"details":Ze("toggle",s);break;case"input":Ze("invalid",s),mb(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Ze("invalid",s);break;case"textarea":Ze("invalid",s),yb(s,f.value,f.defaultValue,f.children)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||f.suppressHydrationWarning===!0||v1(s.textContent,c)?(f.popover!=null&&(Ze("beforetoggle",s),Ze("toggle",s)),f.onScroll!=null&&Ze("scroll",s),f.onScrollEnd!=null&&Ze("scrollend",s),f.onClick!=null&&(s.onclick=Qr),s=!0):s=!1,s||Bi(i,!0)}function r0(i){for(pn=i.return;pn;)switch(pn.tag){case 5:case 31:case 13:yr=!1;return;case 27:case 3:yr=!0;return;default:pn=pn.return}}function Ps(i){if(i!==pn)return!1;if(!rt)return r0(i),rt=!0,!1;var s=i.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||Zp(i.type,i.memoizedProps)),c=!c),c&&St&&Bi(i),r0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));St=A1(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));St=A1(i)}else s===27?(s=St,Xi(i.type)?(i=im,im=null,St=i):St=s):St=pn?vr(i.stateNode.nextSibling):null;return!0}function qo(){St=pn=null,rt=!1}function _h(){var i=Li;return i!==null&&(Fn===null?Fn=i:Fn.push.apply(Fn,i),Li=null),i}function ia(i){Li===null?Li=[i]:Li.push(i)}var Ih=R(null),Fo=null,ni=null;function _i(i,s,c){j(Ih,s._currentValue),s._currentValue=c}function ri(i){i._currentValue=Ih.current,F(Ih)}function Hh(i,s,c){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===c)break;i=i.return}}function Vh(i,s,c,f){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var x=m.child;y=y.firstContext;e:for(;y!==null;){var C=y;y=m;for(var D=0;D<s.length;D++)if(C.context===s[D]){y.lanes|=c,C=y.alternate,C!==null&&(C.lanes|=c),Hh(y.return,c,i),f||(x=null);break e}y=C.next}}else if(m.tag===18){if(x=m.return,x===null)throw Error(r(341));x.lanes|=c,y=x.alternate,y!==null&&(y.lanes|=c),Hh(x,c,i),x=null}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===i){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}}function qs(i,s,c,f){i=null;for(var m=s,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var x=m.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var C=m.type;Xn(m.pendingProps.value,x.value)||(i!==null?i.push(C):i=[C])}}else if(m===J.current){if(x=m.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Na):i=[Na])}m=m.return}i!==null&&Vh(s,i,c,f),s.flags|=262144}function Kc(i){for(i=i.firstContext;i!==null;){if(!Xn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function $o(i){Fo=i,ni=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function mn(i){return i0(Fo,i)}function Yc(i,s){return Fo===null&&$o(i),i0(i,s)}function i0(i,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},ni===null){if(i===null)throw Error(r(308));ni=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ni=ni.next=s;return c}var Kk=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(c,f){i.push(f)}};this.abort=function(){s.aborted=!0,i.forEach(function(c){return c()})}},Yk=t.unstable_scheduleCallback,Xk=t.unstable_NormalPriority,$t={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jh(){return{controller:new Kk,data:new Map,refCount:0}}function oa(i){i.refCount--,i.refCount===0&&Yk(Xk,function(){i.controller.abort()})}var sa=null,Uh=0,Fs=0,$s=null;function Wk(i,s){if(sa===null){var c=sa=[];Uh=0,Fs=Fp(),$s={status:"pending",value:void 0,then:function(f){c.push(f)}}}return Uh++,s.then(o0,o0),s}function o0(){if(--Uh===0&&sa!==null){$s!==null&&($s.status="fulfilled");var i=sa;sa=null,Fs=0,$s=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Jk(i,s){var c=[],f={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return i.then(function(){f.status="fulfilled",f.value=s;for(var m=0;m<c.length;m++)(0,c[m])(s)},function(m){for(f.status="rejected",f.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),f}var s0=L.S;L.S=function(i,s){qv=Se(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Wk(i,s),s0!==null&&s0(i,s)};var Go=R(null);function Ph(){var i=Go.current;return i!==null?i:gt.pooledCache}function Xc(i,s){s===null?j(Go,Go.current):j(Go,s.pool)}function l0(){var i=Ph();return i===null?null:{parent:$t._currentValue,pool:i}}var Gs=Error(r(460)),qh=Error(r(474)),Wc=Error(r(542)),Jc={then:function(){}};function a0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function c0(i,s,c){switch(c=i[c],c===void 0?i.push(s):c!==s&&(s.then(Qr,Qr),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,f0(i),i;default:if(typeof s.status=="string")s.then(Qr,Qr);else{if(i=gt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(f){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=f}},function(f){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,f0(i),i}throw Yo=s,Gs}}function Ko(i){try{var s=i._init;return s(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Yo=c,Gs):c}}var Yo=null;function u0(){if(Yo===null)throw Error(r(459));var i=Yo;return Yo=null,i}function f0(i){if(i===Gs||i===Wc)throw Error(r(483))}var Ks=null,la=0;function Qc(i){var s=la;return la+=1,Ks===null&&(Ks=[]),c0(Ks,i,s)}function aa(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Zc(i,s){throw s.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function d0(i){function s(V,_){if(i){var U=V.deletions;U===null?(V.deletions=[_],V.flags|=16):U.push(_)}}function c(V,_){if(!i)return null;for(;_!==null;)s(V,_),_=_.sibling;return null}function f(V){for(var _=new Map;V!==null;)V.key!==null?_.set(V.key,V):_.set(V.index,V),V=V.sibling;return _}function m(V,_){return V=ei(V,_),V.index=0,V.sibling=null,V}function y(V,_,U){return V.index=U,i?(U=V.alternate,U!==null?(U=U.index,U<_?(V.flags|=67108866,_):U):(V.flags|=67108866,_)):(V.flags|=1048576,_)}function x(V){return i&&V.alternate===null&&(V.flags|=67108866),V}function C(V,_,U,Z){return _===null||_.tag!==6?(_=Nh(U,V.mode,Z),_.return=V,_):(_=m(_,U),_.return=V,_)}function D(V,_,U,Z){var ze=U.type;return ze===E?W(V,_,U.props.children,Z,U.key):_!==null&&(_.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===I&&Ko(ze)===_.type)?(_=m(_,U.props),aa(_,U),_.return=V,_):(_=$c(U.type,U.key,U.props,null,V.mode,Z),aa(_,U),_.return=V,_)}function P(V,_,U,Z){return _===null||_.tag!==4||_.stateNode.containerInfo!==U.containerInfo||_.stateNode.implementation!==U.implementation?(_=Dh(U,V.mode,Z),_.return=V,_):(_=m(_,U.children||[]),_.return=V,_)}function W(V,_,U,Z,ze){return _===null||_.tag!==7?(_=Po(U,V.mode,Z,ze),_.return=V,_):(_=m(_,U),_.return=V,_)}function te(V,_,U){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Nh(""+_,V.mode,U),_.return=V,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case v:return U=$c(_.type,_.key,_.props,null,V.mode,U),aa(U,_),U.return=V,U;case S:return _=Dh(_,V.mode,U),_.return=V,_;case I:return _=Ko(_),te(V,_,U)}if(G(_)||ue(_))return _=Po(_,V.mode,U,null),_.return=V,_;if(typeof _.then=="function")return te(V,Qc(_),U);if(_.$$typeof===A)return te(V,Yc(V,_),U);Zc(V,_)}return null}function $(V,_,U,Z){var ze=_!==null?_.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ze!==null?null:C(V,_,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case v:return U.key===ze?D(V,_,U,Z):null;case S:return U.key===ze?P(V,_,U,Z):null;case I:return U=Ko(U),$(V,_,U,Z)}if(G(U)||ue(U))return ze!==null?null:W(V,_,U,Z,null);if(typeof U.then=="function")return $(V,_,Qc(U),Z);if(U.$$typeof===A)return $(V,_,Yc(V,U),Z);Zc(V,U)}return null}function Y(V,_,U,Z,ze){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return V=V.get(U)||null,C(_,V,""+Z,ze);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return V=V.get(Z.key===null?U:Z.key)||null,D(_,V,Z,ze);case S:return V=V.get(Z.key===null?U:Z.key)||null,P(_,V,Z,ze);case I:return Z=Ko(Z),Y(V,_,U,Z,ze)}if(G(Z)||ue(Z))return V=V.get(U)||null,W(_,V,Z,ze,null);if(typeof Z.then=="function")return Y(V,_,U,Qc(Z),ze);if(Z.$$typeof===A)return Y(V,_,U,Yc(_,Z),ze);Zc(_,Z)}return null}function we(V,_,U,Z){for(var ze=null,ot=null,ke=_,$e=_=0,nt=null;ke!==null&&$e<U.length;$e++){ke.index>$e?(nt=ke,ke=null):nt=ke.sibling;var st=$(V,ke,U[$e],Z);if(st===null){ke===null&&(ke=nt);break}i&&ke&&st.alternate===null&&s(V,ke),_=y(st,_,$e),ot===null?ze=st:ot.sibling=st,ot=st,ke=nt}if($e===U.length)return c(V,ke),rt&&ti(V,$e),ze;if(ke===null){for(;$e<U.length;$e++)ke=te(V,U[$e],Z),ke!==null&&(_=y(ke,_,$e),ot===null?ze=ke:ot.sibling=ke,ot=ke);return rt&&ti(V,$e),ze}for(ke=f(ke);$e<U.length;$e++)nt=Y(ke,V,$e,U[$e],Z),nt!==null&&(i&&nt.alternate!==null&&ke.delete(nt.key===null?$e:nt.key),_=y(nt,_,$e),ot===null?ze=nt:ot.sibling=nt,ot=nt);return i&&ke.forEach(function(eo){return s(V,eo)}),rt&&ti(V,$e),ze}function Ie(V,_,U,Z){if(U==null)throw Error(r(151));for(var ze=null,ot=null,ke=_,$e=_=0,nt=null,st=U.next();ke!==null&&!st.done;$e++,st=U.next()){ke.index>$e?(nt=ke,ke=null):nt=ke.sibling;var eo=$(V,ke,st.value,Z);if(eo===null){ke===null&&(ke=nt);break}i&&ke&&eo.alternate===null&&s(V,ke),_=y(eo,_,$e),ot===null?ze=eo:ot.sibling=eo,ot=eo,ke=nt}if(st.done)return c(V,ke),rt&&ti(V,$e),ze;if(ke===null){for(;!st.done;$e++,st=U.next())st=te(V,st.value,Z),st!==null&&(_=y(st,_,$e),ot===null?ze=st:ot.sibling=st,ot=st);return rt&&ti(V,$e),ze}for(ke=f(ke);!st.done;$e++,st=U.next())st=Y(ke,V,$e,st.value,Z),st!==null&&(i&&st.alternate!==null&&ke.delete(st.key===null?$e:st.key),_=y(st,_,$e),ot===null?ze=st:ot.sibling=st,ot=st);return i&&ke.forEach(function(aO){return s(V,aO)}),rt&&ti(V,$e),ze}function mt(V,_,U,Z){if(typeof U=="object"&&U!==null&&U.type===E&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case v:e:{for(var ze=U.key;_!==null;){if(_.key===ze){if(ze=U.type,ze===E){if(_.tag===7){c(V,_.sibling),Z=m(_,U.props.children),Z.return=V,V=Z;break e}}else if(_.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===I&&Ko(ze)===_.type){c(V,_.sibling),Z=m(_,U.props),aa(Z,U),Z.return=V,V=Z;break e}c(V,_);break}else s(V,_);_=_.sibling}U.type===E?(Z=Po(U.props.children,V.mode,Z,U.key),Z.return=V,V=Z):(Z=$c(U.type,U.key,U.props,null,V.mode,Z),aa(Z,U),Z.return=V,V=Z)}return x(V);case S:e:{for(ze=U.key;_!==null;){if(_.key===ze)if(_.tag===4&&_.stateNode.containerInfo===U.containerInfo&&_.stateNode.implementation===U.implementation){c(V,_.sibling),Z=m(_,U.children||[]),Z.return=V,V=Z;break e}else{c(V,_);break}else s(V,_);_=_.sibling}Z=Dh(U,V.mode,Z),Z.return=V,V=Z}return x(V);case I:return U=Ko(U),mt(V,_,U,Z)}if(G(U))return we(V,_,U,Z);if(ue(U)){if(ze=ue(U),typeof ze!="function")throw Error(r(150));return U=ze.call(U),Ie(V,_,U,Z)}if(typeof U.then=="function")return mt(V,_,Qc(U),Z);if(U.$$typeof===A)return mt(V,_,Yc(V,U),Z);Zc(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,_!==null&&_.tag===6?(c(V,_.sibling),Z=m(_,U),Z.return=V,V=Z):(c(V,_),Z=Nh(U,V.mode,Z),Z.return=V,V=Z),x(V)):c(V,_)}return function(V,_,U,Z){try{la=0;var ze=mt(V,_,U,Z);return Ks=null,ze}catch(ke){if(ke===Gs||ke===Wc)throw ke;var ot=Wn(29,ke,null,V.mode);return ot.lanes=Z,ot.return=V,ot}}}var Xo=d0(!0),h0=d0(!1),Ii=!1;function Fh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $h(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Hi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Vi(i,s,c){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(at&2)!==0){var m=f.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),f.pending=s,s=Fc(i),Wb(i,null,c),s}return qc(i,f,s,c),Fc(i)}function ca(i,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var f=s.lanes;f&=i.pendingLanes,c|=f,s.lanes=c,Xr(i,c)}}function Gh(i,s){var c=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var m=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var x={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?m=y=x:y=y.next=x,c=c.next}while(c!==null);y===null?m=y=s:y=y.next=s}else m=y=s;c={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=s}var Kh=!1;function ua(){if(Kh){var i=$s;if(i!==null)throw i}}function fa(i,s,c,f){Kh=!1;var m=i.updateQueue;Ii=!1;var y=m.firstBaseUpdate,x=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var D=C,P=D.next;D.next=null,x===null?y=P:x.next=P,x=D;var W=i.alternate;W!==null&&(W=W.updateQueue,C=W.lastBaseUpdate,C!==x&&(C===null?W.firstBaseUpdate=P:C.next=P,W.lastBaseUpdate=D))}if(y!==null){var te=m.baseState;x=0,W=P=D=null,C=y;do{var $=C.lane&-536870913,Y=$!==C.lane;if(Y?(tt&$)===$:(f&$)===$){$!==0&&$===Fs&&(Kh=!0),W!==null&&(W=W.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var we=i,Ie=C;$=s;var mt=c;switch(Ie.tag){case 1:if(we=Ie.payload,typeof we=="function"){te=we.call(mt,te,$);break e}te=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Ie.payload,$=typeof we=="function"?we.call(mt,te,$):we,$==null)break e;te=g({},te,$);break e;case 2:Ii=!0}}$=C.callback,$!==null&&(i.flags|=64,Y&&(i.flags|=8192),Y=m.callbacks,Y===null?m.callbacks=[$]:Y.push($))}else Y={lane:$,tag:C.tag,payload:C.payload,callback:C.callback,next:null},W===null?(P=W=Y,D=te):W=W.next=Y,x|=$;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;Y=C,C=Y.next,Y.next=null,m.lastBaseUpdate=Y,m.shared.pending=null}}while(!0);W===null&&(D=te),m.baseState=D,m.firstBaseUpdate=P,m.lastBaseUpdate=W,y===null&&(m.shared.lanes=0),Fi|=x,i.lanes=x,i.memoizedState=te}}function p0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function m0(i,s){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)p0(c[i],s)}var Ys=R(null),eu=R(0);function g0(i,s){i=di,j(eu,i),j(Ys,s),di=i|s.baseLanes}function Yh(){j(eu,di),j(Ys,Ys.current)}function Xh(){di=eu.current,F(Ys),F(eu)}var Jn=R(null),br=null;function ji(i){var s=i.alternate;j(Ut,Ut.current&1),j(Jn,i),br===null&&(s===null||Ys.current!==null||s.memoizedState!==null)&&(br=i)}function Wh(i){j(Ut,Ut.current),j(Jn,i),br===null&&(br=i)}function y0(i){i.tag===22?(j(Ut,Ut.current),j(Jn,i),br===null&&(br=i)):Ui()}function Ui(){j(Ut,Ut.current),j(Jn,Jn.current)}function Qn(i){F(Jn),br===i&&(br=null),F(Ut)}var Ut=R(0);function tu(i){for(var s=i;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||nm(c)||rm(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ii=0,Fe=null,ht=null,Gt=null,nu=!1,Xs=!1,Wo=!1,ru=0,da=0,Ws=null,Qk=0;function Lt(){throw Error(r(321))}function Jh(i,s){if(s===null)return!1;for(var c=0;c<s.length&&c<i.length;c++)if(!Xn(i[c],s[c]))return!1;return!0}function Qh(i,s,c,f,m,y){return ii=y,Fe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,L.H=i===null||i.memoizedState===null?ev:hp,Wo=!1,y=c(f,m),Wo=!1,Xs&&(y=v0(s,c,f,m)),b0(i),y}function b0(i){L.H=ma;var s=ht!==null&&ht.next!==null;if(ii=0,Gt=ht=Fe=null,nu=!1,da=0,Ws=null,s)throw Error(r(300));i===null||Kt||(i=i.dependencies,i!==null&&Kc(i)&&(Kt=!0))}function v0(i,s,c,f){Fe=i;var m=0;do{if(Xs&&(Ws=null),da=0,Xs=!1,25<=m)throw Error(r(301));if(m+=1,Gt=ht=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}L.H=tv,y=s(c,f)}while(Xs);return y}function Zk(){var i=L.H,s=i.useState()[0];return s=typeof s.then=="function"?ha(s):s,i=i.useState()[0],(ht!==null?ht.memoizedState:null)!==i&&(Fe.flags|=1024),s}function Zh(){var i=ru!==0;return ru=0,i}function ep(i,s,c){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~c}function tp(i){if(nu){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}nu=!1}ii=0,Gt=ht=Fe=null,Xs=!1,da=ru=0,Ws=null}function zn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Fe.memoizedState=Gt=i:Gt=Gt.next=i,Gt}function Pt(){if(ht===null){var i=Fe.alternate;i=i!==null?i.memoizedState:null}else i=ht.next;var s=Gt===null?Fe.memoizedState:Gt.next;if(s!==null)Gt=s,ht=i;else{if(i===null)throw Fe.alternate===null?Error(r(467)):Error(r(310));ht=i,i={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Gt===null?Fe.memoizedState=Gt=i:Gt=Gt.next=i}return Gt}function iu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ha(i){var s=da;return da+=1,Ws===null&&(Ws=[]),i=c0(Ws,i,s),s=Fe,(Gt===null?s.memoizedState:Gt.next)===null&&(s=s.alternate,L.H=s===null||s.memoizedState===null?ev:hp),i}function ou(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ha(i);if(i.$$typeof===A)return mn(i)}throw Error(r(438,String(i)))}function np(i){var s=null,c=Fe.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var f=Fe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=iu(),Fe.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(i),f=0;f<i;f++)c[f]=se;return s.index++,c}function oi(i,s){return typeof s=="function"?s(i):s}function su(i){var s=Pt();return rp(s,ht,i)}function rp(i,s,c){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=c;var m=i.baseQueue,y=f.pending;if(y!==null){if(m!==null){var x=m.next;m.next=y.next,y.next=x}s.baseQueue=m=y,f.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{s=m.next;var C=x=null,D=null,P=s,W=!1;do{var te=P.lane&-536870913;if(te!==P.lane?(tt&te)===te:(ii&te)===te){var $=P.revertLane;if($===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),te===Fs&&(W=!0);else if((ii&$)===$){P=P.next,$===Fs&&(W=!0);continue}else te={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(C=D=te,x=y):D=D.next=te,Fe.lanes|=$,Fi|=$;te=P.action,Wo&&c(y,te),y=P.hasEagerState?P.eagerState:c(y,te)}else $={lane:te,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(C=D=$,x=y):D=D.next=$,Fe.lanes|=te,Fi|=te;P=P.next}while(P!==null&&P!==s);if(D===null?x=y:D.next=C,!Xn(y,i.memoizedState)&&(Kt=!0,W&&(c=$s,c!==null)))throw c;i.memoizedState=y,i.baseState=x,i.baseQueue=D,f.lastRenderedState=y}return m===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function ip(i){var s=Pt(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var f=c.dispatch,m=c.pending,y=s.memoizedState;if(m!==null){c.pending=null;var x=m=m.next;do y=i(y,x.action),x=x.next;while(x!==m);Xn(y,s.memoizedState)||(Kt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),c.lastRenderedState=y}return[y,f]}function S0(i,s,c){var f=Fe,m=Pt(),y=rt;if(y){if(c===void 0)throw Error(r(407));c=c()}else c=s();var x=!Xn((ht||m).memoizedState,c);if(x&&(m.memoizedState=c,Kt=!0),m=m.queue,lp(T0.bind(null,f,m,i),[i]),m.getSnapshot!==s||x||Gt!==null&&Gt.memoizedState.tag&1){if(f.flags|=2048,Js(9,{destroy:void 0},E0.bind(null,f,m,c,s),null),gt===null)throw Error(r(349));y||(ii&127)!==0||x0(f,s,c)}return c}function x0(i,s,c){i.flags|=16384,i={getSnapshot:s,value:c},s=Fe.updateQueue,s===null?(s=iu(),Fe.updateQueue=s,s.stores=[i]):(c=s.stores,c===null?s.stores=[i]:c.push(i))}function E0(i,s,c,f){s.value=c,s.getSnapshot=f,w0(s)&&C0(i)}function T0(i,s,c){return c(function(){w0(s)&&C0(i)})}function w0(i){var s=i.getSnapshot;i=i.value;try{var c=s();return!Xn(i,c)}catch{return!0}}function C0(i){var s=Uo(i,2);s!==null&&$n(s,i,2)}function op(i){var s=zn();if(typeof i=="function"){var c=i;if(i=c(),Wo){fn(!0);try{c()}finally{fn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:i},s}function M0(i,s,c,f){return i.baseState=c,rp(i,ht,typeof f=="function"?f:oi)}function eA(i,s,c,f,m){if(cu(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};L.T!==null?c(!0):y.isTransition=!1,f(y),c=s.pending,c===null?(y.next=s.pending=y,k0(s,y)):(y.next=c.next,s.pending=c.next=y)}}function k0(i,s){var c=s.action,f=s.payload,m=i.state;if(s.isTransition){var y=L.T,x={};L.T=x;try{var C=c(m,f),D=L.S;D!==null&&D(x,C),A0(i,s,C)}catch(P){sp(i,s,P)}finally{y!==null&&x.types!==null&&(y.types=x.types),L.T=y}}else try{y=c(m,f),A0(i,s,y)}catch(P){sp(i,s,P)}}function A0(i,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){O0(i,s,f)},function(f){return sp(i,s,f)}):O0(i,s,c)}function O0(i,s,c){s.status="fulfilled",s.value=c,R0(s),i.state=c,s=i.pending,s!==null&&(c=s.next,c===s?i.pending=null:(c=c.next,s.next=c,k0(i,c)))}function sp(i,s,c){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=c,R0(s),s=s.next;while(s!==f)}i.action=null}function R0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function N0(i,s){return s}function D0(i,s){if(rt){var c=gt.formState;if(c!==null){e:{var f=Fe;if(rt){if(St){t:{for(var m=St,y=yr;m.nodeType!==8;){if(!y){m=null;break t}if(m=vr(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){St=vr(m.nextSibling),f=m.data==="F!";break e}}Bi(f)}f=!1}f&&(s=c[0])}}return c=zn(),c.memoizedState=c.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:N0,lastRenderedState:s},c.queue=f,c=J0.bind(null,Fe,f),f.dispatch=c,f=op(!1),y=dp.bind(null,Fe,!1,f.queue),f=zn(),m={state:s,dispatch:null,action:i,pending:null},f.queue=m,c=eA.bind(null,Fe,m,y,c),m.dispatch=c,f.memoizedState=i,[s,c,!1]}function z0(i){var s=Pt();return L0(s,ht,i)}function L0(i,s,c){if(s=rp(i,s,N0)[0],i=su(oi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=ha(s)}catch(x){throw x===Gs?Wc:x}else f=s;s=Pt();var m=s.queue,y=m.dispatch;return c!==s.memoizedState&&(Fe.flags|=2048,Js(9,{destroy:void 0},tA.bind(null,m,c),null)),[f,y,i]}function tA(i,s){i.action=s}function B0(i){var s=Pt(),c=ht;if(c!==null)return L0(s,c,i);Pt(),s=s.memoizedState,c=Pt();var f=c.queue.dispatch;return c.memoizedState=i,[s,f,!1]}function Js(i,s,c,f){return i={tag:i,create:c,deps:f,inst:s,next:null},s=Fe.updateQueue,s===null&&(s=iu(),Fe.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=i.next=i:(f=c.next,c.next=i,i.next=f,s.lastEffect=i),i}function _0(){return Pt().memoizedState}function lu(i,s,c,f){var m=zn();Fe.flags|=i,m.memoizedState=Js(1|s,{destroy:void 0},c,f===void 0?null:f)}function au(i,s,c,f){var m=Pt();f=f===void 0?null:f;var y=m.memoizedState.inst;ht!==null&&f!==null&&Jh(f,ht.memoizedState.deps)?m.memoizedState=Js(s,y,c,f):(Fe.flags|=i,m.memoizedState=Js(1|s,y,c,f))}function I0(i,s){lu(8390656,8,i,s)}function lp(i,s){au(2048,8,i,s)}function nA(i){Fe.flags|=4;var s=Fe.updateQueue;if(s===null)s=iu(),Fe.updateQueue=s,s.events=[i];else{var c=s.events;c===null?s.events=[i]:c.push(i)}}function H0(i){var s=Pt().memoizedState;return nA({ref:s,nextImpl:i}),function(){if((at&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function V0(i,s){return au(4,2,i,s)}function j0(i,s){return au(4,4,i,s)}function U0(i,s){if(typeof s=="function"){i=i();var c=s(i);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function P0(i,s,c){c=c!=null?c.concat([i]):null,au(4,4,U0.bind(null,s,i),c)}function ap(){}function q0(i,s){var c=Pt();s=s===void 0?null:s;var f=c.memoizedState;return s!==null&&Jh(s,f[1])?f[0]:(c.memoizedState=[i,s],i)}function F0(i,s){var c=Pt();s=s===void 0?null:s;var f=c.memoizedState;if(s!==null&&Jh(s,f[1]))return f[0];if(f=i(),Wo){fn(!0);try{i()}finally{fn(!1)}}return c.memoizedState=[f,s],f}function cp(i,s,c){return c===void 0||(ii&1073741824)!==0&&(tt&261930)===0?i.memoizedState=s:(i.memoizedState=c,i=$v(),Fe.lanes|=i,Fi|=i,c)}function $0(i,s,c,f){return Xn(c,s)?c:Ys.current!==null?(i=cp(i,c,f),Xn(i,s)||(Kt=!0),i):(ii&42)===0||(ii&1073741824)!==0&&(tt&261930)===0?(Kt=!0,i.memoizedState=c):(i=$v(),Fe.lanes|=i,Fi|=i,s)}function G0(i,s,c,f,m){var y=q.p;q.p=y!==0&&8>y?y:8;var x=L.T,C={};L.T=C,dp(i,!1,s,c);try{var D=m(),P=L.S;if(P!==null&&P(C,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=Jk(D,f);pa(i,s,W,tr(i))}else pa(i,s,f,tr(i))}catch(te){pa(i,s,{then:function(){},status:"rejected",reason:te},tr())}finally{q.p=y,x!==null&&C.types!==null&&(x.types=C.types),L.T=x}}function rA(){}function up(i,s,c,f){if(i.tag!==5)throw Error(r(476));var m=K0(i).queue;G0(i,m,s,B,c===null?rA:function(){return Y0(i),c(f)})}function K0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:B},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:c},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Y0(i){var s=K0(i);s.next===null&&(s=i.alternate.memoizedState),pa(i,s.next.queue,{},tr())}function fp(){return mn(Na)}function X0(){return Pt().memoizedState}function W0(){return Pt().memoizedState}function iA(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var c=tr();i=Hi(c);var f=Vi(s,i,c);f!==null&&($n(f,s,c),ca(f,s,c)),s={cache:jh()},i.payload=s;return}s=s.return}}function oA(i,s,c){var f=tr();c={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},cu(i)?Q0(s,c):(c=Oh(i,s,c,f),c!==null&&($n(c,i,f),Z0(c,s,f)))}function J0(i,s,c){var f=tr();pa(i,s,c,f)}function pa(i,s,c,f){var m={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(cu(i))Q0(s,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var x=s.lastRenderedState,C=y(x,c);if(m.hasEagerState=!0,m.eagerState=C,Xn(C,x))return qc(i,s,m,0),gt===null&&Pc(),!1}catch{}if(c=Oh(i,s,m,f),c!==null)return $n(c,i,f),Z0(c,s,f),!0}return!1}function dp(i,s,c,f){if(f={lane:2,revertLane:Fp(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},cu(i)){if(s)throw Error(r(479))}else s=Oh(i,c,f,2),s!==null&&$n(s,i,2)}function cu(i){var s=i.alternate;return i===Fe||s!==null&&s===Fe}function Q0(i,s){Xs=nu=!0;var c=i.pending;c===null?s.next=s:(s.next=c.next,c.next=s),i.pending=s}function Z0(i,s,c){if((c&4194048)!==0){var f=s.lanes;f&=i.pendingLanes,c|=f,s.lanes=c,Xr(i,c)}}var ma={readContext:mn,use:ou,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};ma.useEffectEvent=Lt;var ev={readContext:mn,use:ou,useCallback:function(i,s){return zn().memoizedState=[i,s===void 0?null:s],i},useContext:mn,useEffect:I0,useImperativeHandle:function(i,s,c){c=c!=null?c.concat([i]):null,lu(4194308,4,U0.bind(null,s,i),c)},useLayoutEffect:function(i,s){return lu(4194308,4,i,s)},useInsertionEffect:function(i,s){lu(4,2,i,s)},useMemo:function(i,s){var c=zn();s=s===void 0?null:s;var f=i();if(Wo){fn(!0);try{i()}finally{fn(!1)}}return c.memoizedState=[f,s],f},useReducer:function(i,s,c){var f=zn();if(c!==void 0){var m=c(s);if(Wo){fn(!0);try{c(s)}finally{fn(!1)}}}else m=s;return f.memoizedState=f.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},f.queue=i,i=i.dispatch=oA.bind(null,Fe,i),[f.memoizedState,i]},useRef:function(i){var s=zn();return i={current:i},s.memoizedState=i},useState:function(i){i=op(i);var s=i.queue,c=J0.bind(null,Fe,s);return s.dispatch=c,[i.memoizedState,c]},useDebugValue:ap,useDeferredValue:function(i,s){var c=zn();return cp(c,i,s)},useTransition:function(){var i=op(!1);return i=G0.bind(null,Fe,i.queue,!0,!1),zn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,c){var f=Fe,m=zn();if(rt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),gt===null)throw Error(r(349));(tt&127)!==0||x0(f,s,c)}m.memoizedState=c;var y={value:c,getSnapshot:s};return m.queue=y,I0(T0.bind(null,f,y,i),[i]),f.flags|=2048,Js(9,{destroy:void 0},E0.bind(null,f,y,c,s),null),c},useId:function(){var i=zn(),s=gt.identifierPrefix;if(rt){var c=_r,f=Br;c=(f&~(1<<32-jt(f)-1)).toString(32)+c,s="_"+s+"R_"+c,c=ru++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=Qk++,s="_"+s+"r_"+c.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:fp,useFormState:D0,useActionState:D0,useOptimistic:function(i){var s=zn();s.memoizedState=s.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=dp.bind(null,Fe,!0,c),c.dispatch=s,[i,s]},useMemoCache:np,useCacheRefresh:function(){return zn().memoizedState=iA.bind(null,Fe)},useEffectEvent:function(i){var s=zn(),c={impl:i};return s.memoizedState=c,function(){if((at&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},hp={readContext:mn,use:ou,useCallback:q0,useContext:mn,useEffect:lp,useImperativeHandle:P0,useInsertionEffect:V0,useLayoutEffect:j0,useMemo:F0,useReducer:su,useRef:_0,useState:function(){return su(oi)},useDebugValue:ap,useDeferredValue:function(i,s){var c=Pt();return $0(c,ht.memoizedState,i,s)},useTransition:function(){var i=su(oi)[0],s=Pt().memoizedState;return[typeof i=="boolean"?i:ha(i),s]},useSyncExternalStore:S0,useId:X0,useHostTransitionStatus:fp,useFormState:z0,useActionState:z0,useOptimistic:function(i,s){var c=Pt();return M0(c,ht,i,s)},useMemoCache:np,useCacheRefresh:W0};hp.useEffectEvent=H0;var tv={readContext:mn,use:ou,useCallback:q0,useContext:mn,useEffect:lp,useImperativeHandle:P0,useInsertionEffect:V0,useLayoutEffect:j0,useMemo:F0,useReducer:ip,useRef:_0,useState:function(){return ip(oi)},useDebugValue:ap,useDeferredValue:function(i,s){var c=Pt();return ht===null?cp(c,i,s):$0(c,ht.memoizedState,i,s)},useTransition:function(){var i=ip(oi)[0],s=Pt().memoizedState;return[typeof i=="boolean"?i:ha(i),s]},useSyncExternalStore:S0,useId:X0,useHostTransitionStatus:fp,useFormState:B0,useActionState:B0,useOptimistic:function(i,s){var c=Pt();return ht!==null?M0(c,ht,i,s):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:np,useCacheRefresh:W0};tv.useEffectEvent=H0;function pp(i,s,c,f){s=i.memoizedState,c=c(f,s),c=c==null?s:g({},s,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var mp={enqueueSetState:function(i,s,c){i=i._reactInternals;var f=tr(),m=Hi(f);m.payload=s,c!=null&&(m.callback=c),s=Vi(i,m,f),s!==null&&($n(s,i,f),ca(s,i,f))},enqueueReplaceState:function(i,s,c){i=i._reactInternals;var f=tr(),m=Hi(f);m.tag=1,m.payload=s,c!=null&&(m.callback=c),s=Vi(i,m,f),s!==null&&($n(s,i,f),ca(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var c=tr(),f=Hi(c);f.tag=2,s!=null&&(f.callback=s),s=Vi(i,f,c),s!==null&&($n(s,i,c),ca(s,i,c))}};function nv(i,s,c,f,m,y,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,y,x):s.prototype&&s.prototype.isPureReactComponent?!ta(c,f)||!ta(m,y):!0}function rv(i,s,c,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,f),s.state!==i&&mp.enqueueReplaceState(s,s.state,null)}function Jo(i,s){var c=s;if("ref"in s){c={};for(var f in s)f!=="ref"&&(c[f]=s[f])}if(i=i.defaultProps){c===s&&(c=g({},c));for(var m in i)c[m]===void 0&&(c[m]=i[m])}return c}function iv(i){Uc(i)}function ov(i){console.error(i)}function sv(i){Uc(i)}function uu(i,s){try{var c=i.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function lv(i,s,c){try{var f=i.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function gp(i,s,c){return c=Hi(c),c.tag=3,c.payload={element:null},c.callback=function(){uu(i,s)},c}function av(i){return i=Hi(i),i.tag=3,i}function cv(i,s,c,f){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var y=f.value;i.payload=function(){return m(y)},i.callback=function(){lv(s,c,f)}}var x=c.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){lv(s,c,f),typeof m!="function"&&($i===null?$i=new Set([this]):$i.add(this));var C=f.stack;this.componentDidCatch(f.value,{componentStack:C!==null?C:""})})}function sA(i,s,c,f,m){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=c.alternate,s!==null&&qs(s,c,m,!0),c=Jn.current,c!==null){switch(c.tag){case 31:case 13:return br===null?Eu():c.alternate===null&&Bt===0&&(Bt=3),c.flags&=-257,c.flags|=65536,c.lanes=m,f===Jc?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([f]):s.add(f),Up(i,f,m)),!1;case 22:return c.flags|=65536,f===Jc?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([f]):c.add(f)),Up(i,f,m)),!1}throw Error(r(435,c.tag))}return Up(i,f,m),Eu(),!1}if(rt)return s=Jn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,f!==Bh&&(i=Error(r(422),{cause:f}),ia(pr(i,c)))):(f!==Bh&&(s=Error(r(423),{cause:f}),ia(pr(s,c))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,f=pr(f,c),m=gp(i.stateNode,f,m),Gh(i,m),Bt!==4&&(Bt=2)),!1;var y=Error(r(520),{cause:f});if(y=pr(y,c),Ta===null?Ta=[y]:Ta.push(y),Bt!==4&&(Bt=2),s===null)return!0;f=pr(f,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,i=m&-m,c.lanes|=i,i=gp(c.stateNode,f,i),Gh(c,i),!1;case 1:if(s=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&($i===null||!$i.has(y))))return c.flags|=65536,m&=-m,c.lanes|=m,m=av(m),cv(m,i,c,f),Gh(c,m),!1}c=c.return}while(c!==null);return!1}var yp=Error(r(461)),Kt=!1;function gn(i,s,c,f){s.child=i===null?h0(s,null,c,f):Xo(s,i.child,c,f)}function uv(i,s,c,f,m){c=c.render;var y=s.ref;if("ref"in f){var x={};for(var C in f)C!=="ref"&&(x[C]=f[C])}else x=f;return $o(s),f=Qh(i,s,c,x,y,m),C=Zh(),i!==null&&!Kt?(ep(i,s,m),si(i,s,m)):(rt&&C&&zh(s),s.flags|=1,gn(i,s,f,m),s.child)}function fv(i,s,c,f,m){if(i===null){var y=c.type;return typeof y=="function"&&!Rh(y)&&y.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=y,dv(i,s,y,f,m)):(i=$c(c.type,null,f,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!Cp(i,m)){var x=y.memoizedProps;if(c=c.compare,c=c!==null?c:ta,c(x,f)&&i.ref===s.ref)return si(i,s,m)}return s.flags|=1,i=ei(y,f),i.ref=s.ref,i.return=s,s.child=i}function dv(i,s,c,f,m){if(i!==null){var y=i.memoizedProps;if(ta(y,f)&&i.ref===s.ref)if(Kt=!1,s.pendingProps=f=y,Cp(i,m))(i.flags&131072)!==0&&(Kt=!0);else return s.lanes=i.lanes,si(i,s,m)}return bp(i,s,c,f,m)}function hv(i,s,c,f){var m=f.children,y=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|c:c,i!==null){for(f=s.child=i.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;f=m&~y}else f=0,s.child=null;return pv(i,s,y,c,f)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Xc(s,y!==null?y.cachePool:null),y!==null?g0(s,y):Yh(),y0(s);else return f=s.lanes=536870912,pv(i,s,y!==null?y.baseLanes|c:c,c,f)}else y!==null?(Xc(s,y.cachePool),g0(s,y),Ui(),s.memoizedState=null):(i!==null&&Xc(s,null),Yh(),Ui());return gn(i,s,m,c),s.child}function ga(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function pv(i,s,c,f,m){var y=Ph();return y=y===null?null:{parent:$t._currentValue,pool:y},s.memoizedState={baseLanes:c,cachePool:y},i!==null&&Xc(s,null),Yh(),y0(s),i!==null&&qs(i,s,f,!0),s.childLanes=m,null}function fu(i,s){return s=hu({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function mv(i,s,c){return Xo(s,i.child,null,c),i=fu(s,s.pendingProps),i.flags|=2,Qn(s),s.memoizedState=null,i}function lA(i,s,c){var f=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(rt){if(f.mode==="hidden")return i=fu(s,f),s.lanes=536870912,ga(null,i);if(Wh(s),(i=St)?(i=k1(i,yr),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:zi!==null?{id:Br,overflow:_r}:null,retryLane:536870912,hydrationErrors:null},c=Qb(i),c.return=s,s.child=c,pn=s,St=null)):i=null,i===null)throw Bi(s);return s.lanes=536870912,null}return fu(s,f)}var y=i.memoizedState;if(y!==null){var x=y.dehydrated;if(Wh(s),m)if(s.flags&256)s.flags&=-257,s=mv(i,s,c);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Kt||qs(i,s,c,!1),m=(c&i.childLanes)!==0,Kt||m){if(f=gt,f!==null&&(x=Fl(f,c),x!==0&&x!==y.retryLane))throw y.retryLane=x,Uo(i,x),$n(f,i,x),yp;Eu(),s=mv(i,s,c)}else i=y.treeContext,St=vr(x.nextSibling),pn=s,rt=!0,Li=null,yr=!1,i!==null&&t0(s,i),s=fu(s,f),s.flags|=4096;return s}return i=ei(i.child,{mode:f.mode,children:f.children}),i.ref=s.ref,s.child=i,i.return=s,i}function du(i,s){var c=s.ref;if(c===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(s.flags|=4194816)}}function bp(i,s,c,f,m){return $o(s),c=Qh(i,s,c,f,void 0,m),f=Zh(),i!==null&&!Kt?(ep(i,s,m),si(i,s,m)):(rt&&f&&zh(s),s.flags|=1,gn(i,s,c,m),s.child)}function gv(i,s,c,f,m,y){return $o(s),s.updateQueue=null,c=v0(s,f,c,m),b0(i),f=Zh(),i!==null&&!Kt?(ep(i,s,y),si(i,s,y)):(rt&&f&&zh(s),s.flags|=1,gn(i,s,c,y),s.child)}function yv(i,s,c,f,m){if($o(s),s.stateNode===null){var y=Vs,x=c.contextType;typeof x=="object"&&x!==null&&(y=mn(x)),y=new c(f,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=mp,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=f,y.state=s.memoizedState,y.refs={},Fh(s),x=c.contextType,y.context=typeof x=="object"&&x!==null?mn(x):Vs,y.state=s.memoizedState,x=c.getDerivedStateFromProps,typeof x=="function"&&(pp(s,c,x,f),y.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&mp.enqueueReplaceState(y,y.state,null),fa(s,f,y,m),ua(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(i===null){y=s.stateNode;var C=s.memoizedProps,D=Jo(c,C);y.props=D;var P=y.context,W=c.contextType;x=Vs,typeof W=="object"&&W!==null&&(x=mn(W));var te=c.getDerivedStateFromProps;W=typeof te=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,W||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||P!==x)&&rv(s,y,f,x),Ii=!1;var $=s.memoizedState;y.state=$,fa(s,f,y,m),ua(),P=s.memoizedState,C||$!==P||Ii?(typeof te=="function"&&(pp(s,c,te,f),P=s.memoizedState),(D=Ii||nv(s,c,D,f,$,P,x))?(W||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=P),y.props=f,y.state=P,y.context=x,f=D):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{y=s.stateNode,$h(i,s),x=s.memoizedProps,W=Jo(c,x),y.props=W,te=s.pendingProps,$=y.context,P=c.contextType,D=Vs,typeof P=="object"&&P!==null&&(D=mn(P)),C=c.getDerivedStateFromProps,(P=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==te||$!==D)&&rv(s,y,f,D),Ii=!1,$=s.memoizedState,y.state=$,fa(s,f,y,m),ua();var Y=s.memoizedState;x!==te||$!==Y||Ii||i!==null&&i.dependencies!==null&&Kc(i.dependencies)?(typeof C=="function"&&(pp(s,c,C,f),Y=s.memoizedState),(W=Ii||nv(s,c,W,f,$,Y,D)||i!==null&&i.dependencies!==null&&Kc(i.dependencies))?(P||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,Y,D),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,Y,D)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=Y),y.props=f,y.state=Y,y.context=D,f=W):(typeof y.componentDidUpdate!="function"||x===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),f=!1)}return y=f,du(i,s),f=(s.flags&128)!==0,y||f?(y=s.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&f?(s.child=Xo(s,i.child,null,m),s.child=Xo(s,null,c,m)):gn(i,s,c,m),s.memoizedState=y.state,i=s.child):i=si(i,s,m),i}function bv(i,s,c,f){return qo(),s.flags|=256,gn(i,s,c,f),s.child}var vp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sp(i){return{baseLanes:i,cachePool:l0()}}function xp(i,s,c){return i=i!==null?i.childLanes&~c:0,s&&(i|=er),i}function vv(i,s,c){var f=s.pendingProps,m=!1,y=(s.flags&128)!==0,x;if((x=y)||(x=i!==null&&i.memoizedState===null?!1:(Ut.current&2)!==0),x&&(m=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,i===null){if(rt){if(m?ji(s):Ui(),(i=St)?(i=k1(i,yr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:zi!==null?{id:Br,overflow:_r}:null,retryLane:536870912,hydrationErrors:null},c=Qb(i),c.return=s,s.child=c,pn=s,St=null)):i=null,i===null)throw Bi(s);return rm(i)?s.lanes=32:s.lanes=536870912,null}var C=f.children;return f=f.fallback,m?(Ui(),m=s.mode,C=hu({mode:"hidden",children:C},m),f=Po(f,m,c,null),C.return=s,f.return=s,C.sibling=f,s.child=C,f=s.child,f.memoizedState=Sp(c),f.childLanes=xp(i,x,c),s.memoizedState=vp,ga(null,f)):(ji(s),Ep(s,C))}var D=i.memoizedState;if(D!==null&&(C=D.dehydrated,C!==null)){if(y)s.flags&256?(ji(s),s.flags&=-257,s=Tp(i,s,c)):s.memoizedState!==null?(Ui(),s.child=i.child,s.flags|=128,s=null):(Ui(),C=f.fallback,m=s.mode,f=hu({mode:"visible",children:f.children},m),C=Po(C,m,c,null),C.flags|=2,f.return=s,C.return=s,f.sibling=C,s.child=f,Xo(s,i.child,null,c),f=s.child,f.memoizedState=Sp(c),f.childLanes=xp(i,x,c),s.memoizedState=vp,s=ga(null,f));else if(ji(s),rm(C)){if(x=C.nextSibling&&C.nextSibling.dataset,x)var P=x.dgst;x=P,f=Error(r(419)),f.stack="",f.digest=x,ia({value:f,source:null,stack:null}),s=Tp(i,s,c)}else if(Kt||qs(i,s,c,!1),x=(c&i.childLanes)!==0,Kt||x){if(x=gt,x!==null&&(f=Fl(x,c),f!==0&&f!==D.retryLane))throw D.retryLane=f,Uo(i,f),$n(x,i,f),yp;nm(C)||Eu(),s=Tp(i,s,c)}else nm(C)?(s.flags|=192,s.child=i.child,s=null):(i=D.treeContext,St=vr(C.nextSibling),pn=s,rt=!0,Li=null,yr=!1,i!==null&&t0(s,i),s=Ep(s,f.children),s.flags|=4096);return s}return m?(Ui(),C=f.fallback,m=s.mode,D=i.child,P=D.sibling,f=ei(D,{mode:"hidden",children:f.children}),f.subtreeFlags=D.subtreeFlags&65011712,P!==null?C=ei(P,C):(C=Po(C,m,c,null),C.flags|=2),C.return=s,f.return=s,f.sibling=C,s.child=f,ga(null,f),f=s.child,C=i.child.memoizedState,C===null?C=Sp(c):(m=C.cachePool,m!==null?(D=$t._currentValue,m=m.parent!==D?{parent:D,pool:D}:m):m=l0(),C={baseLanes:C.baseLanes|c,cachePool:m}),f.memoizedState=C,f.childLanes=xp(i,x,c),s.memoizedState=vp,ga(i.child,f)):(ji(s),c=i.child,i=c.sibling,c=ei(c,{mode:"visible",children:f.children}),c.return=s,c.sibling=null,i!==null&&(x=s.deletions,x===null?(s.deletions=[i],s.flags|=16):x.push(i)),s.child=c,s.memoizedState=null,c)}function Ep(i,s){return s=hu({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function hu(i,s){return i=Wn(22,i,null,s),i.lanes=0,i}function Tp(i,s,c){return Xo(s,i.child,null,c),i=Ep(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Sv(i,s,c){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),Hh(i.return,s,c)}function wp(i,s,c,f,m,y){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:m,treeForkCount:y}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=c,x.tailMode=m,x.treeForkCount=y)}function xv(i,s,c){var f=s.pendingProps,m=f.revealOrder,y=f.tail;f=f.children;var x=Ut.current,C=(x&2)!==0;if(C?(x=x&1|2,s.flags|=128):x&=1,j(Ut,x),gn(i,s,f,c),f=rt?ra:0,!C&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Sv(i,c,s);else if(i.tag===19)Sv(i,c,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(c=s.child,m=null;c!==null;)i=c.alternate,i!==null&&tu(i)===null&&(m=c),c=c.sibling;c=m,c===null?(m=s.child,s.child=null):(m=c.sibling,c.sibling=null),wp(s,!1,m,c,y,f);break;case"backwards":case"unstable_legacy-backwards":for(c=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&tu(i)===null){s.child=m;break}i=m.sibling,m.sibling=c,c=m,m=i}wp(s,!0,c,null,y,f);break;case"together":wp(s,!1,null,null,void 0,f);break;default:s.memoizedState=null}return s.child}function si(i,s,c){if(i!==null&&(s.dependencies=i.dependencies),Fi|=s.lanes,(c&s.childLanes)===0)if(i!==null){if(qs(i,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,c=ei(i,i.pendingProps),s.child=c,c.return=s;i.sibling!==null;)i=i.sibling,c=c.sibling=ei(i,i.pendingProps),c.return=s;c.sibling=null}return s.child}function Cp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Kc(i)))}function aA(i,s,c){switch(s.tag){case 3:pe(s,s.stateNode.containerInfo),_i(s,$t,i.memoizedState.cache),qo();break;case 27:case 5:Ue(s);break;case 4:pe(s,s.stateNode.containerInfo);break;case 10:_i(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Wh(s),null;break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(ji(s),s.flags|=128,null):(c&s.child.childLanes)!==0?vv(i,s,c):(ji(s),i=si(i,s,c),i!==null?i.sibling:null);ji(s);break;case 19:var m=(i.flags&128)!==0;if(f=(c&s.childLanes)!==0,f||(qs(i,s,c,!1),f=(c&s.childLanes)!==0),m){if(f)return xv(i,s,c);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),j(Ut,Ut.current),f)break;return null;case 22:return s.lanes=0,hv(i,s,c,s.pendingProps);case 24:_i(s,$t,i.memoizedState.cache)}return si(i,s,c)}function Ev(i,s,c){if(i!==null)if(i.memoizedProps!==s.pendingProps)Kt=!0;else{if(!Cp(i,c)&&(s.flags&128)===0)return Kt=!1,aA(i,s,c);Kt=(i.flags&131072)!==0}else Kt=!1,rt&&(s.flags&1048576)!==0&&e0(s,ra,s.index);switch(s.lanes=0,s.tag){case 16:e:{var f=s.pendingProps;if(i=Ko(s.elementType),s.type=i,typeof i=="function")Rh(i)?(f=Jo(i,f),s.tag=1,s=yv(null,s,i,f,c)):(s.tag=0,s=bp(null,s,i,f,c));else{if(i!=null){var m=i.$$typeof;if(m===O){s.tag=11,s=uv(null,s,i,f,c);break e}else if(m===z){s.tag=14,s=fv(null,s,i,f,c);break e}}throw s=ee(i)||i,Error(r(306,s,""))}}return s;case 0:return bp(i,s,s.type,s.pendingProps,c);case 1:return f=s.type,m=Jo(f,s.pendingProps),yv(i,s,f,m,c);case 3:e:{if(pe(s,s.stateNode.containerInfo),i===null)throw Error(r(387));f=s.pendingProps;var y=s.memoizedState;m=y.element,$h(i,s),fa(s,f,null,c);var x=s.memoizedState;if(f=x.cache,_i(s,$t,f),f!==y.cache&&Vh(s,[$t],c,!0),ua(),f=x.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=bv(i,s,f,c);break e}else if(f!==m){m=pr(Error(r(424)),s),ia(m),s=bv(i,s,f,c);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,St=vr(i.firstChild),pn=s,rt=!0,Li=null,yr=!0,c=h0(s,null,f,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(qo(),f===m){s=si(i,s,c);break e}gn(i,s,f,c)}s=s.child}return s;case 26:return du(i,s),i===null?(c=z1(s.type,null,s.pendingProps,null))?s.memoizedState=c:rt||(c=s.type,i=s.pendingProps,f=Ou(ae.current).createElement(c),f[hn]=s,f[Vn]=i,yn(f,c,i),on(f),s.stateNode=f):s.memoizedState=z1(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ue(s),i===null&&rt&&(f=s.stateNode=R1(s.type,s.pendingProps,ae.current),pn=s,yr=!0,m=St,Xi(s.type)?(im=m,St=vr(f.firstChild)):St=m),gn(i,s,s.pendingProps.children,c),du(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&rt&&((m=f=St)&&(f=HA(f,s.type,s.pendingProps,yr),f!==null?(s.stateNode=f,pn=s,St=vr(f.firstChild),yr=!1,m=!0):m=!1),m||Bi(s)),Ue(s),m=s.type,y=s.pendingProps,x=i!==null?i.memoizedProps:null,f=y.children,Zp(m,y)?f=null:x!==null&&Zp(m,x)&&(s.flags|=32),s.memoizedState!==null&&(m=Qh(i,s,Zk,null,null,c),Na._currentValue=m),du(i,s),gn(i,s,f,c),s.child;case 6:return i===null&&rt&&((i=c=St)&&(c=VA(c,s.pendingProps,yr),c!==null?(s.stateNode=c,pn=s,St=null,i=!0):i=!1),i||Bi(s)),null;case 13:return vv(i,s,c);case 4:return pe(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=Xo(s,null,f,c):gn(i,s,f,c),s.child;case 11:return uv(i,s,s.type,s.pendingProps,c);case 7:return gn(i,s,s.pendingProps,c),s.child;case 8:return gn(i,s,s.pendingProps.children,c),s.child;case 12:return gn(i,s,s.pendingProps.children,c),s.child;case 10:return f=s.pendingProps,_i(s,s.type,f.value),gn(i,s,f.children,c),s.child;case 9:return m=s.type._context,f=s.pendingProps.children,$o(s),m=mn(m),f=f(m),s.flags|=1,gn(i,s,f,c),s.child;case 14:return fv(i,s,s.type,s.pendingProps,c);case 15:return dv(i,s,s.type,s.pendingProps,c);case 19:return xv(i,s,c);case 31:return lA(i,s,c);case 22:return hv(i,s,c,s.pendingProps);case 24:return $o(s),f=mn($t),i===null?(m=Ph(),m===null&&(m=gt,y=jh(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=c),m=y),s.memoizedState={parent:f,cache:m},Fh(s),_i(s,$t,m)):((i.lanes&c)!==0&&($h(i,s),fa(s,null,null,c),ua()),m=i.memoizedState,y=s.memoizedState,m.parent!==f?(m={parent:f,cache:f},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),_i(s,$t,f)):(f=y.cache,_i(s,$t,f),f!==m.cache&&Vh(s,[$t],c,!0))),gn(i,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function li(i){i.flags|=4}function Mp(i,s,c,f,m){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(Xv())i.flags|=8192;else throw Yo=Jc,qh}else i.flags&=-16777217}function Tv(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!H1(s))if(Xv())i.flags|=8192;else throw Yo=Jc,qh}function pu(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?et():536870912,i.lanes|=s,tl|=s)}function ya(i,s){if(!rt)switch(i.tailMode){case"hidden":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function xt(i){var s=i.alternate!==null&&i.alternate.child===i.child,c=0,f=0;if(s)for(var m=i.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags&65011712,f|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=c,s}function cA(i,s,c){var f=s.pendingProps;switch(Lh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(s),null;case 1:return xt(s),null;case 3:return c=s.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),ri($t),Ee(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Ps(s)?li(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,_h())),xt(s),null;case 26:var m=s.type,y=s.memoizedState;return i===null?(li(s),y!==null?(xt(s),Tv(s,y)):(xt(s),Mp(s,m,null,f,c))):y?y!==i.memoizedState?(li(s),xt(s),Tv(s,y)):(xt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==f&&li(s),xt(s),Mp(s,m,i,f,c)),null;case 27:if(ie(s),c=ae.current,m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&li(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return xt(s),null}i=Q.current,Ps(s)?n0(s):(i=R1(m,f,c),s.stateNode=i,li(s))}return xt(s),null;case 5:if(ie(s),m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&li(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return xt(s),null}if(y=Q.current,Ps(s))n0(s);else{var x=Ou(ae.current);switch(y){case 1:y=x.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=x.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=x.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof f.is=="string"?x.createElement("select",{is:f.is}):x.createElement("select"),f.multiple?y.multiple=!0:f.size&&(y.size=f.size);break;default:y=typeof f.is=="string"?x.createElement(m,{is:f.is}):x.createElement(m)}}y[hn]=s,y[Vn]=f;e:for(x=s.child;x!==null;){if(x.tag===5||x.tag===6)y.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===s)break e;for(;x.sibling===null;){if(x.return===null||x.return===s)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}s.stateNode=y;e:switch(yn(y,m,f),m){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&li(s)}}return xt(s),Mp(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,c),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==f&&li(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(i=ae.current,Ps(s)){if(i=s.stateNode,c=s.memoizedProps,f=null,m=pn,m!==null)switch(m.tag){case 27:case 5:f=m.memoizedProps}i[hn]=s,i=!!(i.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||v1(i.nodeValue,c)),i||Bi(s,!0)}else i=Ou(i).createTextNode(f),i[hn]=s,s.stateNode=i}return xt(s),null;case 31:if(c=s.memoizedState,i===null||i.memoizedState!==null){if(f=Ps(s),c!==null){if(i===null){if(!f)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[hn]=s}else qo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;xt(s),i=!1}else c=_h(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return s.flags&256?(Qn(s),s):(Qn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return xt(s),null;case 13:if(f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Ps(s),f!==null&&f.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[hn]=s}else qo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;xt(s),m=!1}else m=_h(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Qn(s),s):(Qn(s),null)}return Qn(s),(s.flags&128)!==0?(s.lanes=c,s):(c=f!==null,i=i!==null&&i.memoizedState!==null,c&&(f=s.child,m=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(m=f.alternate.memoizedState.cachePool.pool),y=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==m&&(f.flags|=2048)),c!==i&&c&&(s.child.flags|=8192),pu(s,s.updateQueue),xt(s),null);case 4:return Ee(),i===null&&Yp(s.stateNode.containerInfo),xt(s),null;case 10:return ri(s.type),xt(s),null;case 19:if(F(Ut),f=s.memoizedState,f===null)return xt(s),null;if(m=(s.flags&128)!==0,y=f.rendering,y===null)if(m)ya(f,!1);else{if(Bt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=tu(i),y!==null){for(s.flags|=128,ya(f,!1),i=y.updateQueue,s.updateQueue=i,pu(s,i),s.subtreeFlags=0,i=c,c=s.child;c!==null;)Jb(c,i),c=c.sibling;return j(Ut,Ut.current&1|2),rt&&ti(s,f.treeForkCount),s.child}i=i.sibling}f.tail!==null&&Se()>vu&&(s.flags|=128,m=!0,ya(f,!1),s.lanes=4194304)}else{if(!m)if(i=tu(y),i!==null){if(s.flags|=128,m=!0,i=i.updateQueue,s.updateQueue=i,pu(s,i),ya(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!rt)return xt(s),null}else 2*Se()-f.renderingStartTime>vu&&c!==536870912&&(s.flags|=128,m=!0,ya(f,!1),s.lanes=4194304);f.isBackwards?(y.sibling=s.child,s.child=y):(i=f.last,i!==null?i.sibling=y:s.child=y,f.last=y)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Se(),i.sibling=null,c=Ut.current,j(Ut,m?c&1|2:c&1),rt&&ti(s,f.treeForkCount),i):(xt(s),null);case 22:case 23:return Qn(s),Xh(),f=s.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(c&536870912)!==0&&(s.flags&128)===0&&(xt(s),s.subtreeFlags&6&&(s.flags|=8192)):xt(s),c=s.updateQueue,c!==null&&pu(s,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==c&&(s.flags|=2048),i!==null&&F(Go),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),ri($t),xt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function uA(i,s){switch(Lh(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ri($t),Ee(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return ie(s),null;case 31:if(s.memoizedState!==null){if(Qn(s),s.alternate===null)throw Error(r(340));qo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Qn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));qo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return F(Ut),null;case 4:return Ee(),null;case 10:return ri(s.type),null;case 22:case 23:return Qn(s),Xh(),i!==null&&F(Go),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ri($t),null;case 25:return null;default:return null}}function wv(i,s){switch(Lh(s),s.tag){case 3:ri($t),Ee();break;case 26:case 27:case 5:ie(s);break;case 4:Ee();break;case 31:s.memoizedState!==null&&Qn(s);break;case 13:Qn(s);break;case 19:F(Ut);break;case 10:ri(s.type);break;case 22:case 23:Qn(s),Xh(),i!==null&&F(Go);break;case 24:ri($t)}}function ba(i,s){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&i)===i){f=void 0;var y=c.create,x=c.inst;f=y(),x.destroy=f}c=c.next}while(c!==m)}}catch(C){ut(s,s.return,C)}}function Pi(i,s,c){try{var f=s.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var y=m.next;f=y;do{if((f.tag&i)===i){var x=f.inst,C=x.destroy;if(C!==void 0){x.destroy=void 0,m=s;var D=c,P=C;try{P()}catch(W){ut(m,D,W)}}}f=f.next}while(f!==y)}}catch(W){ut(s,s.return,W)}}function Cv(i){var s=i.updateQueue;if(s!==null){var c=i.stateNode;try{m0(s,c)}catch(f){ut(i,i.return,f)}}}function Mv(i,s,c){c.props=Jo(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(f){ut(i,s,f)}}function va(i,s){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof c=="function"?i.refCleanup=c(f):c.current=f}}catch(m){ut(i,s,m)}}function Ir(i,s){var c=i.ref,f=i.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(m){ut(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){ut(i,s,m)}else c.current=null}function kv(i){var s=i.type,c=i.memoizedProps,f=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(m){ut(i,i.return,m)}}function kp(i,s,c){try{var f=i.stateNode;DA(f,i.type,c,s),f[Vn]=s}catch(m){ut(i,i.return,m)}}function Av(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Xi(i.type)||i.tag===4}function Ap(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Av(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Xi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Op(i,s,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(i),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Qr));else if(f!==4&&(f===27&&Xi(i.type)&&(c=i.stateNode,s=null),i=i.child,i!==null))for(Op(i,s,c),i=i.sibling;i!==null;)Op(i,s,c),i=i.sibling}function mu(i,s,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?c.insertBefore(i,s):c.appendChild(i);else if(f!==4&&(f===27&&Xi(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(mu(i,s,c),i=i.sibling;i!==null;)mu(i,s,c),i=i.sibling}function Ov(i){var s=i.stateNode,c=i.memoizedProps;try{for(var f=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);yn(s,f,c),s[hn]=i,s[Vn]=c}catch(y){ut(i,i.return,y)}}var ai=!1,Yt=!1,Rp=!1,Rv=typeof WeakSet=="function"?WeakSet:Set,sn=null;function fA(i,s){if(i=i.containerInfo,Jp=_u,i=Pb(i),Th(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var m=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var x=0,C=-1,D=-1,P=0,W=0,te=i,$=null;t:for(;;){for(var Y;te!==c||m!==0&&te.nodeType!==3||(C=x+m),te!==y||f!==0&&te.nodeType!==3||(D=x+f),te.nodeType===3&&(x+=te.nodeValue.length),(Y=te.firstChild)!==null;)$=te,te=Y;for(;;){if(te===i)break t;if($===c&&++P===m&&(C=x),$===y&&++W===f&&(D=x),(Y=te.nextSibling)!==null)break;te=$,$=te.parentNode}te=Y}c=C===-1||D===-1?null:{start:C,end:D}}else c=null}c=c||{start:0,end:0}}else c=null;for(Qp={focusedElem:i,selectionRange:c},_u=!1,sn=s;sn!==null;)if(s=sn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,sn=i;else for(;sn!==null;){switch(s=sn,y=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)m=i[c],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,c=s,m=y.memoizedProps,y=y.memoizedState,f=c.stateNode;try{var we=Jo(c.type,m);i=f.getSnapshotBeforeUpdate(we,y),f.__reactInternalSnapshotBeforeUpdate=i}catch(Ie){ut(c,c.return,Ie)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,c=i.nodeType,c===9)tm(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":tm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,sn=i;break}sn=s.return}}function Nv(i,s,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:ui(i,c),f&4&&ba(5,c);break;case 1:if(ui(i,c),f&4)if(i=c.stateNode,s===null)try{i.componentDidMount()}catch(x){ut(c,c.return,x)}else{var m=Jo(c.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(x){ut(c,c.return,x)}}f&64&&Cv(c),f&512&&va(c,c.return);break;case 3:if(ui(i,c),f&64&&(i=c.updateQueue,i!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{m0(i,s)}catch(x){ut(c,c.return,x)}}break;case 27:s===null&&f&4&&Ov(c);case 26:case 5:ui(i,c),s===null&&f&4&&kv(c),f&512&&va(c,c.return);break;case 12:ui(i,c);break;case 31:ui(i,c),f&4&&Lv(i,c);break;case 13:ui(i,c),f&4&&Bv(i,c),f&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=SA.bind(null,c),jA(i,c))));break;case 22:if(f=c.memoizedState!==null||ai,!f){s=s!==null&&s.memoizedState!==null||Yt,m=ai;var y=Yt;ai=f,(Yt=s)&&!y?fi(i,c,(c.subtreeFlags&8772)!==0):ui(i,c),ai=m,Yt=y}break;case 30:break;default:ui(i,c)}}function Dv(i){var s=i.alternate;s!==null&&(i.alternate=null,Dv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&sh(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var wt=null,Un=!1;function ci(i,s,c){for(c=c.child;c!==null;)zv(i,s,c),c=c.sibling}function zv(i,s,c){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(vt,c)}catch{}switch(c.tag){case 26:Yt||Ir(c,s),ci(i,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Yt||Ir(c,s);var f=wt,m=Un;Xi(c.type)&&(wt=c.stateNode,Un=!1),ci(i,s,c),Aa(c.stateNode),wt=f,Un=m;break;case 5:Yt||Ir(c,s);case 6:if(f=wt,m=Un,wt=null,ci(i,s,c),wt=f,Un=m,wt!==null)if(Un)try{(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).removeChild(c.stateNode)}catch(y){ut(c,s,y)}else try{wt.removeChild(c.stateNode)}catch(y){ut(c,s,y)}break;case 18:wt!==null&&(Un?(i=wt,C1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),cl(i)):C1(wt,c.stateNode));break;case 4:f=wt,m=Un,wt=c.stateNode.containerInfo,Un=!0,ci(i,s,c),wt=f,Un=m;break;case 0:case 11:case 14:case 15:Pi(2,c,s),Yt||Pi(4,c,s),ci(i,s,c);break;case 1:Yt||(Ir(c,s),f=c.stateNode,typeof f.componentWillUnmount=="function"&&Mv(c,s,f)),ci(i,s,c);break;case 21:ci(i,s,c);break;case 22:Yt=(f=Yt)||c.memoizedState!==null,ci(i,s,c),Yt=f;break;default:ci(i,s,c)}}function Lv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{cl(i)}catch(c){ut(s,s.return,c)}}}function Bv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{cl(i)}catch(c){ut(s,s.return,c)}}function dA(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Rv),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Rv),s;default:throw Error(r(435,i.tag))}}function gu(i,s){var c=dA(i);s.forEach(function(f){if(!c.has(f)){c.add(f);var m=xA.bind(null,i,f);f.then(m,m)}})}function Pn(i,s){var c=s.deletions;if(c!==null)for(var f=0;f<c.length;f++){var m=c[f],y=i,x=s,C=x;e:for(;C!==null;){switch(C.tag){case 27:if(Xi(C.type)){wt=C.stateNode,Un=!1;break e}break;case 5:wt=C.stateNode,Un=!1;break e;case 3:case 4:wt=C.stateNode.containerInfo,Un=!0;break e}C=C.return}if(wt===null)throw Error(r(160));zv(y,x,m),wt=null,Un=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)_v(s,i),s=s.sibling}var Or=null;function _v(i,s){var c=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Pn(s,i),qn(i),f&4&&(Pi(3,i,i.return),ba(3,i),Pi(5,i,i.return));break;case 1:Pn(s,i),qn(i),f&512&&(Yt||c===null||Ir(c,c.return)),f&64&&ai&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var m=Or;if(Pn(s,i),qn(i),f&512&&(Yt||c===null||Ir(c,c.return)),f&4){var y=c!==null?c.memoizedState:null;if(f=i.memoizedState,c===null)if(f===null)if(i.stateNode===null){e:{f=i.type,c=i.memoizedProps,m=m.ownerDocument||m;t:switch(f){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Gl]||y[hn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(f),m.head.insertBefore(y,m.querySelector("head > title"))),yn(y,f,c),y[hn]=i,on(y),f=y;break e;case"link":var x=_1("link","href",m).get(f+(c.href||""));if(x){for(var C=0;C<x.length;C++)if(y=x[C],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){x.splice(C,1);break t}}y=m.createElement(f),yn(y,f,c),m.head.appendChild(y);break;case"meta":if(x=_1("meta","content",m).get(f+(c.content||""))){for(C=0;C<x.length;C++)if(y=x[C],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){x.splice(C,1);break t}}y=m.createElement(f),yn(y,f,c),m.head.appendChild(y);break;default:throw Error(r(468,f))}y[hn]=i,on(y),f=y}i.stateNode=f}else I1(m,i.type,i.stateNode);else i.stateNode=B1(m,f,i.memoizedProps);else y!==f?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,f===null?I1(m,i.type,i.stateNode):B1(m,f,i.memoizedProps)):f===null&&i.stateNode!==null&&kp(i,i.memoizedProps,c.memoizedProps)}break;case 27:Pn(s,i),qn(i),f&512&&(Yt||c===null||Ir(c,c.return)),c!==null&&f&4&&kp(i,i.memoizedProps,c.memoizedProps);break;case 5:if(Pn(s,i),qn(i),f&512&&(Yt||c===null||Ir(c,c.return)),i.flags&32){m=i.stateNode;try{Ds(m,"")}catch(we){ut(i,i.return,we)}}f&4&&i.stateNode!=null&&(m=i.memoizedProps,kp(i,m,c!==null?c.memoizedProps:m)),f&1024&&(Rp=!0);break;case 6:if(Pn(s,i),qn(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,c=i.stateNode;try{c.nodeValue=f}catch(we){ut(i,i.return,we)}}break;case 3:if(Du=null,m=Or,Or=Ru(s.containerInfo),Pn(s,i),Or=m,qn(i),f&4&&c!==null&&c.memoizedState.isDehydrated)try{cl(s.containerInfo)}catch(we){ut(i,i.return,we)}Rp&&(Rp=!1,Iv(i));break;case 4:f=Or,Or=Ru(i.stateNode.containerInfo),Pn(s,i),qn(i),Or=f;break;case 12:Pn(s,i),qn(i);break;case 31:Pn(s,i),qn(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,gu(i,f)));break;case 13:Pn(s,i),qn(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(bu=Se()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,gu(i,f)));break;case 22:m=i.memoizedState!==null;var D=c!==null&&c.memoizedState!==null,P=ai,W=Yt;if(ai=P||m,Yt=W||D,Pn(s,i),Yt=W,ai=P,qn(i),f&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(c===null||D||ai||Yt||Qo(i)),c=null,s=i;;){if(s.tag===5||s.tag===26){if(c===null){D=c=s;try{if(y=D.stateNode,m)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{C=D.stateNode;var te=D.memoizedProps.style,$=te!=null&&te.hasOwnProperty("display")?te.display:null;C.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(we){ut(D,D.return,we)}}}else if(s.tag===6){if(c===null){D=s;try{D.stateNode.nodeValue=m?"":D.memoizedProps}catch(we){ut(D,D.return,we)}}}else if(s.tag===18){if(c===null){D=s;try{var Y=D.stateNode;m?M1(Y,!0):M1(D.stateNode,!1)}catch(we){ut(D,D.return,we)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=i.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,gu(i,c))));break;case 19:Pn(s,i),qn(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,gu(i,f)));break;case 30:break;case 21:break;default:Pn(s,i),qn(i)}}function qn(i){var s=i.flags;if(s&2){try{for(var c,f=i.return;f!==null;){if(Av(f)){c=f;break}f=f.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var m=c.stateNode,y=Ap(i);mu(i,y,m);break;case 5:var x=c.stateNode;c.flags&32&&(Ds(x,""),c.flags&=-33);var C=Ap(i);mu(i,C,x);break;case 3:case 4:var D=c.stateNode.containerInfo,P=Ap(i);Op(i,P,D);break;default:throw Error(r(161))}}catch(W){ut(i,i.return,W)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Iv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Iv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ui(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Nv(i,s.alternate,s),s=s.sibling}function Qo(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Pi(4,s,s.return),Qo(s);break;case 1:Ir(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&Mv(s,s.return,c),Qo(s);break;case 27:Aa(s.stateNode);case 26:case 5:Ir(s,s.return),Qo(s);break;case 22:s.memoizedState===null&&Qo(s);break;case 30:Qo(s);break;default:Qo(s)}i=i.sibling}}function fi(i,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,m=i,y=s,x=y.flags;switch(y.tag){case 0:case 11:case 15:fi(m,y,c),ba(4,y);break;case 1:if(fi(m,y,c),f=y,m=f.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(P){ut(f,f.return,P)}if(f=y,m=f.updateQueue,m!==null){var C=f.stateNode;try{var D=m.shared.hiddenCallbacks;if(D!==null)for(m.shared.hiddenCallbacks=null,m=0;m<D.length;m++)p0(D[m],C)}catch(P){ut(f,f.return,P)}}c&&x&64&&Cv(y),va(y,y.return);break;case 27:Ov(y);case 26:case 5:fi(m,y,c),c&&f===null&&x&4&&kv(y),va(y,y.return);break;case 12:fi(m,y,c);break;case 31:fi(m,y,c),c&&x&4&&Lv(m,y);break;case 13:fi(m,y,c),c&&x&4&&Bv(m,y);break;case 22:y.memoizedState===null&&fi(m,y,c),va(y,y.return);break;case 30:break;default:fi(m,y,c)}s=s.sibling}}function Np(i,s){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&oa(c))}function Dp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&oa(i))}function Rr(i,s,c,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Hv(i,s,c,f),s=s.sibling}function Hv(i,s,c,f){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Rr(i,s,c,f),m&2048&&ba(9,s);break;case 1:Rr(i,s,c,f);break;case 3:Rr(i,s,c,f),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&oa(i)));break;case 12:if(m&2048){Rr(i,s,c,f),i=s.stateNode;try{var y=s.memoizedProps,x=y.id,C=y.onPostCommit;typeof C=="function"&&C(x,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){ut(s,s.return,D)}}else Rr(i,s,c,f);break;case 31:Rr(i,s,c,f);break;case 13:Rr(i,s,c,f);break;case 23:break;case 22:y=s.stateNode,x=s.alternate,s.memoizedState!==null?y._visibility&2?Rr(i,s,c,f):Sa(i,s):y._visibility&2?Rr(i,s,c,f):(y._visibility|=2,Qs(i,s,c,f,(s.subtreeFlags&10256)!==0||!1)),m&2048&&Np(x,s);break;case 24:Rr(i,s,c,f),m&2048&&Dp(s.alternate,s);break;default:Rr(i,s,c,f)}}function Qs(i,s,c,f,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=i,x=s,C=c,D=f,P=x.flags;switch(x.tag){case 0:case 11:case 15:Qs(y,x,C,D,m),ba(8,x);break;case 23:break;case 22:var W=x.stateNode;x.memoizedState!==null?W._visibility&2?Qs(y,x,C,D,m):Sa(y,x):(W._visibility|=2,Qs(y,x,C,D,m)),m&&P&2048&&Np(x.alternate,x);break;case 24:Qs(y,x,C,D,m),m&&P&2048&&Dp(x.alternate,x);break;default:Qs(y,x,C,D,m)}s=s.sibling}}function Sa(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=i,f=s,m=f.flags;switch(f.tag){case 22:Sa(c,f),m&2048&&Np(f.alternate,f);break;case 24:Sa(c,f),m&2048&&Dp(f.alternate,f);break;default:Sa(c,f)}s=s.sibling}}var xa=8192;function Zs(i,s,c){if(i.subtreeFlags&xa)for(i=i.child;i!==null;)Vv(i,s,c),i=i.sibling}function Vv(i,s,c){switch(i.tag){case 26:Zs(i,s,c),i.flags&xa&&i.memoizedState!==null&&QA(c,Or,i.memoizedState,i.memoizedProps);break;case 5:Zs(i,s,c);break;case 3:case 4:var f=Or;Or=Ru(i.stateNode.containerInfo),Zs(i,s,c),Or=f;break;case 22:i.memoizedState===null&&(f=i.alternate,f!==null&&f.memoizedState!==null?(f=xa,xa=16777216,Zs(i,s,c),xa=f):Zs(i,s,c));break;default:Zs(i,s,c)}}function jv(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Ea(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var f=s[c];sn=f,Pv(f,i)}jv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Uv(i),i=i.sibling}function Uv(i){switch(i.tag){case 0:case 11:case 15:Ea(i),i.flags&2048&&Pi(9,i,i.return);break;case 3:Ea(i);break;case 12:Ea(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,yu(i)):Ea(i);break;default:Ea(i)}}function yu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var f=s[c];sn=f,Pv(f,i)}jv(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Pi(8,s,s.return),yu(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,yu(s));break;default:yu(s)}i=i.sibling}}function Pv(i,s){for(;sn!==null;){var c=sn;switch(c.tag){case 0:case 11:case 15:Pi(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:oa(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,sn=f;else e:for(c=i;sn!==null;){f=sn;var m=f.sibling,y=f.return;if(Dv(f),f===c){sn=null;break e}if(m!==null){m.return=y,sn=m;break e}sn=y}}}var hA={getCacheForType:function(i){var s=mn($t),c=s.data.get(i);return c===void 0&&(c=i(),s.data.set(i,c)),c},cacheSignal:function(){return mn($t).controller.signal}},pA=typeof WeakMap=="function"?WeakMap:Map,at=0,gt=null,Qe=null,tt=0,ct=0,Zn=null,qi=!1,el=!1,zp=!1,di=0,Bt=0,Fi=0,Zo=0,Lp=0,er=0,tl=0,Ta=null,Fn=null,Bp=!1,bu=0,qv=0,vu=1/0,Su=null,$i=null,Zt=0,Gi=null,nl=null,hi=0,_p=0,Ip=null,Fv=null,wa=0,Hp=null;function tr(){return(at&2)!==0&&tt!==0?tt&-tt:L.T!==null?Fp():Oc()}function $v(){if(er===0)if((tt&536870912)===0||rt){var i=wn;wn<<=1,(wn&3932160)===0&&(wn=262144),er=i}else er=536870912;return i=Jn.current,i!==null&&(i.flags|=32),er}function $n(i,s,c){(i===gt&&(ct===2||ct===9)||i.cancelPendingCommit!==null)&&(rl(i,0),Ki(i,tt,er,!1)),Cn(i,c),((at&2)===0||i!==gt)&&(i===gt&&((at&2)===0&&(Zo|=c),Bt===4&&Ki(i,tt,er,!1)),Hr(i))}function Gv(i,s,c){if((at&6)!==0)throw Error(r(327));var f=!c&&(s&127)===0&&(s&i.expiredLanes)===0||ur(i,s),m=f?yA(i,s):jp(i,s,!0),y=f;do{if(m===0){el&&!f&&Ki(i,s,0,!1);break}else{if(c=i.current.alternate,y&&!mA(c)){m=jp(i,s,!1),y=!1;continue}if(m===2){if(y=s,i.errorRecoveryDisabledLanes&y)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var C=i;m=Ta;var D=C.current.memoizedState.isDehydrated;if(D&&(rl(C,x).flags|=256),x=jp(C,x,!1),x!==2){if(zp&&!D){C.errorRecoveryDisabledLanes|=y,Zo|=y,m=4;break e}y=Fn,Fn=m,y!==null&&(Fn===null?Fn=y:Fn.push.apply(Fn,y))}m=x}if(y=!1,m!==2)continue}}if(m===1){rl(i,0),Ki(i,s,0,!0);break}e:{switch(f=i,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ki(f,s,er,!qi);break e;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=bu+300-Se(),10<m)){if(Ki(f,s,er,!qi),In(f,0,!0)!==0)break e;hi=s,f.timeoutHandle=T1(Kv.bind(null,f,c,Fn,Su,Bp,s,er,Zo,tl,qi,y,"Throttled",-0,0),m);break e}Kv(f,c,Fn,Su,Bp,s,er,Zo,tl,qi,y,null,-0,0)}}break}while(!0);Hr(i)}function Kv(i,s,c,f,m,y,x,C,D,P,W,te,$,Y){if(i.timeoutHandle=-1,te=s.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qr},Vv(s,y,te);var we=(y&62914560)===y?bu-Se():(y&4194048)===y?qv-Se():0;if(we=ZA(te,we),we!==null){hi=y,i.cancelPendingCommit=we(t1.bind(null,i,s,y,c,f,m,x,C,D,W,te,null,$,Y)),Ki(i,y,x,!P);return}}t1(i,s,y,c,f,m,x,C,D)}function mA(i){for(var s=i;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var m=c[f],y=m.getSnapshot;m=m.value;try{if(!Xn(y(),m))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ki(i,s,c,f){s&=~Lp,s&=~Zo,i.suspendedLanes|=s,i.pingedLanes&=~s,f&&(i.warmLanes|=s),f=i.expirationTimes;for(var m=s;0<m;){var y=31-jt(m),x=1<<y;f[y]=-1,m&=~x}c!==0&&Dn(i,c,s)}function xu(){return(at&6)===0?(Ca(0),!1):!0}function Vp(){if(Qe!==null){if(ct===0)var i=Qe.return;else i=Qe,ni=Fo=null,tp(i),Ks=null,la=0,i=Qe;for(;i!==null;)wv(i.alternate,i),i=i.return;Qe=null}}function rl(i,s){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,BA(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),hi=0,Vp(),gt=i,Qe=c=ei(i.current,null),tt=s,ct=0,Zn=null,qi=!1,el=ur(i,s),zp=!1,tl=er=Lp=Zo=Fi=Bt=0,Fn=Ta=null,Bp=!1,(s&8)!==0&&(s|=s&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=s;0<f;){var m=31-jt(f),y=1<<m;s|=i[m],f&=~y}return di=s,Pc(),c}function Yv(i,s){Fe=null,L.H=ma,s===Gs||s===Wc?(s=u0(),ct=3):s===qh?(s=u0(),ct=4):ct=s===yp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Zn=s,Qe===null&&(Bt=1,uu(i,pr(s,i.current)))}function Xv(){var i=Jn.current;return i===null?!0:(tt&4194048)===tt?br===null:(tt&62914560)===tt||(tt&536870912)!==0?i===br:!1}function Wv(){var i=L.H;return L.H=ma,i===null?ma:i}function Jv(){var i=L.A;return L.A=hA,i}function Eu(){Bt=4,qi||(tt&4194048)!==tt&&Jn.current!==null||(el=!0),(Fi&134217727)===0&&(Zo&134217727)===0||gt===null||Ki(gt,tt,er,!1)}function jp(i,s,c){var f=at;at|=2;var m=Wv(),y=Jv();(gt!==i||tt!==s)&&(Su=null,rl(i,s)),s=!1;var x=Bt;e:do try{if(ct!==0&&Qe!==null){var C=Qe,D=Zn;switch(ct){case 8:Vp(),x=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(s=!0);var P=ct;if(ct=0,Zn=null,il(i,C,D,P),c&&el){x=0;break e}break;default:P=ct,ct=0,Zn=null,il(i,C,D,P)}}gA(),x=Bt;break}catch(W){Yv(i,W)}while(!0);return s&&i.shellSuspendCounter++,ni=Fo=null,at=f,L.H=m,L.A=y,Qe===null&&(gt=null,tt=0,Pc()),x}function gA(){for(;Qe!==null;)Qv(Qe)}function yA(i,s){var c=at;at|=2;var f=Wv(),m=Jv();gt!==i||tt!==s?(Su=null,vu=Se()+500,rl(i,s)):el=ur(i,s);e:do try{if(ct!==0&&Qe!==null){s=Qe;var y=Zn;t:switch(ct){case 1:ct=0,Zn=null,il(i,s,y,1);break;case 2:case 9:if(a0(y)){ct=0,Zn=null,Zv(s);break}s=function(){ct!==2&&ct!==9||gt!==i||(ct=7),Hr(i)},y.then(s,s);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:a0(y)?(ct=0,Zn=null,Zv(s)):(ct=0,Zn=null,il(i,s,y,7));break;case 5:var x=null;switch(Qe.tag){case 26:x=Qe.memoizedState;case 5:case 27:var C=Qe;if(x?H1(x):C.stateNode.complete){ct=0,Zn=null;var D=C.sibling;if(D!==null)Qe=D;else{var P=C.return;P!==null?(Qe=P,Tu(P)):Qe=null}break t}}ct=0,Zn=null,il(i,s,y,5);break;case 6:ct=0,Zn=null,il(i,s,y,6);break;case 8:Vp(),Bt=6;break e;default:throw Error(r(462))}}bA();break}catch(W){Yv(i,W)}while(!0);return ni=Fo=null,L.H=f,L.A=m,at=c,Qe!==null?0:(gt=null,tt=0,Pc(),Bt)}function bA(){for(;Qe!==null&&!Ne();)Qv(Qe)}function Qv(i){var s=Ev(i.alternate,i,di);i.memoizedProps=i.pendingProps,s===null?Tu(i):Qe=s}function Zv(i){var s=i,c=s.alternate;switch(s.tag){case 15:case 0:s=gv(c,s,s.pendingProps,s.type,void 0,tt);break;case 11:s=gv(c,s,s.pendingProps,s.type.render,s.ref,tt);break;case 5:tp(s);default:wv(c,s),s=Qe=Jb(s,di),s=Ev(c,s,di)}i.memoizedProps=i.pendingProps,s===null?Tu(i):Qe=s}function il(i,s,c,f){ni=Fo=null,tp(s),Ks=null,la=0;var m=s.return;try{if(sA(i,m,s,c,tt)){Bt=1,uu(i,pr(c,i.current)),Qe=null;return}}catch(y){if(m!==null)throw Qe=m,y;Bt=1,uu(i,pr(c,i.current)),Qe=null;return}s.flags&32768?(rt||f===1?i=!0:el||(tt&536870912)!==0?i=!1:(qi=i=!0,(f===2||f===9||f===3||f===6)&&(f=Jn.current,f!==null&&f.tag===13&&(f.flags|=16384))),e1(s,i)):Tu(s)}function Tu(i){var s=i;do{if((s.flags&32768)!==0){e1(s,qi);return}i=s.return;var c=cA(s.alternate,s,di);if(c!==null){Qe=c;return}if(s=s.sibling,s!==null){Qe=s;return}Qe=s=i}while(s!==null);Bt===0&&(Bt=5)}function e1(i,s){do{var c=uA(i.alternate,i);if(c!==null){c.flags&=32767,Qe=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(i=i.sibling,i!==null)){Qe=i;return}Qe=i=c}while(i!==null);Bt=6,Qe=null}function t1(i,s,c,f,m,y,x,C,D){i.cancelPendingCommit=null;do wu();while(Zt!==0);if((at&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=Ah,Hn(i,c,y,x,C,D),i===gt&&(Qe=gt=null,tt=0),nl=s,Gi=i,hi=c,_p=y,Ip=m,Fv=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,EA(Ge,function(){return s1(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=L.T,L.T=null,m=q.p,q.p=2,x=at,at|=4;try{fA(i,s,c)}finally{at=x,q.p=m,L.T=f}}Zt=1,n1(),r1(),i1()}}function n1(){if(Zt===1){Zt=0;var i=Gi,s=nl,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=L.T,L.T=null;var f=q.p;q.p=2;var m=at;at|=4;try{_v(s,i);var y=Qp,x=Pb(i.containerInfo),C=y.focusedElem,D=y.selectionRange;if(x!==C&&C&&C.ownerDocument&&Ub(C.ownerDocument.documentElement,C)){if(D!==null&&Th(C)){var P=D.start,W=D.end;if(W===void 0&&(W=P),"selectionStart"in C)C.selectionStart=P,C.selectionEnd=Math.min(W,C.value.length);else{var te=C.ownerDocument||document,$=te&&te.defaultView||window;if($.getSelection){var Y=$.getSelection(),we=C.textContent.length,Ie=Math.min(D.start,we),mt=D.end===void 0?Ie:Math.min(D.end,we);!Y.extend&&Ie>mt&&(x=mt,mt=Ie,Ie=x);var V=jb(C,Ie),_=jb(C,mt);if(V&&_&&(Y.rangeCount!==1||Y.anchorNode!==V.node||Y.anchorOffset!==V.offset||Y.focusNode!==_.node||Y.focusOffset!==_.offset)){var U=te.createRange();U.setStart(V.node,V.offset),Y.removeAllRanges(),Ie>mt?(Y.addRange(U),Y.extend(_.node,_.offset)):(U.setEnd(_.node,_.offset),Y.addRange(U))}}}}for(te=[],Y=C;Y=Y.parentNode;)Y.nodeType===1&&te.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<te.length;C++){var Z=te[C];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}_u=!!Jp,Qp=Jp=null}finally{at=m,q.p=f,L.T=c}}i.current=s,Zt=2}}function r1(){if(Zt===2){Zt=0;var i=Gi,s=nl,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=L.T,L.T=null;var f=q.p;q.p=2;var m=at;at|=4;try{Nv(i,s.alternate,s)}finally{at=m,q.p=f,L.T=c}}Zt=3}}function i1(){if(Zt===4||Zt===3){Zt=0,ge();var i=Gi,s=nl,c=hi,f=Fv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Zt=5:(Zt=0,nl=Gi=null,o1(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&($i=null),$l(c),s=s.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(vt,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=L.T,m=q.p,q.p=2,L.T=null;try{for(var y=i.onRecoverableError,x=0;x<f.length;x++){var C=f[x];y(C.value,{componentStack:C.stack})}}finally{L.T=s,q.p=m}}(hi&3)!==0&&wu(),Hr(i),m=i.pendingLanes,(c&261930)!==0&&(m&42)!==0?i===Hp?wa++:(wa=0,Hp=i):wa=0,Ca(0)}}function o1(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,oa(s)))}function wu(){return n1(),r1(),i1(),s1()}function s1(){if(Zt!==5)return!1;var i=Gi,s=_p;_p=0;var c=$l(hi),f=L.T,m=q.p;try{q.p=32>c?32:c,L.T=null,c=Ip,Ip=null;var y=Gi,x=hi;if(Zt=0,nl=Gi=null,hi=0,(at&6)!==0)throw Error(r(331));var C=at;if(at|=4,Uv(y.current),Hv(y,y.current,x,c),at=C,Ca(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(vt,y)}catch{}return!0}finally{q.p=m,L.T=f,o1(i,s)}}function l1(i,s,c){s=pr(c,s),s=gp(i.stateNode,s,2),i=Vi(i,s,2),i!==null&&(Cn(i,2),Hr(i))}function ut(i,s,c){if(i.tag===3)l1(i,i,c);else for(;s!==null;){if(s.tag===3){l1(s,i,c);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&($i===null||!$i.has(f))){i=pr(c,i),c=av(2),f=Vi(s,c,2),f!==null&&(cv(c,f,s,i),Cn(f,2),Hr(f));break}}s=s.return}}function Up(i,s,c){var f=i.pingCache;if(f===null){f=i.pingCache=new pA;var m=new Set;f.set(s,m)}else m=f.get(s),m===void 0&&(m=new Set,f.set(s,m));m.has(c)||(zp=!0,m.add(c),i=vA.bind(null,i,s,c),s.then(i,i))}function vA(i,s,c){var f=i.pingCache;f!==null&&f.delete(s),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,gt===i&&(tt&c)===c&&(Bt===4||Bt===3&&(tt&62914560)===tt&&300>Se()-bu?(at&2)===0&&rl(i,0):Lp|=c,tl===tt&&(tl=0)),Hr(i)}function a1(i,s){s===0&&(s=et()),i=Uo(i,s),i!==null&&(Cn(i,s),Hr(i))}function SA(i){var s=i.memoizedState,c=0;s!==null&&(c=s.retryLane),a1(i,c)}function xA(i,s){var c=0;switch(i.tag){case 31:case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(c=m.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(s),a1(i,c)}function EA(i,s){return Re(i,s)}var Cu=null,ol=null,Pp=!1,Mu=!1,qp=!1,Yi=0;function Hr(i){i!==ol&&i.next===null&&(ol===null?Cu=ol=i:ol=ol.next=i),Mu=!0,Pp||(Pp=!0,wA())}function Ca(i,s){if(!qp&&Mu){qp=!0;do for(var c=!1,f=Cu;f!==null;){if(i!==0){var m=f.pendingLanes;if(m===0)var y=0;else{var x=f.suspendedLanes,C=f.pingedLanes;y=(1<<31-jt(42|i)+1)-1,y&=m&~(x&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,d1(f,y))}else y=tt,y=In(f,f===gt?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||ur(f,y)||(c=!0,d1(f,y));f=f.next}while(c);qp=!1}}function TA(){c1()}function c1(){Mu=Pp=!1;var i=0;Yi!==0&&LA()&&(i=Yi);for(var s=Se(),c=null,f=Cu;f!==null;){var m=f.next,y=u1(f,s);y===0?(f.next=null,c===null?Cu=m:c.next=m,m===null&&(ol=c)):(c=f,(i!==0||(y&3)!==0)&&(Mu=!0)),f=m}Zt!==0&&Zt!==5||Ca(i),Yi!==0&&(Yi=0)}function u1(i,s){for(var c=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var x=31-jt(y),C=1<<x,D=m[x];D===-1?((C&c)===0||(C&f)!==0)&&(m[x]=_o(C,s)):D<=s&&(i.expiredLanes|=C),y&=~C}if(s=gt,c=tt,c=In(i,i===s?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,c===0||i===s&&(ct===2||ct===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&re(f),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||ur(i,c)){if(s=c&-c,s===i.callbackPriority)return s;switch(f!==null&&re(f),$l(c)){case 2:case 8:c=it;break;case 32:c=Ge;break;case 268435456:c=Ot;break;default:c=Ge}return f=f1.bind(null,i),c=Re(c,f),i.callbackPriority=s,i.callbackNode=c,s}return f!==null&&f!==null&&re(f),i.callbackPriority=2,i.callbackNode=null,2}function f1(i,s){if(Zt!==0&&Zt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(wu()&&i.callbackNode!==c)return null;var f=tt;return f=In(i,i===gt?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(Gv(i,f,s),u1(i,Se()),i.callbackNode!=null&&i.callbackNode===c?f1.bind(null,i):null)}function d1(i,s){if(wu())return null;Gv(i,s,!0)}function wA(){_A(function(){(at&6)!==0?Re(Je,TA):c1()})}function Fp(){if(Yi===0){var i=Fs;i===0&&(i=Tt,Tt<<=1,(Tt&261888)===0&&(Tt=256)),Yi=i}return Yi}function h1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Lc(""+i)}function p1(i,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,i.id&&c.setAttribute("form",i.id),s.parentNode.insertBefore(c,s),i=new FormData(i),c.parentNode.removeChild(c),i}function CA(i,s,c,f,m){if(s==="submit"&&c&&c.stateNode===m){var y=h1((m[Vn]||null).action),x=f.submitter;x&&(s=(s=x[Vn]||null)?h1(s.formAction):x.getAttribute("formAction"),s!==null&&(y=s,x=null));var C=new Hc("action","action",null,f,m);i.push({event:C,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Yi!==0){var D=x?p1(m,x):new FormData(m);up(c,{pending:!0,data:D,method:m.method,action:y},null,D)}}else typeof y=="function"&&(C.preventDefault(),D=x?p1(m,x):new FormData(m),up(c,{pending:!0,data:D,method:m.method,action:y},y,D))},currentTarget:m}]})}}for(var $p=0;$p<kh.length;$p++){var Gp=kh[$p],MA=Gp.toLowerCase(),kA=Gp[0].toUpperCase()+Gp.slice(1);Ar(MA,"on"+kA)}Ar($b,"onAnimationEnd"),Ar(Gb,"onAnimationIteration"),Ar(Kb,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(qk,"onTransitionRun"),Ar(Fk,"onTransitionStart"),Ar($k,"onTransitionCancel"),Ar(Yb,"onTransitionEnd"),Rs("onMouseEnter",["mouseout","mouseover"]),Rs("onMouseLeave",["mouseout","mouseover"]),Rs("onPointerEnter",["pointerout","pointerover"]),Rs("onPointerLeave",["pointerout","pointerover"]),Io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Io("onBeforeInput",["compositionend","keypress","textInput","paste"]),Io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ma));function m1(i,s){s=(s&4)!==0;for(var c=0;c<i.length;c++){var f=i[c],m=f.event;f=f.listeners;e:{var y=void 0;if(s)for(var x=f.length-1;0<=x;x--){var C=f[x],D=C.instance,P=C.currentTarget;if(C=C.listener,D!==y&&m.isPropagationStopped())break e;y=C,m.currentTarget=P;try{y(m)}catch(W){Uc(W)}m.currentTarget=null,y=D}else for(x=0;x<f.length;x++){if(C=f[x],D=C.instance,P=C.currentTarget,C=C.listener,D!==y&&m.isPropagationStopped())break e;y=C,m.currentTarget=P;try{y(m)}catch(W){Uc(W)}m.currentTarget=null,y=D}}}}function Ze(i,s){var c=s[oh];c===void 0&&(c=s[oh]=new Set);var f=i+"__bubble";c.has(f)||(g1(s,i,2,!1),c.add(f))}function Kp(i,s,c){var f=0;s&&(f|=4),g1(c,i,f,s)}var ku="_reactListening"+Math.random().toString(36).slice(2);function Yp(i){if(!i[ku]){i[ku]=!0,cb.forEach(function(c){c!=="selectionchange"&&(AA.has(c)||Kp(c,!1,i),Kp(c,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[ku]||(s[ku]=!0,Kp("selectionchange",!1,s))}}function g1(i,s,c,f){switch($1(s)){case 2:var m=nO;break;case 8:m=rO;break;default:m=cm}c=m.bind(null,s,c,i),m=void 0,!ph||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(s,c,{capture:!0,passive:m}):i.addEventListener(s,c,!0):m!==void 0?i.addEventListener(s,c,{passive:m}):i.addEventListener(s,c,!1)}function Xp(i,s,c,f,m){var y=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var x=f.tag;if(x===3||x===4){var C=f.stateNode.containerInfo;if(C===m)break;if(x===4)for(x=f.return;x!==null;){var D=x.tag;if((D===3||D===4)&&x.stateNode.containerInfo===m)return;x=x.return}for(;C!==null;){if(x=ks(C),x===null)return;if(D=x.tag,D===5||D===6||D===26||D===27){f=y=x;continue e}C=C.parentNode}}f=f.return}xb(function(){var P=y,W=dh(c),te=[];e:{var $=Xb.get(i);if($!==void 0){var Y=Hc,we=i;switch(i){case"keypress":if(_c(c)===0)break e;case"keydown":case"keyup":Y=xk;break;case"focusin":we="focus",Y=bh;break;case"focusout":we="blur",Y=bh;break;case"beforeblur":case"afterblur":Y=bh;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=wb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=ck;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=wk;break;case $b:case Gb:case Kb:Y=dk;break;case Yb:Y=Mk;break;case"scroll":case"scrollend":Y=lk;break;case"wheel":Y=Ak;break;case"copy":case"cut":case"paste":Y=pk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Mb;break;case"toggle":case"beforetoggle":Y=Rk}var Ie=(s&4)!==0,mt=!Ie&&(i==="scroll"||i==="scrollend"),V=Ie?$!==null?$+"Capture":null:$;Ie=[];for(var _=P,U;_!==null;){var Z=_;if(U=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||U===null||V===null||(Z=Yl(_,V),Z!=null&&Ie.push(ka(_,Z,U))),mt)break;_=_.return}0<Ie.length&&($=new Y($,we,null,c,W),te.push({event:$,listeners:Ie}))}}if((s&7)===0){e:{if($=i==="mouseover"||i==="pointerover",Y=i==="mouseout"||i==="pointerout",$&&c!==fh&&(we=c.relatedTarget||c.fromElement)&&(ks(we)||we[Ms]))break e;if((Y||$)&&($=W.window===W?W:($=W.ownerDocument)?$.defaultView||$.parentWindow:window,Y?(we=c.relatedTarget||c.toElement,Y=P,we=we?ks(we):null,we!==null&&(mt=l(we),Ie=we.tag,we!==mt||Ie!==5&&Ie!==27&&Ie!==6)&&(we=null)):(Y=null,we=P),Y!==we)){if(Ie=wb,Z="onMouseLeave",V="onMouseEnter",_="mouse",(i==="pointerout"||i==="pointerover")&&(Ie=Mb,Z="onPointerLeave",V="onPointerEnter",_="pointer"),mt=Y==null?$:Kl(Y),U=we==null?$:Kl(we),$=new Ie(Z,_+"leave",Y,c,W),$.target=mt,$.relatedTarget=U,Z=null,ks(W)===P&&(Ie=new Ie(V,_+"enter",we,c,W),Ie.target=U,Ie.relatedTarget=mt,Z=Ie),mt=Z,Y&&we)t:{for(Ie=OA,V=Y,_=we,U=0,Z=V;Z;Z=Ie(Z))U++;Z=0;for(var ze=_;ze;ze=Ie(ze))Z++;for(;0<U-Z;)V=Ie(V),U--;for(;0<Z-U;)_=Ie(_),Z--;for(;U--;){if(V===_||_!==null&&V===_.alternate){Ie=V;break t}V=Ie(V),_=Ie(_)}Ie=null}else Ie=null;Y!==null&&y1(te,$,Y,Ie,!1),we!==null&&mt!==null&&y1(te,mt,we,Ie,!0)}}e:{if($=P?Kl(P):window,Y=$.nodeName&&$.nodeName.toLowerCase(),Y==="select"||Y==="input"&&$.type==="file")var ot=Lb;else if(Db($))if(Bb)ot=jk;else{ot=Hk;var ke=Ik}else Y=$.nodeName,!Y||Y.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?P&&uh(P.elementType)&&(ot=Lb):ot=Vk;if(ot&&(ot=ot(i,P))){zb(te,ot,c,W);break e}ke&&ke(i,$,P),i==="focusout"&&P&&$.type==="number"&&P.memoizedProps.value!=null&&ch($,"number",$.value)}switch(ke=P?Kl(P):window,i){case"focusin":(Db(ke)||ke.contentEditable==="true")&&(_s=ke,wh=P,na=null);break;case"focusout":na=wh=_s=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,qb(te,c,W);break;case"selectionchange":if(Pk)break;case"keydown":case"keyup":qb(te,c,W)}var $e;if(Sh)e:{switch(i){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else Bs?Rb(i,c)&&(nt="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(nt="onCompositionStart");nt&&(kb&&c.locale!=="ko"&&(Bs||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&Bs&&($e=Eb()):(Di=W,mh="value"in Di?Di.value:Di.textContent,Bs=!0)),ke=Au(P,nt),0<ke.length&&(nt=new Cb(nt,i,null,c,W),te.push({event:nt,listeners:ke}),$e?nt.data=$e:($e=Nb(c),$e!==null&&(nt.data=$e)))),($e=Dk?zk(i,c):Lk(i,c))&&(nt=Au(P,"onBeforeInput"),0<nt.length&&(ke=new Cb("onBeforeInput","beforeinput",null,c,W),te.push({event:ke,listeners:nt}),ke.data=$e)),CA(te,i,P,c,W)}m1(te,s)})}function ka(i,s,c){return{instance:i,listener:s,currentTarget:c}}function Au(i,s){for(var c=s+"Capture",f=[];i!==null;){var m=i,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Yl(i,c),m!=null&&f.unshift(ka(i,m,y)),m=Yl(i,s),m!=null&&f.push(ka(i,m,y))),i.tag===3)return f;i=i.return}return[]}function OA(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function y1(i,s,c,f,m){for(var y=s._reactName,x=[];c!==null&&c!==f;){var C=c,D=C.alternate,P=C.stateNode;if(C=C.tag,D!==null&&D===f)break;C!==5&&C!==26&&C!==27||P===null||(D=P,m?(P=Yl(c,y),P!=null&&x.unshift(ka(c,P,D))):m||(P=Yl(c,y),P!=null&&x.push(ka(c,P,D)))),c=c.return}x.length!==0&&i.push({event:s,listeners:x})}var RA=/\r\n?/g,NA=/\u0000|\uFFFD/g;function b1(i){return(typeof i=="string"?i:""+i).replace(RA,`
`).replace(NA,"")}function v1(i,s){return s=b1(s),b1(i)===s}function pt(i,s,c,f,m,y){switch(c){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||Ds(i,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&Ds(i,""+f);break;case"className":Dc(i,"class",f);break;case"tabIndex":Dc(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Dc(i,c,f);break;case"style":vb(i,f,y);break;case"data":if(s!=="object"){Dc(i,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||c!=="href")){i.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(c);break}f=Lc(""+f),i.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(s!=="input"&&pt(i,s,"name",m.name,m,null),pt(i,s,"formEncType",m.formEncType,m,null),pt(i,s,"formMethod",m.formMethod,m,null),pt(i,s,"formTarget",m.formTarget,m,null)):(pt(i,s,"encType",m.encType,m,null),pt(i,s,"method",m.method,m,null),pt(i,s,"target",m.target,m,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(c);break}f=Lc(""+f),i.setAttribute(c,f);break;case"onClick":f!=null&&(i.onclick=Qr);break;case"onScroll":f!=null&&Ze("scroll",i);break;case"onScrollEnd":f!=null&&Ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}c=Lc(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,""+f):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":f===!0?i.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,f):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(c,f):i.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(c):i.setAttribute(c,f);break;case"popover":Ze("beforetoggle",i),Ze("toggle",i),Nc(i,"popover",f);break;case"xlinkActuate":Jr(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Jr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Jr(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Jr(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Jr(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Jr(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Jr(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Jr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Jr(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Nc(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=ok.get(c)||c,Nc(i,c,f))}}function Wp(i,s,c,f,m,y){switch(c){case"style":vb(i,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof f=="string"?Ds(i,f):(typeof f=="number"||typeof f=="bigint")&&Ds(i,""+f);break;case"onScroll":f!=null&&Ze("scroll",i);break;case"onScrollEnd":f!=null&&Ze("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Qr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ub.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),s=c.slice(2,m?c.length-7:void 0),y=i[Vn]||null,y=y!=null?y[c]:null,typeof y=="function"&&i.removeEventListener(s,y,m),typeof f=="function")){typeof y!="function"&&y!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(s,f,m);break e}c in i?i[c]=f:f===!0?i.setAttribute(c,""):Nc(i,c,f)}}}function yn(i,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",i),Ze("load",i);var f=!1,m=!1,y;for(y in c)if(c.hasOwnProperty(y)){var x=c[y];if(x!=null)switch(y){case"src":f=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:pt(i,s,y,x,c,null)}}m&&pt(i,s,"srcSet",c.srcSet,c,null),f&&pt(i,s,"src",c.src,c,null);return;case"input":Ze("invalid",i);var C=y=x=m=null,D=null,P=null;for(f in c)if(c.hasOwnProperty(f)){var W=c[f];if(W!=null)switch(f){case"name":m=W;break;case"type":x=W;break;case"checked":D=W;break;case"defaultChecked":P=W;break;case"value":y=W;break;case"defaultValue":C=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:pt(i,s,f,W,c,null)}}mb(i,y,C,D,P,x,m,!1);return;case"select":Ze("invalid",i),f=x=y=null;for(m in c)if(c.hasOwnProperty(m)&&(C=c[m],C!=null))switch(m){case"value":y=C;break;case"defaultValue":x=C;break;case"multiple":f=C;default:pt(i,s,m,C,c,null)}s=y,c=x,i.multiple=!!f,s!=null?Ns(i,!!f,s,!1):c!=null&&Ns(i,!!f,c,!0);return;case"textarea":Ze("invalid",i),y=m=f=null;for(x in c)if(c.hasOwnProperty(x)&&(C=c[x],C!=null))switch(x){case"value":f=C;break;case"defaultValue":m=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:pt(i,s,x,C,c,null)}yb(i,f,m,y);return;case"option":for(D in c)c.hasOwnProperty(D)&&(f=c[D],f!=null)&&(D==="selected"?i.selected=f&&typeof f!="function"&&typeof f!="symbol":pt(i,s,D,f,c,null));return;case"dialog":Ze("beforetoggle",i),Ze("toggle",i),Ze("cancel",i),Ze("close",i);break;case"iframe":case"object":Ze("load",i);break;case"video":case"audio":for(f=0;f<Ma.length;f++)Ze(Ma[f],i);break;case"image":Ze("error",i),Ze("load",i);break;case"details":Ze("toggle",i);break;case"embed":case"source":case"link":Ze("error",i),Ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in c)if(c.hasOwnProperty(P)&&(f=c[P],f!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:pt(i,s,P,f,c,null)}return;default:if(uh(s)){for(W in c)c.hasOwnProperty(W)&&(f=c[W],f!==void 0&&Wp(i,s,W,f,c,void 0));return}}for(C in c)c.hasOwnProperty(C)&&(f=c[C],f!=null&&pt(i,s,C,f,c,null))}function DA(i,s,c,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,x=null,C=null,D=null,P=null,W=null;for(Y in c){var te=c[Y];if(c.hasOwnProperty(Y)&&te!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=te;default:f.hasOwnProperty(Y)||pt(i,s,Y,null,f,te)}}for(var $ in f){var Y=f[$];if(te=c[$],f.hasOwnProperty($)&&(Y!=null||te!=null))switch($){case"type":y=Y;break;case"name":m=Y;break;case"checked":P=Y;break;case"defaultChecked":W=Y;break;case"value":x=Y;break;case"defaultValue":C=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:Y!==te&&pt(i,s,$,Y,f,te)}}ah(i,x,C,D,P,W,y,m);return;case"select":Y=x=C=$=null;for(y in c)if(D=c[y],c.hasOwnProperty(y)&&D!=null)switch(y){case"value":break;case"multiple":Y=D;default:f.hasOwnProperty(y)||pt(i,s,y,null,f,D)}for(m in f)if(y=f[m],D=c[m],f.hasOwnProperty(m)&&(y!=null||D!=null))switch(m){case"value":$=y;break;case"defaultValue":C=y;break;case"multiple":x=y;default:y!==D&&pt(i,s,m,y,f,D)}s=C,c=x,f=Y,$!=null?Ns(i,!!c,$,!1):!!f!=!!c&&(s!=null?Ns(i,!!c,s,!0):Ns(i,!!c,c?[]:"",!1));return;case"textarea":Y=$=null;for(C in c)if(m=c[C],c.hasOwnProperty(C)&&m!=null&&!f.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:pt(i,s,C,null,f,m)}for(x in f)if(m=f[x],y=c[x],f.hasOwnProperty(x)&&(m!=null||y!=null))switch(x){case"value":$=m;break;case"defaultValue":Y=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&pt(i,s,x,m,f,y)}gb(i,$,Y);return;case"option":for(var we in c)$=c[we],c.hasOwnProperty(we)&&$!=null&&!f.hasOwnProperty(we)&&(we==="selected"?i.selected=!1:pt(i,s,we,null,f,$));for(D in f)$=f[D],Y=c[D],f.hasOwnProperty(D)&&$!==Y&&($!=null||Y!=null)&&(D==="selected"?i.selected=$&&typeof $!="function"&&typeof $!="symbol":pt(i,s,D,$,f,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in c)$=c[Ie],c.hasOwnProperty(Ie)&&$!=null&&!f.hasOwnProperty(Ie)&&pt(i,s,Ie,null,f,$);for(P in f)if($=f[P],Y=c[P],f.hasOwnProperty(P)&&$!==Y&&($!=null||Y!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:pt(i,s,P,$,f,Y)}return;default:if(uh(s)){for(var mt in c)$=c[mt],c.hasOwnProperty(mt)&&$!==void 0&&!f.hasOwnProperty(mt)&&Wp(i,s,mt,void 0,f,$);for(W in f)$=f[W],Y=c[W],!f.hasOwnProperty(W)||$===Y||$===void 0&&Y===void 0||Wp(i,s,W,$,f,Y);return}}for(var V in c)$=c[V],c.hasOwnProperty(V)&&$!=null&&!f.hasOwnProperty(V)&&pt(i,s,V,null,f,$);for(te in f)$=f[te],Y=c[te],!f.hasOwnProperty(te)||$===Y||$==null&&Y==null||pt(i,s,te,$,f,Y)}function S1(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zA(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,c=performance.getEntriesByType("resource"),f=0;f<c.length;f++){var m=c[f],y=m.transferSize,x=m.initiatorType,C=m.duration;if(y&&C&&S1(x)){for(x=0,C=m.responseEnd,f+=1;f<c.length;f++){var D=c[f],P=D.startTime;if(P>C)break;var W=D.transferSize,te=D.initiatorType;W&&S1(te)&&(D=D.responseEnd,x+=W*(D<C?1:(C-P)/(D-P)))}if(--f,s+=8*(y+x)/(m.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Jp=null,Qp=null;function Ou(i){return i.nodeType===9?i:i.ownerDocument}function x1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E1(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Zp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var em=null;function LA(){var i=window.event;return i&&i.type==="popstate"?i===em?!1:(em=i,!0):(em=null,!1)}var T1=typeof setTimeout=="function"?setTimeout:void 0,BA=typeof clearTimeout=="function"?clearTimeout:void 0,w1=typeof Promise=="function"?Promise:void 0,_A=typeof queueMicrotask=="function"?queueMicrotask:typeof w1<"u"?function(i){return w1.resolve(null).then(i).catch(IA)}:T1;function IA(i){setTimeout(function(){throw i})}function Xi(i){return i==="head"}function C1(i,s){var c=s,f=0;do{var m=c.nextSibling;if(i.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"||c==="/&"){if(f===0){i.removeChild(m),cl(s);return}f--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")f++;else if(c==="html")Aa(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,Aa(c);for(var y=c.firstChild;y;){var x=y.nextSibling,C=y.nodeName;y[Gl]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&y.rel.toLowerCase()==="stylesheet"||c.removeChild(y),y=x}}else c==="body"&&Aa(i.ownerDocument.body);c=m}while(c);cl(s)}function M1(i,s){var c=i;i=0;do{var f=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),f&&f.nodeType===8)if(c=f.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=f}while(c)}function tm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":tm(c),sh(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function HA(i,s,c,f){for(;i.nodeType===1;){var m=c;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[Gl])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=vr(i.nextSibling),i===null)break}return null}function VA(i,s,c){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=vr(i.nextSibling),i===null))return null;return i}function k1(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=vr(i.nextSibling),i===null))return null;return i}function nm(i){return i.data==="$?"||i.data==="$~"}function rm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function jA(i,s){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||c.readyState!=="loading")s();else{var f=function(){s(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function vr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var im=null;function A1(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(s===0)return vr(i.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}i=i.nextSibling}return null}function O1(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return i;s--}else c!=="/$"&&c!=="/&"||s++}i=i.previousSibling}return null}function R1(i,s,c){switch(s=Ou(c),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Aa(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);sh(i)}var Sr=new Map,N1=new Set;function Ru(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var pi=q.d;q.d={f:UA,r:PA,D:qA,C:FA,L:$A,m:GA,X:YA,S:KA,M:XA};function UA(){var i=pi.f(),s=xu();return i||s}function PA(i){var s=As(i);s!==null&&s.tag===5&&s.type==="form"?Y0(s):pi.r(i)}var sl=typeof document>"u"?null:document;function D1(i,s,c){var f=sl;if(f&&typeof s=="string"&&s){var m=dr(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),N1.has(m)||(N1.add(m),i={rel:i,crossOrigin:c,href:s},f.querySelector(m)===null&&(s=f.createElement("link"),yn(s,"link",i),on(s),f.head.appendChild(s)))}}function qA(i){pi.D(i),D1("dns-prefetch",i,null)}function FA(i,s){pi.C(i,s),D1("preconnect",i,s)}function $A(i,s,c){pi.L(i,s,c);var f=sl;if(f&&i&&s){var m='link[rel="preload"][as="'+dr(s)+'"]';s==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+dr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+dr(c.imageSizes)+'"]')):m+='[href="'+dr(i)+'"]';var y=m;switch(s){case"style":y=ll(i);break;case"script":y=al(i)}Sr.has(y)||(i=g({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:i,as:s},c),Sr.set(y,i),f.querySelector(m)!==null||s==="style"&&f.querySelector(Oa(y))||s==="script"&&f.querySelector(Ra(y))||(s=f.createElement("link"),yn(s,"link",i),on(s),f.head.appendChild(s)))}}function GA(i,s){pi.m(i,s);var c=sl;if(c&&i){var f=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+dr(f)+'"][href="'+dr(i)+'"]',y=m;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=al(i)}if(!Sr.has(y)&&(i=g({rel:"modulepreload",href:i},s),Sr.set(y,i),c.querySelector(m)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Ra(y)))return}f=c.createElement("link"),yn(f,"link",i),on(f),c.head.appendChild(f)}}}function KA(i,s,c){pi.S(i,s,c);var f=sl;if(f&&i){var m=Os(f).hoistableStyles,y=ll(i);s=s||"default";var x=m.get(y);if(!x){var C={loading:0,preload:null};if(x=f.querySelector(Oa(y)))C.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":s},c),(c=Sr.get(y))&&om(i,c);var D=x=f.createElement("link");on(D),yn(D,"link",i),D._p=new Promise(function(P,W){D.onload=P,D.onerror=W}),D.addEventListener("load",function(){C.loading|=1}),D.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Nu(x,s,f)}x={type:"stylesheet",instance:x,count:1,state:C},m.set(y,x)}}}function YA(i,s){pi.X(i,s);var c=sl;if(c&&i){var f=Os(c).hoistableScripts,m=al(i),y=f.get(m);y||(y=c.querySelector(Ra(m)),y||(i=g({src:i,async:!0},s),(s=Sr.get(m))&&sm(i,s),y=c.createElement("script"),on(y),yn(y,"link",i),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(m,y))}}function XA(i,s){pi.M(i,s);var c=sl;if(c&&i){var f=Os(c).hoistableScripts,m=al(i),y=f.get(m);y||(y=c.querySelector(Ra(m)),y||(i=g({src:i,async:!0,type:"module"},s),(s=Sr.get(m))&&sm(i,s),y=c.createElement("script"),on(y),yn(y,"link",i),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(m,y))}}function z1(i,s,c,f){var m=(m=ae.current)?Ru(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=ll(c.href),c=Os(m).hoistableStyles,f=c.get(s),f||(f={type:"style",instance:null,count:0,state:null},c.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=ll(c.href);var y=Os(m).hoistableStyles,x=y.get(i);if(x||(m=m.ownerDocument||m,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,x),(y=m.querySelector(Oa(i)))&&!y._p&&(x.instance=y,x.state.loading=5),Sr.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Sr.set(i,c),y||WA(m,i,c,x.state))),s&&f===null)throw Error(r(528,""));return x}if(s&&f!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=al(c),c=Os(m).hoistableScripts,f=c.get(s),f||(f={type:"script",instance:null,count:0,state:null},c.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ll(i){return'href="'+dr(i)+'"'}function Oa(i){return'link[rel="stylesheet"]['+i+"]"}function L1(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function WA(i,s,c,f){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=i.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),yn(s,"link",c),on(s),i.head.appendChild(s))}function al(i){return'[src="'+dr(i)+'"]'}function Ra(i){return"script[async]"+i}function B1(i,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var f=i.querySelector('style[data-href~="'+dr(c.href)+'"]');if(f)return s.instance=f,on(f),f;var m=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),on(f),yn(f,"style",m),Nu(f,c.precedence,i),s.instance=f;case"stylesheet":m=ll(c.href);var y=i.querySelector(Oa(m));if(y)return s.state.loading|=4,s.instance=y,on(y),y;f=L1(c),(m=Sr.get(m))&&om(f,m),y=(i.ownerDocument||i).createElement("link"),on(y);var x=y;return x._p=new Promise(function(C,D){x.onload=C,x.onerror=D}),yn(y,"link",f),s.state.loading|=4,Nu(y,c.precedence,i),s.instance=y;case"script":return y=al(c.src),(m=i.querySelector(Ra(y)))?(s.instance=m,on(m),m):(f=c,(m=Sr.get(y))&&(f=g({},c),sm(f,m)),i=i.ownerDocument||i,m=i.createElement("script"),on(m),yn(m,"link",f),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,Nu(f,c.precedence,i));return s.instance}function Nu(i,s,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=f.length?f[f.length-1]:null,y=m,x=0;x<f.length;x++){var C=f[x];if(C.dataset.precedence===s)y=C;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(i,s.firstChild))}function om(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function sm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Du=null;function _1(i,s,c){if(Du===null){var f=new Map,m=Du=new Map;m.set(c,f)}else m=Du,f=m.get(c),f||(f=new Map,m.set(c,f));if(f.has(i))return f;for(f.set(i,null),c=c.getElementsByTagName(i),m=0;m<c.length;m++){var y=c[m];if(!(y[Gl]||y[hn]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(s)||"";x=i+x;var C=f.get(x);C?C.push(y):f.set(x,[y])}}return f}function I1(i,s,c){i=i.ownerDocument||i,i.head.insertBefore(c,s==="title"?i.querySelector("head > title"):null)}function JA(i,s,c){if(c===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function H1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function QA(i,s,c,f){if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var m=ll(f.href),y=s.querySelector(Oa(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=zu.bind(i),s.then(i,i)),c.state.loading|=4,c.instance=y,on(y);return}y=s.ownerDocument||s,f=L1(f),(m=Sr.get(m))&&om(f,m),y=y.createElement("link"),on(y);var x=y;x._p=new Promise(function(C,D){x.onload=C,x.onerror=D}),yn(y,"link",f),c.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=zu.bind(i),s.addEventListener("load",c),s.addEventListener("error",c))}}var lm=0;function ZA(i,s){return i.stylesheets&&i.count===0&&Bu(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var f=setTimeout(function(){if(i.stylesheets&&Bu(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+s);0<i.imgBytes&&lm===0&&(lm=62500*zA());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Bu(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>lm?50:800)+s);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(f),clearTimeout(m)}}:null}function zu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bu(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Lu=null;function Bu(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Lu=new Map,s.forEach(eO,i),Lu=null,zu.call(i))}function eO(i,s){if(!(s.state.loading&4)){var c=Lu.get(i);if(c)var f=c.get(null);else{c=new Map,Lu.set(i,c);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var x=m[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(c.set(x.dataset.precedence,x),f=x)}f&&c.set(null,f)}m=s.instance,x=m.getAttribute("data-precedence"),y=c.get(x)||f,y===f&&c.set(null,m),c.set(x,m),this.count++,f=zu.bind(this),m.addEventListener("load",f),m.addEventListener("error",f),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var Na={$$typeof:A,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function tO(i,s,c,f,m,y,x,C,D){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rt(0),this.hiddenUpdates=Rt(null),this.identifierPrefix=f,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function V1(i,s,c,f,m,y,x,C,D,P,W,te){return i=new tO(i,s,c,x,D,P,W,te,C),s=1,y===!0&&(s|=24),y=Wn(3,null,null,s),i.current=y,y.stateNode=i,s=jh(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:f,isDehydrated:c,cache:s},Fh(y),i}function j1(i){return i?(i=Vs,i):Vs}function U1(i,s,c,f,m,y){m=j1(m),f.context===null?f.context=m:f.pendingContext=m,f=Hi(s),f.payload={element:c},y=y===void 0?null:y,y!==null&&(f.callback=y),c=Vi(i,f,s),c!==null&&($n(c,i,s),ca(c,i,s))}function P1(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<s?c:s}}function am(i,s){P1(i,s),(i=i.alternate)&&P1(i,s)}function q1(i){if(i.tag===13||i.tag===31){var s=Uo(i,67108864);s!==null&&$n(s,i,67108864),am(i,67108864)}}function F1(i){if(i.tag===13||i.tag===31){var s=tr();s=Wr(s);var c=Uo(i,s);c!==null&&$n(c,i,s),am(i,s)}}var _u=!0;function nO(i,s,c,f){var m=L.T;L.T=null;var y=q.p;try{q.p=2,cm(i,s,c,f)}finally{q.p=y,L.T=m}}function rO(i,s,c,f){var m=L.T;L.T=null;var y=q.p;try{q.p=8,cm(i,s,c,f)}finally{q.p=y,L.T=m}}function cm(i,s,c,f){if(_u){var m=um(f);if(m===null)Xp(i,s,f,Iu,c),G1(i,f);else if(oO(m,i,s,c,f))f.stopPropagation();else if(G1(i,f),s&4&&-1<iO.indexOf(i)){for(;m!==null;){var y=As(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=Ft(y.pendingLanes);if(x!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;x;){var D=1<<31-jt(x);C.entanglements[1]|=D,x&=~D}Hr(y),(at&6)===0&&(vu=Se()+500,Ca(0))}}break;case 31:case 13:C=Uo(y,2),C!==null&&$n(C,y,2),xu(),am(y,2)}if(y=um(f),y===null&&Xp(i,s,f,Iu,c),y===m)break;m=y}m!==null&&f.stopPropagation()}else Xp(i,s,f,null,c)}}function um(i){return i=dh(i),fm(i)}var Iu=null;function fm(i){if(Iu=null,i=ks(i),i!==null){var s=l(i);if(s===null)i=null;else{var c=s.tag;if(c===13){if(i=a(s),i!==null)return i;i=null}else if(c===31){if(i=u(s),i!==null)return i;i=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Iu=i,null}function $1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ye()){case Je:return 2;case it:return 8;case Ge:case Dt:return 32;case Ot:return 268435456;default:return 32}default:return 32}}var dm=!1,Wi=null,Ji=null,Qi=null,Da=new Map,za=new Map,Zi=[],iO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G1(i,s){switch(i){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":Da.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":za.delete(s.pointerId)}}function La(i,s,c,f,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:c,eventSystemFlags:f,nativeEvent:y,targetContainers:[m]},s!==null&&(s=As(s),s!==null&&q1(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function oO(i,s,c,f,m){switch(s){case"focusin":return Wi=La(Wi,i,s,c,f,m),!0;case"dragenter":return Ji=La(Ji,i,s,c,f,m),!0;case"mouseover":return Qi=La(Qi,i,s,c,f,m),!0;case"pointerover":var y=m.pointerId;return Da.set(y,La(Da.get(y)||null,i,s,c,f,m)),!0;case"gotpointercapture":return y=m.pointerId,za.set(y,La(za.get(y)||null,i,s,c,f,m)),!0}return!1}function K1(i){var s=ks(i.target);if(s!==null){var c=l(s);if(c!==null){if(s=c.tag,s===13){if(s=a(c),s!==null){i.blockedOn=s,Rc(i.priority,function(){F1(c)});return}}else if(s===31){if(s=u(c),s!==null){i.blockedOn=s,Rc(i.priority,function(){F1(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Hu(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var c=um(i.nativeEvent);if(c===null){c=i.nativeEvent;var f=new c.constructor(c.type,c);fh=f,c.target.dispatchEvent(f),fh=null}else return s=As(c),s!==null&&q1(s),i.blockedOn=c,!1;s.shift()}return!0}function Y1(i,s,c){Hu(i)&&c.delete(s)}function sO(){dm=!1,Wi!==null&&Hu(Wi)&&(Wi=null),Ji!==null&&Hu(Ji)&&(Ji=null),Qi!==null&&Hu(Qi)&&(Qi=null),Da.forEach(Y1),za.forEach(Y1)}function Vu(i,s){i.blockedOn===s&&(i.blockedOn=null,dm||(dm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,sO)))}var ju=null;function X1(i){ju!==i&&(ju=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ju===i&&(ju=null);for(var s=0;s<i.length;s+=3){var c=i[s],f=i[s+1],m=i[s+2];if(typeof f!="function"){if(fm(f||c)===null)continue;break}var y=As(c);y!==null&&(i.splice(s,3),s-=3,up(y,{pending:!0,data:m,method:c.method,action:f},f,m))}}))}function cl(i){function s(D){return Vu(D,i)}Wi!==null&&Vu(Wi,i),Ji!==null&&Vu(Ji,i),Qi!==null&&Vu(Qi,i),Da.forEach(s),za.forEach(s);for(var c=0;c<Zi.length;c++){var f=Zi[c];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Zi.length&&(c=Zi[0],c.blockedOn===null);)K1(c),c.blockedOn===null&&Zi.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var m=c[f],y=c[f+1],x=m[Vn]||null;if(typeof y=="function")x||X1(c);else if(x){var C=null;if(y&&y.hasAttribute("formAction")){if(m=y,x=y[Vn]||null)C=x.formAction;else if(fm(m)!==null)continue}else C=x.action;typeof C=="function"?c[f+1]=C:(c.splice(f,3),f-=3),X1(c)}}}function W1(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(x){return m=x})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),f||setTimeout(c,20)}function c(){if(!f&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){f=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function hm(i){this._internalRoot=i}Uu.prototype.render=hm.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,f=tr();U1(c,f,i,s,null,null)},Uu.prototype.unmount=hm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;U1(i.current,2,null,i,null,null),xu(),s[Ms]=null}};function Uu(i){this._internalRoot=i}Uu.prototype.unstable_scheduleHydration=function(i){if(i){var s=Oc();i={blockedOn:null,target:i,priority:s};for(var c=0;c<Zi.length&&s!==0&&s<Zi[c].priority;c++);Zi.splice(c,0,i),c===0&&K1(i)}};var J1=e.version;if(J1!=="19.2.3")throw Error(r(527,J1,"19.2.3"));q.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var lO={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{vt=Pu.inject(lO),dt=Pu}catch{}}return _a.createRoot=function(i,s){if(!o(i))throw Error(r(299));var c=!1,f="",m=iv,y=ov,x=sv;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=V1(i,1,!1,null,null,c,f,null,m,y,x,W1),i[Ms]=s.current,Yp(i),new hm(s)},_a.hydrateRoot=function(i,s,c){if(!o(i))throw Error(r(299));var f=!1,m="",y=iv,x=ov,C=sv,D=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(C=c.onRecoverableError),c.formState!==void 0&&(D=c.formState)),s=V1(i,1,!0,s,c??null,f,m,D,y,x,C,W1),s.context=j1(null),c=s.current,f=tr(),f=Wr(f),m=Hi(f),m.callback=null,Vi(c,m,f),c=f,s.current.lanes=c,Cn(s,c),Hr(s),i[Ms]=s.current,Yp(i),new Uu(s)},_a.version="19.2.3",_a}var lS;function yO(){if(lS)return gm.exports;lS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gm.exports=gO(),gm.exports}var bO=yO();const vO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),aS=t=>{const e=SO(t);return e.charAt(0).toUpperCase()+e.slice(1)},LE=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),xO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var EO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const TO=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:a,...u},d)=>M.createElement("svg",{ref:d,...EO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:LE("lucide",o),...!l&&!xO(u)&&{"aria-hidden":"true"},...u},[...a.map(([h,p])=>M.createElement(h,p)),...Array.isArray(l)?l:[l]]));const Ro=(t,e)=>{const n=M.forwardRef(({className:r,...o},l)=>M.createElement(TO,{ref:l,iconNode:e,className:LE(`lucide-${vO(aS(t))}`,`lucide-${t}`,r),...o}));return n.displayName=aS(t),n};const wO=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],CO=Ro("bold",wO);const MO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kO=Ro("check",MO);const AO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],BE=Ro("chevron-down",AO);const OO=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],RO=Ro("chevron-up",OO);const NO=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],DO=Ro("code",NO);const zO=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],LO=Ro("italic",zO);const BO=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],_O=Ro("save",BO);const IO=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],HO=Ro("underline",IO);function bn(t){this.content=t}bn.prototype={constructor:bn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,o=r.find(t),l=r.content.slice();return o==-1?l.push(n||t,e):(l[o+1]=e,n&&(l[o]=n)),new bn(l)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new bn(n)},addToStart:function(t,e){return new bn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new bn(n)},addBefore:function(t,e,n){var r=this.remove(e),o=r.content.slice(),l=r.find(t);return o.splice(l==-1?o.length:l,0,e,n),new bn(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=bn.from(t),t.size?new bn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=bn.from(t),t.size?new bn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=bn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};bn.from=function(t){if(t instanceof bn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new bn(e)};function _E(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let o=t.child(r),l=e.child(r);if(o==l){n+=o.nodeSize;continue}if(!o.sameMarkup(l))return n;if(o.isText&&o.text!=l.text){for(let a=0;o.text[a]==l.text[a];a++)n++;return n}if(o.content.size||l.content.size){let a=_E(o.content,l.content,n+1);if(a!=null)return a}n+=o.nodeSize}}function IE(t,e,n,r){for(let o=t.childCount,l=e.childCount;;){if(o==0||l==0)return o==l?null:{a:n,b:r};let a=t.child(--o),u=e.child(--l),d=a.nodeSize;if(a==u){n-=d,r-=d;continue}if(!a.sameMarkup(u))return{a:n,b:r};if(a.isText&&a.text!=u.text){let h=0,p=Math.min(a.text.length,u.text.length);for(;h<p&&a.text[a.text.length-h-1]==u.text[u.text.length-h-1];)h++,n--,r--;return{a:n,b:r}}if(a.content.size||u.content.size){let h=IE(a.content,u.content,n-1,r-1);if(h)return h}n-=d,r-=d}}class le{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,o=0,l){for(let a=0,u=0;u<n;a++){let d=this.content[a],h=u+d.nodeSize;if(h>e&&r(d,o+u,l||null,a)!==!1&&d.content.size){let p=u+1;d.nodesBetween(Math.max(0,e-p),Math.min(d.content.size,n-p),r,o+p)}u=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,o){let l="",a=!0;return this.nodesBetween(e,n,(u,d)=>{let h=u.isText?u.text.slice(Math.max(e,d)-d,n-d):u.isLeaf?o?typeof o=="function"?o(u):o:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&h||u.isTextblock)&&r&&(a?a=!1:l+=r),l+=h},0),l}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,o=this.content.slice(),l=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),l=1);l<e.content.length;l++)o.push(e.content[l]);return new le(o,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],o=0;if(n>e)for(let l=0,a=0;a<n;l++){let u=this.content[l],d=a+u.nodeSize;d>e&&((a<e||d>n)&&(u.isText?u=u.cut(Math.max(0,e-a),Math.min(u.text.length,n-a)):u=u.cut(Math.max(0,e-a-1),Math.min(u.content.size,n-a-1))),r.push(u),o+=u.nodeSize),a=d}return new le(r,o)}cutByIndex(e,n){return e==n?le.empty:e==0&&n==this.content.length?this:new le(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let o=this.content.slice(),l=this.size+n.nodeSize-r.nodeSize;return o[e]=n,new le(o,l)}addToStart(e){return new le([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new le(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let o=this.content[n];e(o,r,n),r+=o.nodeSize}}findDiffStart(e,n=0){return _E(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return IE(this,e,n,r)}findIndex(e){if(e==0)return qu(0,e);if(e==this.size)return qu(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let o=this.child(n),l=r+o.nodeSize;if(l>=e)return l==e?qu(n+1,l):qu(n,r);r=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return le.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new le(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return le.empty;let n,r=0;for(let o=0;o<e.length;o++){let l=e[o];r+=l.nodeSize,o&&l.isText&&e[o-1].sameMarkup(l)?(n||(n=e.slice(0,o)),n[n.length-1]=l.withText(n[n.length-1].text+l.text)):n&&n.push(l)}return new le(n||e,r)}static from(e){if(!e)return le.empty;if(e instanceof le)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new le([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}le.empty=new le([],0);const Sm={index:0,offset:0};function qu(t,e){return Sm.index=t,Sm.offset=e,Sm}function wf(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!wf(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!wf(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let yt=class cg{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let o=0;o<e.length;o++){let l=e[o];if(this.eq(l))return e;if(this.type.excludes(l.type))n||(n=e.slice(0,o));else{if(l.type.excludes(this.type))return e;!r&&l.type.rank>this.type.rank&&(n||(n=e.slice(0,o)),n.push(this),r=!0),n&&n.push(l)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&wf(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let o=r.create(n.attrs);return r.checkAttrs(o.attrs),o}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return cg.none;if(e instanceof cg)return[e];let n=e.slice();return n.sort((r,o)=>r.type.rank-o.type.rank),n}};yt.none=[];class Cf extends Error{}class xe{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=VE(this.content,e+this.openStart,n);return r&&new xe(r,this.openStart,this.openEnd)}removeBetween(e,n){return new xe(HE(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return xe.empty;let r=n.openStart||0,o=n.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new xe(le.fromJSON(e,n.content),r,o)}static maxOpen(e,n=!0){let r=0,o=0;for(let l=e.firstChild;l&&!l.isLeaf&&(n||!l.type.spec.isolating);l=l.firstChild)r++;for(let l=e.lastChild;l&&!l.isLeaf&&(n||!l.type.spec.isolating);l=l.lastChild)o++;return new xe(e,r,o)}}xe.empty=new xe(le.empty,0,0);function HE(t,e,n){let{index:r,offset:o}=t.findIndex(e),l=t.maybeChild(r),{index:a,offset:u}=t.findIndex(n);if(o==e||l.isText){if(u!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,l.copy(HE(l.content,e-o-1,n-o-1)))}function VE(t,e,n,r){let{index:o,offset:l}=t.findIndex(e),a=t.maybeChild(o);if(l==e||a.isText)return r&&!r.canReplace(o,o,n)?null:t.cut(0,e).append(n).append(t.cut(e));let u=VE(a.content,e-l-1,n,a);return u&&t.replaceChild(o,a.copy(u))}function VO(t,e,n){if(n.openStart>t.depth)throw new Cf("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Cf("Inconsistent open depths");return jE(t,e,n,0)}function jE(t,e,n,r){let o=t.index(r),l=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){let a=jE(t,e,n,r+1);return l.copy(l.content.replaceChild(o,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,u=a.content;return fs(a,u.cut(0,t.parentOffset).append(n.content).append(u.cut(e.parentOffset)))}else{let{start:a,end:u}=jO(n,t);return fs(l,PE(t,a,u,e,r))}else return fs(l,Mf(t,e,r))}function UE(t,e){if(!e.type.compatibleContent(t.type))throw new Cf("Cannot join "+e.type.name+" onto "+t.type.name)}function ug(t,e,n){let r=t.node(n);return UE(r,e.node(n)),r}function us(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Ya(t,e,n,r){let o=(e||t).node(n),l=0,a=e?e.index(n):o.childCount;t&&(l=t.index(n),t.depth>n?l++:t.textOffset&&(us(t.nodeAfter,r),l++));for(let u=l;u<a;u++)us(o.child(u),r);e&&e.depth==n&&e.textOffset&&us(e.nodeBefore,r)}function fs(t,e){return t.type.checkContent(e),t.copy(e)}function PE(t,e,n,r,o){let l=t.depth>o&&ug(t,e,o+1),a=r.depth>o&&ug(n,r,o+1),u=[];return Ya(null,t,o,u),l&&a&&e.index(o)==n.index(o)?(UE(l,a),us(fs(l,PE(t,e,n,r,o+1)),u)):(l&&us(fs(l,Mf(t,e,o+1)),u),Ya(e,n,o,u),a&&us(fs(a,Mf(n,r,o+1)),u)),Ya(r,null,o,u),new le(u)}function Mf(t,e,n){let r=[];if(Ya(null,t,n,r),t.depth>n){let o=ug(t,e,n+1);us(fs(o,Mf(t,e,n+1)),r)}return Ya(e,null,n,r),new le(r)}function jO(t,e){let n=e.depth-t.openStart,o=e.node(n).copy(t.content);for(let l=n-1;l>=0;l--)o=e.node(l).copy(le.from(o));return{start:o.resolveNoCache(t.openStart+n),end:o.resolveNoCache(o.content.size-t.openEnd-n)}}class lc{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=e.child(n);return r?e.child(n).cut(r):o}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],o=n==0?0:this.path[n*3-1]+1;for(let l=0;l<e;l++)o+=r.child(l).nodeSize;return o}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return yt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),o=e.maybeChild(n);if(!r){let u=r;r=o,o=u}let l=r.marks;for(var a=0;a<l.length;a++)l[a].type.spec.inclusive===!1&&(!o||!l[a].isInSet(o.marks))&&(l=l[a--].removeFromSet(l));return l}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,o=e.parent.maybeChild(e.index());for(var l=0;l<r.length;l++)r[l].type.spec.inclusive===!1&&(!o||!r[l].isInSet(o.marks))&&(r=r[l--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new kf(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],o=0,l=n;for(let a=e;;){let{index:u,offset:d}=a.content.findIndex(l),h=l-d;if(r.push(a,u,o+d),!h||(a=a.child(u),a.isText))break;l=h-1,o+=d+1}return new lc(n,r,l)}static resolveCached(e,n){let r=cS.get(e);if(r)for(let l=0;l<r.elts.length;l++){let a=r.elts[l];if(a.pos==n)return a}else cS.set(e,r=new UO);let o=r.elts[r.i]=lc.resolve(e,n);return r.i=(r.i+1)%PO,o}}class UO{constructor(){this.elts=[],this.i=0}}const PO=12,cS=new WeakMap;class kf{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const qO=Object.create(null);let mo=class fg{constructor(e,n,r,o=yt.none){this.type=e,this.attrs=n,this.marks=o,this.content=r||le.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,o=0){this.content.nodesBetween(e,n,r,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,o){return this.content.textBetween(e,n,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&wf(this.attrs,n||e.defaultAttrs||qO)&&yt.sameSet(this.marks,r||yt.none)}copy(e=null){return e==this.content?this:new fg(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new fg(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return xe.empty;let o=this.resolve(e),l=this.resolve(n),a=r?0:o.sharedDepth(n),u=o.start(a),h=o.node(a).content.cut(o.pos-u,l.pos-u);return new xe(h,o.depth-a,l.depth-a)}replace(e,n,r){return VO(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:o}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(o==e||n.isText)return n;e-=o+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}}resolve(e){return lc.resolveCached(this,e)}resolveNoCache(e){return lc.resolve(this,e)}rangeHasMark(e,n,r){let o=!1;return n>e&&this.nodesBetween(e,n,l=>(r.isInSet(l.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),qE(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=le.empty,o=0,l=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,o,l),u=a&&a.matchFragment(this.content,n);if(!u||!u.validEnd)return!1;for(let d=o;d<l;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,n,r,o){if(o&&!this.type.allowsMarks(o))return!1;let l=this.contentMatchAt(e).matchType(r),a=l&&l.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=yt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!yt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let o=le.fromJSON(e,n.content),l=e.nodeType(n.type).create(n.attrs,o,r);return l.type.checkAttrs(l.attrs),l}};mo.prototype.text=void 0;class Af extends mo{constructor(e,n,r,o){if(super(e,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):qE(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Af(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Af(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function qE(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class ms{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new FO(e,n);if(r.next==null)return ms.empty;let o=FE(r);r.next&&r.err("Unexpected trailing text");let l=JO(WO(o));return QO(l,r),l}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let o=this;for(let l=n;o&&l<r;l++)o=o.matchType(e.child(l).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let o=[this];function l(a,u){let d=a.matchFragment(e,r);if(d&&(!n||d.validEnd))return le.from(u.map(h=>h.createAndFill()));for(let h=0;h<a.next.length;h++){let{type:p,next:g}=a.next[h];if(!(p.isText||p.hasRequiredAttrs())&&o.indexOf(g)==-1){o.push(g);let b=l(g,u.concat(p));if(b)return b}}return null}return l(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),l=o.match;if(l.matchType(e)){let a=[];for(let u=o;u.type;u=u.via)a.push(u.type);return a.reverse()}for(let a=0;a<l.next.length;a++){let{type:u,next:d}=l.next[a];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in n)&&(!o.type||d.validEnd)&&(r.push({match:u.contentMatch,type:u,via:o}),n[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let o=0;o<r.next.length;o++)e.indexOf(r.next[o].next)==-1&&n(r.next[o].next)}return n(this),e.map((r,o)=>{let l=o+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)l+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return l}).join(`
`)}}ms.empty=new ms(!0);class FO{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function FE(t){let e=[];do e.push($O(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function $O(t){let e=[];do e.push(GO(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function GO(t){let e=XO(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=KO(t,e);else break;return e}function uS(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function KO(t,e){let n=uS(t),r=n;return t.eat(",")&&(t.next!="}"?r=uS(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function YO(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let o=[];for(let l in n){let a=n[l];a.isInGroup(e)&&o.push(a)}return o.length==0&&t.err("No node type or group '"+e+"' found"),o}function XO(t){if(t.eat("(")){let e=FE(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=YO(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function WO(t){let e=[[]];return o(l(t,0),n()),e;function n(){return e.push([])-1}function r(a,u,d){let h={term:d,to:u};return e[a].push(h),h}function o(a,u){a.forEach(d=>d.to=u)}function l(a,u){if(a.type=="choice")return a.exprs.reduce((d,h)=>d.concat(l(h,u)),[]);if(a.type=="seq")for(let d=0;;d++){let h=l(a.exprs[d],u);if(d==a.exprs.length-1)return h;o(h,u=n())}else if(a.type=="star"){let d=n();return r(u,d),o(l(a.expr,d),d),[r(d)]}else if(a.type=="plus"){let d=n();return o(l(a.expr,u),d),o(l(a.expr,d),d),[r(d)]}else{if(a.type=="opt")return[r(u)].concat(l(a.expr,u));if(a.type=="range"){let d=u;for(let h=0;h<a.min;h++){let p=n();o(l(a.expr,d),p),d=p}if(a.max==-1)o(l(a.expr,d),d);else for(let h=a.min;h<a.max;h++){let p=n();r(d,p),o(l(a.expr,d),p),d=p}return[r(d)]}else{if(a.type=="name")return[r(u,void 0,a.value)];throw new Error("Unknown expr type")}}}}function $E(t,e){return e-t}function fS(t,e){let n=[];return r(e),n.sort($E);function r(o){let l=t[o];if(l.length==1&&!l[0].term)return r(l[0].to);n.push(o);for(let a=0;a<l.length;a++){let{term:u,to:d}=l[a];!u&&n.indexOf(d)==-1&&r(d)}}}function JO(t){let e=Object.create(null);return n(fS(t,0));function n(r){let o=[];r.forEach(a=>{t[a].forEach(({term:u,to:d})=>{if(!u)return;let h;for(let p=0;p<o.length;p++)o[p][0]==u&&(h=o[p][1]);fS(t,d).forEach(p=>{h||o.push([u,h=[]]),h.indexOf(p)==-1&&h.push(p)})})});let l=e[r.join(",")]=new ms(r.indexOf(t.length-1)>-1);for(let a=0;a<o.length;a++){let u=o[a][1].sort($E);l.next.push({type:o[a][0],next:e[u.join(",")]||n(u)})}return l}}function QO(t,e){for(let n=0,r=[t];n<r.length;n++){let o=r[n],l=!o.validEnd,a=[];for(let u=0;u<o.next.length;u++){let{type:d,next:h}=o.next[u];a.push(d.name),l&&!(d.isText||d.hasRequiredAttrs())&&(l=!1),r.indexOf(h)==-1&&r.push(h)}l&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function GE(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function KE(t,e){let n=Object.create(null);for(let r in t){let o=e&&e[r];if(o===void 0){let l=t[r];if(l.hasDefault)o=l.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=o}return n}function YE(t,e,n,r){for(let o in e)if(!(o in t))throw new RangeError(`Unsupported attribute ${o} for ${n} of type ${o}`);for(let o in t){let l=t[o];l.validate&&l.validate(e[o])}}function XE(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new eR(t,r,e[r]);return n}let dS=class WE{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=XE(e,r.attrs),this.defaultAttrs=GE(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ms.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:KE(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new mo(this,this.computeAttrs(e),le.from(n),yt.setFrom(r))}createChecked(e=null,n,r){return n=le.from(n),this.checkContent(n),new mo(this,this.computeAttrs(e),n,yt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=le.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let o=this.contentMatch.matchFragment(n),l=o&&o.fillBefore(le.empty,!0);return l?new mo(this,e,n.append(l),yt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){YE(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:yt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((l,a)=>r[l]=new WE(l,n,a));let o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let l in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function ZO(t,e,n){let r=n.split("|");return o=>{let l=o===null?"null":typeof o;if(r.indexOf(l)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${l}`)}}class eR{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?ZO(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Rd{constructor(e,n,r,o){this.name=e,this.rank=n,this.schema=r,this.spec=o,this.attrs=XE(e,o.attrs),this.excluded=null;let l=GE(this.attrs);this.instance=l?new yt(this,l):null}create(e=null){return!e&&this.instance?this.instance:new yt(this,KE(this.attrs,e))}static compile(e,n){let r=Object.create(null),o=0;return e.forEach((l,a)=>r[l]=new Rd(l,o++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){YE(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class JE{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let o in e)n[o]=e[o];n.nodes=bn.from(e.nodes),n.marks=bn.from(e.marks||{}),this.nodes=dS.compile(this.spec.nodes,this),this.marks=Rd.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let l=this.nodes[o],a=l.spec.content||"",u=l.spec.marks;if(l.contentMatch=r[a]||(r[a]=ms.parse(a,this.nodes)),l.inlineContent=l.contentMatch.inlineContent,l.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!l.isInline||!l.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=l}l.markSet=u=="_"?null:u?hS(this,u.split(" ")):u==""||!l.inlineContent?[]:null}for(let o in this.marks){let l=this.marks[o],a=l.spec.excludes;l.excluded=a==null?[l]:a==""?[]:hS(this,a.split(" "))}this.nodeFromJSON=o=>mo.fromJSON(this,o),this.markFromJSON=o=>yt.fromJSON(this,o),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof dS){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,o)}text(e,n){let r=this.nodes.text;return new Af(r,r.defaultAttrs,e,yt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function hS(t,e){let n=[];for(let r=0;r<e.length;r++){let o=e[r],l=t.marks[o],a=l;if(l)n.push(l);else for(let u in t.marks){let d=t.marks[u];(o=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(o)>-1)&&n.push(a=d)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function tR(t){return t.tag!=null}function nR(t){return t.style!=null}class go{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(o=>{if(tR(o))this.tags.push(o);else if(nR(o)){let l=/[^=]*/.exec(o.style)[0];r.indexOf(l)<0&&r.push(l),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let l=e.nodes[o.node];return l.contentMatch.matchType(l)})}parse(e,n={}){let r=new mS(this,n,!1);return r.addAll(e,yt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new mS(this,n,!0);return r.addAll(e,yt.none,n.from,n.to),xe.maxOpen(r.finish())}matchTag(e,n,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let l=this.tags[o];if(oR(e,l.tag)&&(l.namespace===void 0||e.namespaceURI==l.namespace)&&(!l.context||n.matchesContext(l.context))){if(l.getAttrs){let a=l.getAttrs(e);if(a===!1)continue;l.attrs=a||void 0}return l}}}matchStyle(e,n,r,o){for(let l=o?this.styles.indexOf(o)+1:0;l<this.styles.length;l++){let a=this.styles[l],u=a.style;if(!(u.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=n))){if(a.getAttrs){let d=a.getAttrs(n);if(d===!1)continue;a.attrs=d||void 0}return a}}}static schemaRules(e){let n=[];function r(o){let l=o.priority==null?50:o.priority,a=0;for(;a<n.length;a++){let u=n[a];if((u.priority==null?50:u.priority)<l)break}n.splice(a,0,o)}for(let o in e.marks){let l=e.marks[o].spec.parseDOM;l&&l.forEach(a=>{r(a=gS(a)),a.mark||a.ignore||a.clearMark||(a.mark=o)})}for(let o in e.nodes){let l=e.nodes[o].spec.parseDOM;l&&l.forEach(a=>{r(a=gS(a)),a.node||a.ignore||a.mark||(a.node=o)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new go(e,go.schemaRules(e)))}}const QE={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},rR={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ZE={ol:!0,ul:!0},ac=1,dg=2,Xa=4;function pS(t,e,n){return e!=null?(e?ac:0)|(e==="full"?dg:0):t&&t.whitespace=="pre"?ac|dg:n&~Xa}class Fu{constructor(e,n,r,o,l,a){this.type=e,this.attrs=n,this.marks=r,this.solid=o,this.options=a,this.content=[],this.activeMarks=yt.none,this.match=l||(a&Xa?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(le.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(e.type))?(this.match=r,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&ac)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let l=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=l.withText(l.text.slice(0,l.text.length-o[0].length))}}let n=le.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(le.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!QE.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class mS{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let o=n.topNode,l,a=pS(null,n.preserveWhitespace,0)|(r?Xa:0);o?l=new Fu(o.type,o.attrs,yt.none,!0,n.topMatch||o.type.contentMatch,a):r?l=new Fu(null,null,yt.none,!0,null,a):l=new Fu(e.schema.topNodeType,null,yt.none,!0,null,a),this.nodes=[l],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,o=this.top,l=o.options&dg?"full":this.localPreserveWS||(o.options&ac)>0,{schema:a}=this.parser;if(l==="full"||o.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(l)if(l==="full")r=r.replace(/\r\n?/g,`
`);else if(a.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(a.linebreakReplacement.create())){let u=r.split(/\r?\n|\r/);for(let d=0;d<u.length;d++)d&&this.insertNode(a.linebreakReplacement.create(),n,!0),u[d]&&this.insertNode(a.text(u[d]),n,!/\S/.test(u[d]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let u=o.content[o.content.length-1],d=e.previousSibling;(!u||d&&d.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(r=r.slice(1))}r&&this.insertNode(a.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let o=this.localPreserveWS,l=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),u;ZE.hasOwnProperty(a)&&this.parser.normalizeLists&&iR(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,r));e:if(d?d.ignore:rR.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let h,p=this.needsBlock;if(QE.hasOwnProperty(a))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),h=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let g=d&&d.skip?n:this.readStyles(e,n);g&&this.addAll(e,g),h&&this.sync(l),this.needsBlock=p}else{let h=this.readStyles(e,n);h&&this.addElementByRule(e,d,h,d.consuming===!1?u:void 0)}this.localPreserveWS=o}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let l=this.parser.matchedStyles[o],a=r.getPropertyValue(l);if(a)for(let u=void 0;;){let d=this.parser.matchStyle(l,a,this,u);if(!d)break;if(d.ignore)return null;if(d.clearMark?n=n.filter(h=>!d.clearMark(h)):n=n.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)u=d;else break}}return n}addElementByRule(e,n,r,o){let l,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let d=this.enter(a,n.attrs||null,r,n.preserveWhitespace);d&&(l=!0,r=d)}else{let d=this.parser.schema.marks[n.mark];r=r.concat(d.create(n.attrs))}let u=this.top;if(a&&a.isLeaf)this.findInside(e);else if(o)this.addElement(e,r,o);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=e;typeof n.contentElement=="string"?d=e.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(e):n.contentElement&&(d=n.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}l&&this.sync(u)&&this.open--}addAll(e,n,r,o){let l=r||0;for(let a=r?e.childNodes[r]:e.firstChild,u=o==null?null:e.childNodes[o];a!=u;a=a.nextSibling,++l)this.findAtPoint(e,l),this.addDOM(a,n);this.findAtPoint(e,l)}findPlace(e,n,r){let o,l;for(let a=this.open,u=0;a>=0;a--){let d=this.nodes[a],h=d.findWrapping(e);if(h&&(!o||o.length>h.length+u)&&(o=h,l=d,!h.length))break;if(d.solid){if(r)break;u+=2}}if(!o)return null;this.sync(l);for(let a=0;a<o.length;a++)n=this.enterInner(o[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let l=this.textblockFromContext();l&&(n=this.enterInner(l,null,n))}let o=this.findPlace(e,n,r);if(o){this.closeExtra();let l=this.top;l.match&&(l.match=l.match.matchType(e.type));let a=yt.none;for(let u of o.concat(e.marks))(l.type?l.type.allowsMarkType(u.type):yS(u.type,e.type))&&(a=u.addToSet(a));return l.content.push(e.mark(a)),!0}return!1}enter(e,n,r,o){let l=this.findPlace(e.create(n),r,!1);return l&&(l=this.enterInner(e,n,r,!0,o)),l}enterInner(e,n,r,o=!1,l){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let u=pS(e,l,a.options);a.options&Xa&&a.content.length==0&&(u|=Xa);let d=yt.none;return r=r.filter(h=>(a.type?a.type.allowsMarkType(h.type):yS(h.type,e))?(d=h.addToSet(d),!1):!0),this.nodes.push(new Fu(e,n,d,o,null,u)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=ac)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let o=r.length-1;o>=0;o--)e+=r[o].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&n.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),l=-(r?r.depth+1:0)+(o?0:1),a=(u,d)=>{for(;u>=0;u--){let h=n[u];if(h==""){if(u==n.length-1||u==0)continue;for(;d>=l;d--)if(a(u-1,d))return!0;return!1}else{let p=d>0||d==0&&o?this.nodes[d].type:r&&d>=l?r.node(d-l).type:null;if(!p||p.name!=h&&!p.isInGroup(h))return!1;d--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function iR(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&ZE.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function oR(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function gS(t){let e={};for(let n in t)e[n]=t[n];return e}function yS(t,e){let n=e.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(t))continue;let l=[],a=u=>{l.push(u);for(let d=0;d<u.edgeCount;d++){let{type:h,next:p}=u.edge(d);if(h==e||l.indexOf(p)<0&&a(p))return!0}};if(a(o.contentMatch))return!0}}class Es{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=xm(n).createDocumentFragment());let o=r,l=[];return e.forEach(a=>{if(l.length||a.marks.length){let u=0,d=0;for(;u<l.length&&d<a.marks.length;){let h=a.marks[d];if(!this.marks[h.type.name]){d++;continue}if(!h.eq(l[u][0])||h.type.spec.spanning===!1)break;u++,d++}for(;u<l.length;)o=l.pop()[1];for(;d<a.marks.length;){let h=a.marks[d++],p=this.serializeMark(h,a.isInline,n);p&&(l.push([h,o]),o.appendChild(p.dom),o=p.contentDOM||p.dom)}}o.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:o}=gf(xm(n),this.nodes[e.type.name](e),null,e.attrs);if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,o)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let o=e.marks.length-1;o>=0;o--){let l=this.serializeMark(e.marks[o],e.isInline,n);l&&((l.contentDOM||l.dom).appendChild(r),r=l.dom)}return r}serializeMark(e,n,r={}){let o=this.marks[e.type.name];return o&&gf(xm(r),o(e,n),null,e.attrs)}static renderSpec(e,n,r=null,o){return gf(e,n,r,o)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Es(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=bS(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return bS(e.marks)}}function bS(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function xm(t){return t.document||window.document}const vS=new WeakMap;function sR(t){let e=vS.get(t);return e===void 0&&vS.set(t,e=lR(t)),e}function lR(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let o=0;o<r.length;o++)n(r[o]);else for(let o in r)n(r[o])}return n(t),e}function gf(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let o=e[0],l;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(l=sR(r))&&l.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=o.indexOf(" ");a>0&&(n=o.slice(0,a),o=o.slice(a+1));let u,d=n?t.createElementNS(n,o):t.createElement(o),h=e[1],p=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){p=2;for(let g in h)if(h[g]!=null){let b=g.indexOf(" ");b>0?d.setAttributeNS(g.slice(0,b),g.slice(b+1),h[g]):g=="style"&&d.style?d.style.cssText=h[g]:d.setAttribute(g,h[g])}}for(let g=p;g<e.length;g++){let b=e[g];if(b===0){if(g<e.length-1||g>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:v,contentDOM:S}=gf(t,b,n,r);if(d.appendChild(v),S){if(u)throw new RangeError("Multiple content holes");u=S}}}return{dom:d,contentDOM:u}}const eT=65535,tT=Math.pow(2,16);function aR(t,e){return t+e*tT}function SS(t){return t&eT}function cR(t){return(t-(t&eT))/tT}const nT=1,rT=2,yf=4,iT=8;class hg{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&iT)>0}get deletedBefore(){return(this.delInfo&(nT|yf))>0}get deletedAfter(){return(this.delInfo&(rT|yf))>0}get deletedAcross(){return(this.delInfo&yf)>0}}class rr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&rr.empty)return rr.empty}recover(e){let n=0,r=SS(e);if(!this.inverted)for(let o=0;o<r;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+n+cR(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let o=0,l=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?o:0);if(d>e)break;let h=this.ranges[u+l],p=this.ranges[u+a],g=d+h;if(e<=g){let b=h?e==d?-1:e==g?1:n:n,v=d+o+(b<0?0:p);if(r)return v;let S=e==(n<0?d:g)?null:aR(u/3,e-d),E=e==d?rT:e==g?nT:yf;return(n<0?e!=d:e!=g)&&(E|=iT),new hg(v,E,S)}o+=p-h}return r?e+o:new hg(e+o,0,null)}touches(e,n){let r=0,o=SS(n),l=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?r:0);if(d>e)break;let h=this.ranges[u+l],p=d+h;if(e<=p&&u==o*3)return!0;r+=this.ranges[u+a]-h}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,l=0;o<this.ranges.length;o+=3){let a=this.ranges[o],u=a-(this.inverted?l:0),d=a+(this.inverted?0:l),h=this.ranges[o+n],p=this.ranges[o+r];e(u,u+h,d,d+p),l+=p-h}}invert(){return new rr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?rr.empty:new rr(e<0?[0,-e,0]:[0,0,e])}}rr.empty=new rr([]);class cc{constructor(e,n,r=0,o=e?e.length:0){this.mirror=n,this.from=r,this.to=o,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new cc(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let o=e.getMirror(n);this.appendMap(e._maps[n],o!=null&&o<n?r+o:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let o=e.getMirror(n);this.appendMap(e._maps[n].invert(),o!=null&&o>n?r-o-1:void 0)}}invert(){let e=new cc;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let o=0;for(let l=this.from;l<this.to;l++){let a=this._maps[l],u=a.mapResult(e,n);if(u.recover!=null){let d=this.getMirror(l);if(d!=null&&d>l&&d<this.to){l=d,e=this._maps[d].recover(u.recover);continue}}o|=u.delInfo,e=u.pos}return r?e:new hg(e,o,null)}}const Em=Object.create(null);class Rn{getMap(){return rr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Em[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Em)throw new RangeError("Duplicate use of step JSON ID "+e);return Em[e]=n,n.prototype.jsonID=e,n}}class Xt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Xt(e,null)}static fail(e){return new Xt(null,e)}static fromReplace(e,n,r,o){try{return Xt.ok(e.replace(n,r,o))}catch(l){if(l instanceof Cf)return Xt.fail(l.message);throw l}}}function iy(t,e,n){let r=[];for(let o=0;o<t.childCount;o++){let l=t.child(o);l.content.size&&(l=l.copy(iy(l.content,e,l))),l.isInline&&(l=e(l,n,o)),r.push(l)}return le.fromArray(r)}class uo extends Rn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),l=new xe(iy(n.content,(a,u)=>!a.isAtom||!u.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),o),n.openStart,n.openEnd);return Xt.fromReplace(e,this.from,this.to,l)}invert(){return new Lr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new uo(n.pos,r.pos,this.mark)}merge(e){return e instanceof uo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new uo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new uo(n.from,n.to,e.markFromJSON(n.mark))}}Rn.jsonID("addMark",uo);class Lr extends Rn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new xe(iy(n.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),n.openStart,n.openEnd);return Xt.fromReplace(e,this.from,this.to,r)}invert(){return new uo(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Lr(n.pos,r.pos,this.mark)}merge(e){return e instanceof Lr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Lr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Lr(n.from,n.to,e.markFromJSON(n.mark))}}Rn.jsonID("removeMark",Lr);class fo extends Rn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Xt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Xt.fromReplace(e,this.pos,this.pos+1,new xe(le.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let o=0;o<n.marks.length;o++)if(!n.marks[o].isInSet(r))return new fo(this.pos,n.marks[o]);return new fo(this.pos,this.mark)}}return new gs(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new fo(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new fo(n.pos,e.markFromJSON(n.mark))}}Rn.jsonID("addNodeMark",fo);class gs extends Rn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Xt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Xt.fromReplace(e,this.pos,this.pos+1,new xe(le.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new fo(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new gs(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new gs(n.pos,e.markFromJSON(n.mark))}}Rn.jsonID("removeNodeMark",gs);class ln extends Rn{constructor(e,n,r,o=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=o}apply(e){return this.structure&&pg(e,this.from,this.to)?Xt.fail("Structure replace would overwrite content"):Xt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new rr([this.from,this.to-this.from,this.slice.size])}invert(e){return new ln(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ln(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof ln)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?xe.empty:new xe(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ln(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?xe.empty:new xe(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ln(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ln(n.from,n.to,xe.fromJSON(e,n.slice),!!n.structure)}}Rn.jsonID("replace",ln);class cn extends Rn{constructor(e,n,r,o,l,a,u=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=l,this.insert=a,this.structure=u}apply(e){if(this.structure&&(pg(e,this.from,this.gapFrom)||pg(e,this.gapTo,this.to)))return Xt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Xt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Xt.fromReplace(e,this.from,this.to,r):Xt.fail("Content does not fit in gap")}getMap(){return new rr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new cn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),l=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||o<n.pos||l>r.pos?null:new cn(n.pos,r.pos,o,l,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new cn(n.from,n.to,n.gapFrom,n.gapTo,xe.fromJSON(e,n.slice),n.insert,!!n.structure)}}Rn.jsonID("replaceAround",cn);function pg(t,e,n){let r=t.resolve(e),o=n-e,l=r.depth;for(;o>0&&l>0&&r.indexAfter(l)==r.node(l).childCount;)l--,o--;if(o>0){let a=r.node(l).maybeChild(r.indexAfter(l));for(;o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}}return!1}function uR(t,e,n,r){let o=[],l=[],a,u;t.doc.nodesBetween(e,n,(d,h,p)=>{if(!d.isInline)return;let g=d.marks;if(!r.isInSet(g)&&p.type.allowsMarkType(r.type)){let b=Math.max(h,e),v=Math.min(h+d.nodeSize,n),S=r.addToSet(g);for(let E=0;E<g.length;E++)g[E].isInSet(S)||(a&&a.to==b&&a.mark.eq(g[E])?a.to=v:o.push(a=new Lr(b,v,g[E])));u&&u.to==b?u.to=v:l.push(u=new uo(b,v,r))}}),o.forEach(d=>t.step(d)),l.forEach(d=>t.step(d))}function fR(t,e,n,r){let o=[],l=0;t.doc.nodesBetween(e,n,(a,u)=>{if(!a.isInline)return;l++;let d=null;if(r instanceof Rd){let h=a.marks,p;for(;p=r.isInSet(h);)(d||(d=[])).push(p),h=p.removeFromSet(h)}else r?r.isInSet(a.marks)&&(d=[r]):d=a.marks;if(d&&d.length){let h=Math.min(u+a.nodeSize,n);for(let p=0;p<d.length;p++){let g=d[p],b;for(let v=0;v<o.length;v++){let S=o[v];S.step==l-1&&g.eq(o[v].style)&&(b=S)}b?(b.to=h,b.step=l):o.push({style:g,from:Math.max(u,e),to:h,step:l})}}}),o.forEach(a=>t.step(new Lr(a.from,a.to,a.style)))}function oy(t,e,n,r=n.contentMatch,o=!0){let l=t.doc.nodeAt(e),a=[],u=e+1;for(let d=0;d<l.childCount;d++){let h=l.child(d),p=u+h.nodeSize,g=r.matchType(h.type);if(!g)a.push(new ln(u,p,xe.empty));else{r=g;for(let b=0;b<h.marks.length;b++)n.allowsMarkType(h.marks[b].type)||t.step(new Lr(u,p,h.marks[b]));if(o&&h.isText&&n.whitespace!="pre"){let b,v=/\r?\n|\r/g,S;for(;b=v.exec(h.text);)S||(S=new xe(le.from(n.schema.text(" ",n.allowedMarks(h.marks))),0,0)),a.push(new ln(u+b.index,u+b.index+b[0].length,S))}}u=p}if(!r.validEnd){let d=r.fillBefore(le.empty,!0);t.replace(u,u,new xe(d,0,0))}for(let d=a.length-1;d>=0;d--)t.step(a[d])}function dR(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function jl(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth,o=0,l=0;;--r){let a=t.$from.node(r),u=t.$from.index(r)+o,d=t.$to.indexAfter(r)-l;if(r<t.depth&&a.canReplace(u,d,n))return r;if(r==0||a.type.spec.isolating||!dR(a,u,d))break;u&&(o=1),d<a.childCount&&(l=1)}return null}function hR(t,e,n){let{$from:r,$to:o,depth:l}=e,a=r.before(l+1),u=o.after(l+1),d=a,h=u,p=le.empty,g=0;for(let S=l,E=!1;S>n;S--)E||r.index(S)>0?(E=!0,p=le.from(r.node(S).copy(p)),g++):d--;let b=le.empty,v=0;for(let S=l,E=!1;S>n;S--)E||o.after(S+1)<o.end(S)?(E=!0,b=le.from(o.node(S).copy(b)),v++):h++;t.step(new cn(d,h,a,u,new xe(p.append(b),g,v),p.size-g,!0))}function sy(t,e,n=null,r=t){let o=pR(t,e),l=o&&mR(r,e);return l?o.map(xS).concat({type:e,attrs:n}).concat(l.map(xS)):null}function xS(t){return{type:t,attrs:null}}function pR(t,e){let{parent:n,startIndex:r,endIndex:o}=t,l=n.contentMatchAt(r).findWrapping(e);if(!l)return null;let a=l.length?l[0]:e;return n.canReplaceWith(r,o,a)?l:null}function mR(t,e){let{parent:n,startIndex:r,endIndex:o}=t,l=n.child(r),a=e.contentMatch.findWrapping(l.type);if(!a)return null;let d=(a.length?a[a.length-1]:e).contentMatch;for(let h=r;d&&h<o;h++)d=d.matchType(n.child(h).type);return!d||!d.validEnd?null:a}function gR(t,e,n){let r=le.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let u=n[a].type.contentMatch.matchFragment(r);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=le.from(n[a].type.create(n[a].attrs,r))}let o=e.start,l=e.end;t.step(new cn(o,l,o,l,new xe(r,0,0),n.length,!0))}function yR(t,e,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let l=t.steps.length;t.doc.nodesBetween(e,n,(a,u)=>{let d=typeof o=="function"?o(a):o;if(a.isTextblock&&!a.hasMarkup(r,d)&&bR(t.doc,t.mapping.slice(l).map(u),r)){let h=null;if(r.schema.linebreakReplacement){let v=r.whitespace=="pre",S=!!r.contentMatch.matchType(r.schema.linebreakReplacement);v&&!S?h=!1:!v&&S&&(h=!0)}h===!1&&sT(t,a,u,l),oy(t,t.mapping.slice(l).map(u,1),r,void 0,h===null);let p=t.mapping.slice(l),g=p.map(u,1),b=p.map(u+a.nodeSize,1);return t.step(new cn(g,b,g+1,b-1,new xe(le.from(r.create(d,null,a.marks)),0,0),1,!0)),h===!0&&oT(t,a,u,l),!1}})}function oT(t,e,n,r){e.forEach((o,l)=>{if(o.isText){let a,u=/\r?\n|\r/g;for(;a=u.exec(o.text);){let d=t.mapping.slice(r).map(n+1+l+a.index);t.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function sT(t,e,n,r){e.forEach((o,l)=>{if(o.type==o.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+l);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function bR(t,e,n){let r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function vR(t,e,n,r,o){let l=t.doc.nodeAt(e);if(!l)throw new RangeError("No node at given position");n||(n=l.type);let a=n.create(r,null,o||l.marks);if(l.isLeaf)return t.replaceWith(e,e+l.nodeSize,a);if(!n.validContent(l.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new cn(e,e+l.nodeSize,e+1,e+l.nodeSize-1,new xe(le.from(a),0,0),1,!0))}function Ti(t,e,n=1,r){let o=t.resolve(e),l=o.depth-n,a=r&&r[r.length-1]||o.parent;if(l<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let h=o.depth-1,p=n-2;h>l;h--,p--){let g=o.node(h),b=o.index(h);if(g.type.spec.isolating)return!1;let v=g.content.cutByIndex(b,g.childCount),S=r&&r[p+1];S&&(v=v.replaceChild(0,S.type.create(S.attrs)));let E=r&&r[p]||g;if(!g.canReplace(b+1,g.childCount)||!E.type.validContent(v))return!1}let u=o.indexAfter(l),d=r&&r[0];return o.node(l).canReplaceWith(u,u,d?d.type:o.node(l+1).type)}function SR(t,e,n=1,r){let o=t.doc.resolve(e),l=le.empty,a=le.empty;for(let u=o.depth,d=o.depth-n,h=n-1;u>d;u--,h--){l=le.from(o.node(u).copy(l));let p=r&&r[h];a=le.from(p?p.type.create(p.attrs,a):o.node(u).copy(a))}t.step(new ln(e,e,new xe(l.append(a),n,n),!0))}function No(t,e){let n=t.resolve(e),r=n.index();return lT(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function xR(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let o=0;o<e.childCount;o++){let l=e.child(o),a=l.type==r?t.type.schema.nodes.text:l.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(l.marks))return!1}return n.validEnd}function lT(t,e){return!!(t&&e&&!t.isLeaf&&xR(t,e))}function Nd(t,e,n=-1){let r=t.resolve(e);for(let o=r.depth;;o--){let l,a,u=r.index(o);if(o==r.depth?(l=r.nodeBefore,a=r.nodeAfter):n>0?(l=r.node(o+1),u++,a=r.node(o).maybeChild(u)):(l=r.node(o).maybeChild(u-1),a=r.node(o+1)),l&&!l.isTextblock&&lT(l,a)&&r.node(o).canReplace(u,u+1))return e;if(o==0)break;e=n<0?r.before(o):r.after(o)}}function ER(t,e,n){let r=null,{linebreakReplacement:o}=t.doc.type.schema,l=t.doc.resolve(e-n),a=l.node().type;if(o&&a.inlineContent){let p=a.whitespace=="pre",g=!!a.contentMatch.matchType(o);p&&!g?r=!1:!p&&g&&(r=!0)}let u=t.steps.length;if(r===!1){let p=t.doc.resolve(e+n);sT(t,p.node(),p.before(),u)}a.inlineContent&&oy(t,e+n-1,a,l.node().contentMatchAt(l.index()),r==null);let d=t.mapping.slice(u),h=d.map(e-n);if(t.step(new ln(h,d.map(e+n,-1),xe.empty,!0)),r===!0){let p=t.doc.resolve(h);oT(t,p.node(),p.before(),t.steps.length)}return t}function TR(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let l=r.index(o);if(r.node(o).canReplaceWith(l,l,n))return r.before(o+1);if(l>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let l=r.indexAfter(o);if(r.node(o).canReplaceWith(l,l,n))return r.after(o+1);if(l<r.node(o).childCount)return null}return null}function aT(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let o=n.content;for(let l=0;l<n.openStart;l++)o=o.firstChild.content;for(let l=1;l<=(n.openStart==0&&n.size?2:1);l++)for(let a=r.depth;a>=0;a--){let u=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,d=r.index(a)+(u>0?1:0),h=r.node(a),p=!1;if(l==1)p=h.canReplace(d,d,o);else{let g=h.contentMatchAt(d).findWrapping(o.firstChild.type);p=g&&h.canReplaceWith(d,d,g[0])}if(p)return u==0?r.pos:u<0?r.before(a+1):r.after(a+1)}return null}function Dd(t,e,n=e,r=xe.empty){if(e==n&&!r.size)return null;let o=t.resolve(e),l=t.resolve(n);return cT(o,l,r)?new ln(e,n,r):new wR(o,l,r).fit()}function cT(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class wR{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=le.empty;for(let o=0;o<=e.depth;o++){let l=e.node(o);this.frontier.push({type:l.type,match:l.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=le.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;let l=this.placed,a=r.depth,u=o.depth;for(;a&&u&&l.childCount==1;)l=l.firstChild.content,a--,u--;let d=new xe(l,a,u);return e>-1?new cn(r.pos,e,this.$to.pos,this.$to.end(),d,n):d.size||r.pos!=this.$to.pos?new ln(r.pos,o.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<e;r++){let l=n.firstChild;if(n.childCount>1&&(o=0),l.type.spec.isolating&&o<=r){e=r;break}n=l.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let o,l=null;r?(l=Tm(this.unplaced.content,r-1).firstChild,o=l.content):o=this.unplaced.content;let a=o.firstChild;for(let u=this.depth;u>=0;u--){let{type:d,match:h}=this.frontier[u],p,g=null;if(n==1&&(a?h.matchType(a.type)||(g=h.fillBefore(le.from(a),!1)):l&&d.compatibleContent(l.type)))return{sliceDepth:r,frontierDepth:u,parent:l,inject:g};if(n==2&&a&&(p=h.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:u,parent:l,wrap:p};if(l&&h.matchType(l.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=Tm(e,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new xe(e,n+1,Math.max(r,o.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=Tm(e,n);if(o.childCount<=1&&n>0){let l=e.size-n<=n+o.size;this.unplaced=new xe(Pa(e,n-1,1),n-1,l?n-1:r)}else this.unplaced=new xe(Pa(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:o,wrap:l}){for(;this.depth>n;)this.closeFrontierNode();if(l)for(let E=0;E<l.length;E++)this.openFrontierNode(l[E]);let a=this.unplaced,u=r?r.content:a.content,d=a.openStart-e,h=0,p=[],{match:g,type:b}=this.frontier[n];if(o){for(let E=0;E<o.childCount;E++)p.push(o.child(E));g=g.matchFragment(o)}let v=u.size+e-(a.content.size-a.openEnd);for(;h<u.childCount;){let E=u.child(h),T=g.matchType(E.type);if(!T)break;h++,(h>1||d==0||E.content.size)&&(g=T,p.push(uT(E.mark(b.allowedMarks(E.marks)),h==1?d:0,h==u.childCount?v:-1)))}let S=h==u.childCount;S||(v=-1),this.placed=qa(this.placed,n,le.from(p)),this.frontier[n].match=g,S&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let E=0,T=u;E<v;E++){let w=T.lastChild;this.frontier.push({type:w.type,match:w.contentMatchAt(w.childCount)}),T=w.content}this.unplaced=S?e==0?xe.empty:new xe(Pa(a.content,e-1,1),e-1,v<0?a.openEnd:e-1):new xe(Pa(a.content,e,h),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!wm(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:o}=this.frontier[n],l=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=wm(e,n,o,r,l);if(a){for(let u=n-1;u>=0;u--){let{match:d,type:h}=this.frontier[u],p=wm(e,u,h,d,!0);if(!p||p.childCount)continue e}return{depth:n,fit:a,move:l?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=qa(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let o=e.node(r),l=o.type.contentMatch.fillBefore(o.content,!0,e.index(r));this.openFrontierNode(o.type,o.attrs,l)}return e}openFrontierNode(e,n=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=qa(this.placed,this.depth,le.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(le.empty,!0);n.childCount&&(this.placed=qa(this.placed,this.frontier.length,n))}}function Pa(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Pa(t.firstChild.content,e-1,n)))}function qa(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(qa(t.lastChild.content,e-1,n)))}function Tm(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function uT(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,uT(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(le.empty,!0)))),t.copy(r)}function wm(t,e,n,r,o){let l=t.node(e),a=o?t.indexAfter(e):t.index(e);if(a==l.childCount&&!n.compatibleContent(l.type))return null;let u=r.fillBefore(l.content,!0,a);return u&&!CR(n,l.content,a)?u:null}function CR(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function MR(t){return t.spec.defining||t.spec.definingForContent}function kR(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let o=t.doc.resolve(e),l=t.doc.resolve(n);if(cT(o,l,r))return t.step(new ln(e,n,r));let a=dT(o,l);a[a.length-1]==0&&a.pop();let u=-(o.depth+1);a.unshift(u);for(let b=o.depth,v=o.pos-1;b>0;b--,v--){let S=o.node(b).type.spec;if(S.defining||S.definingAsContext||S.isolating)break;a.indexOf(b)>-1?u=b:o.before(b)==v&&a.splice(1,0,-b)}let d=a.indexOf(u),h=[],p=r.openStart;for(let b=r.content,v=0;;v++){let S=b.firstChild;if(h.push(S),v==r.openStart)break;b=S.content}for(let b=p-1;b>=0;b--){let v=h[b],S=MR(v.type);if(S&&!v.sameMarkup(o.node(Math.abs(u)-1)))p=b;else if(S||!v.type.isTextblock)break}for(let b=r.openStart;b>=0;b--){let v=(b+p+1)%(r.openStart+1),S=h[v];if(S)for(let E=0;E<a.length;E++){let T=a[(E+d)%a.length],w=!0;T<0&&(w=!1,T=-T);let k=o.node(T-1),A=o.index(T-1);if(k.canReplaceWith(A,A,S.type,S.marks))return t.replace(o.before(T),w?l.after(T):n,new xe(fT(r.content,0,r.openStart,v),v,r.openEnd))}}let g=t.steps.length;for(let b=a.length-1;b>=0&&(t.replace(e,n,r),!(t.steps.length>g));b--){let v=a[b];v<0||(e=o.before(v),n=l.after(v))}}function fT(t,e,n,r,o){if(e<n){let l=t.firstChild;t=t.replaceChild(0,l.copy(fT(l.content,e+1,n,r,l)))}if(e>r){let l=o.contentMatchAt(0),a=l.fillBefore(t).append(t);t=a.append(l.matchFragment(a).fillBefore(le.empty,!0))}return t}function AR(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let o=TR(t.doc,e,r.type);o!=null&&(e=n=o)}t.replaceRange(e,n,new xe(le.from(r),0,0))}function OR(t,e,n){let r=t.doc.resolve(e),o=t.doc.resolve(n),l=dT(r,o);for(let a=0;a<l.length;a++){let u=l[a],d=a==l.length-1;if(d&&u==0||r.node(u).type.contentMatch.validEnd)return t.delete(r.start(u),o.end(u));if(u>0&&(d||r.node(u-1).canReplace(r.index(u-1),o.indexAfter(u-1))))return t.delete(r.before(u),o.after(u))}for(let a=1;a<=r.depth&&a<=o.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&o.end(a)-n!=o.depth-a&&r.start(a-1)==o.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),o.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function dT(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let o=r;o>=0;o--){let l=t.start(o);if(l<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(l==e.start(o)||o==t.depth&&o==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==l-1)&&n.push(o)}return n}class Sl extends Rn{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Xt.fail("No node at attribute step's position");let r=Object.create(null);for(let l in n.attrs)r[l]=n.attrs[l];r[this.attr]=this.value;let o=n.type.create(r,null,n.marks);return Xt.fromReplace(e,this.pos,this.pos+1,new xe(le.from(o),0,n.isLeaf?0:1))}getMap(){return rr.empty}invert(e){return new Sl(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Sl(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Sl(n.pos,n.attr,n.value)}}Rn.jsonID("attr",Sl);class uc extends Rn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let o in e.attrs)n[o]=e.attrs[o];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Xt.ok(r)}getMap(){return rr.empty}invert(e){return new uc(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new uc(n.attr,n.value)}}Rn.jsonID("docAttr",uc);let Ol=class extends Error{};Ol=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Ol.prototype=Object.create(Error.prototype);Ol.prototype.constructor=Ol;Ol.prototype.name="TransformError";class hT{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new cc}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Ol(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=xe.empty){let o=Dd(this.doc,e,n,r);return o&&this.step(o),this}replaceWith(e,n,r){return this.replace(e,n,new xe(le.from(r),0,0))}delete(e,n){return this.replace(e,n,xe.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return kR(this,e,n,r),this}replaceRangeWith(e,n,r){return AR(this,e,n,r),this}deleteRange(e,n){return OR(this,e,n),this}lift(e,n){return hR(this,e,n),this}join(e,n=1){return ER(this,e,n),this}wrap(e,n){return gR(this,e,n),this}setBlockType(e,n=e,r,o=null){return yR(this,e,n,r,o),this}setNodeMarkup(e,n,r=null,o){return vR(this,e,n,r,o),this}setNodeAttribute(e,n,r){return this.step(new Sl(e,n,r)),this}setDocAttribute(e,n){return this.step(new uc(e,n)),this}addNodeMark(e,n){return this.step(new fo(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof yt)n.isInSet(r.marks)&&this.step(new gs(e,n));else{let o=r.marks,l,a=[];for(;l=n.isInSet(o);)a.push(new gs(e,l)),o=l.removeFromSet(o);for(let u=a.length-1;u>=0;u--)this.step(a[u])}return this}split(e,n=1,r){return SR(this,e,n,r),this}addMark(e,n,r){return uR(this,e,n,r),this}removeMark(e,n,r){return fR(this,e,n,r),this}clearIncompatible(e,n,r){return oy(this,e,n,r),this}}const Cm=Object.create(null);class Ye{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new RR(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=xe.empty){let r=n.content.lastChild,o=null;for(let u=0;u<n.openEnd;u++)o=r,r=r.lastChild;let l=e.steps.length,a=this.ranges;for(let u=0;u<a.length;u++){let{$from:d,$to:h}=a[u],p=e.mapping.slice(l);e.replaceRange(p.map(d.pos),p.map(h.pos),u?xe.empty:n),u==0&&wS(e,l,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:a,$to:u}=o[l],d=e.mapping.slice(r),h=d.map(a.pos),p=d.map(u.pos);l?e.deleteRange(h,p):(e.replaceRangeWith(h,p,n),wS(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let o=e.parent.inlineContent?new Ve(e):hl(e.node(0),e.parent,e.pos,e.index(),n,r);if(o)return o;for(let l=e.depth-1;l>=0;l--){let a=n<0?hl(e.node(0),e.node(l),e.before(l+1),e.index(l),n,r):hl(e.node(0),e.node(l),e.after(l+1),e.index(l)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new sr(e.node(0))}static atStart(e){return hl(e,e,0,0,1)||new sr(e)}static atEnd(e){return hl(e,e,e.content.size,e.childCount,-1)||new sr(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Cm[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Cm)throw new RangeError("Duplicate use of selection JSON ID "+e);return Cm[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Ve.between(this.$anchor,this.$head).getBookmark()}}Ye.prototype.visible=!0;class RR{constructor(e,n){this.$from=e,this.$to=n}}let ES=!1;function TS(t){!ES&&!t.parent.inlineContent&&(ES=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Ve extends Ye{constructor(e,n=e){TS(e),TS(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ye.near(r);let o=e.resolve(n.map(this.anchor));return new Ve(o.parent.inlineContent?o:r,r)}replace(e,n=xe.empty){if(super.replace(e,n),n==xe.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ve&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new zd(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ve(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let o=e.resolve(n);return new this(o,r==n?o:e.resolve(r))}static between(e,n,r){let o=e.pos-n.pos;if((!r||o)&&(r=o>=0?1:-1),!n.parent.inlineContent){let l=Ye.findFrom(n,r,!0)||Ye.findFrom(n,-r,!0);if(l)n=l.$head;else return Ye.near(n,r)}return e.parent.inlineContent||(o==0?e=n:(e=(Ye.findFrom(e,-r,!0)||Ye.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=o<0&&(e=n))),new Ve(e,n)}}Ye.jsonID("text",Ve);class zd{constructor(e,n){this.anchor=e,this.head=n}map(e){return new zd(e.map(this.anchor),e.map(this.head))}resolve(e){return Ve.between(e.resolve(this.anchor),e.resolve(this.head))}}class Be extends Ye{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:o}=n.mapResult(this.anchor),l=e.resolve(o);return r?Ye.near(l):new Be(l)}content(){return new xe(le.from(this.node),0,0)}eq(e){return e instanceof Be&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new ly(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Be(e.resolve(n.anchor))}static create(e,n){return new Be(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Be.prototype.visible=!1;Ye.jsonID("node",Be);class ly{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new zd(r,r):new ly(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Be.isSelectable(r)?new Be(n):Ye.near(n)}}class sr extends Ye{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=xe.empty){if(n==xe.empty){e.delete(0,e.doc.content.size);let r=Ye.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new sr(e)}map(e){return new sr(e)}eq(e){return e instanceof sr}getBookmark(){return NR}}Ye.jsonID("all",sr);const NR={map(){return this},resolve(t){return new sr(t)}};function hl(t,e,n,r,o,l=!1){if(e.inlineContent)return Ve.create(t,n);for(let a=r-(o>0?0:1);o>0?a<e.childCount:a>=0;a+=o){let u=e.child(a);if(u.isAtom){if(!l&&Be.isSelectable(u))return Be.create(t,n-(o<0?u.nodeSize:0))}else{let d=hl(t,u,n+o,o<0?u.childCount:0,o,l);if(d)return d}n+=u.nodeSize*o}return null}function wS(t,e,n){let r=t.steps.length-1;if(r<e)return;let o=t.steps[r];if(!(o instanceof ln||o instanceof cn))return;let l=t.mapping.maps[r],a;l.forEach((u,d,h,p)=>{a==null&&(a=p)}),t.setSelection(Ye.near(t.doc.resolve(a),n))}const CS=1,$u=2,MS=4;class DR extends hT{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|CS)&~$u,this.storedMarks=null,this}get selectionSet(){return(this.updated&CS)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=$u,this}ensureMarks(e){return yt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&$u)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~$u,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||yt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let o=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let l=this.storedMarks;if(!l){let a=this.doc.resolve(n);l=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,o.text(e,l)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Ye.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=MS,this}get scrolledIntoView(){return(this.updated&MS)>0}}function kS(t,e){return!e||!t?t:t.bind(e)}class Fa{constructor(e,n,r){this.name=e,this.init=kS(n.init,r),this.apply=kS(n.apply,r)}}const zR=[new Fa("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Fa("selection",{init(t,e){return t.selection||Ye.atStart(e.doc)},apply(t){return t.selection}}),new Fa("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Fa("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Mm{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=zR.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Fa(r.key,r.spec.state,r))})}}class bl{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),o=null;for(;;){let l=!1;for(let a=0;a<this.config.plugins.length;a++){let u=this.config.plugins[a];if(u.spec.appendTransaction){let d=o?o[a].n:0,h=o?o[a].state:this,p=d<n.length&&u.spec.appendTransaction.call(u,d?n.slice(d):n,h,r);if(p&&r.filterTransaction(p,a)){if(p.setMeta("appendedTransaction",e),!o){o=[];for(let g=0;g<this.config.plugins.length;g++)o.push(g<a?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),l=!0}o&&(o[a]={state:r,n:n.length})}}if(!l)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new bl(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let l=r[o];n[l.name]=l.apply(e,this[l.name],this,n)}return n}get tr(){return new DR(this)}static create(e){let n=new Mm(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new bl(n);for(let o=0;o<n.fields.length;o++)r[n.fields[o].name]=n.fields[o].init(e,r);return r}reconfigure(e){let n=new Mm(this.schema,e.plugins),r=n.fields,o=new bl(n);for(let l=0;l<r.length;l++){let a=r[l].name;o[a]=this.hasOwnProperty(a)?this[a]:r[l].init(e,o)}return o}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[r],l=o.spec.state;l&&l.toJSON&&(n[r]=l.toJSON.call(o,this[o.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new Mm(e.schema,e.plugins),l=new bl(o);return o.fields.forEach(a=>{if(a.name=="doc")l.doc=mo.fromJSON(e.schema,n.doc);else if(a.name=="selection")l.selection=Ye.fromJSON(l.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(l.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let u in r){let d=r[u],h=d.spec.state;if(d.key==a.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(n,u)){l[a.name]=h.fromJSON.call(d,e,n[u],l);return}}l[a.name]=a.init(e,l)}}),l}}function pT(t,e,n){for(let r in t){let o=t[r];o instanceof Function?o=o.bind(e):r=="handleDOMEvents"&&(o=pT(o,e,{})),n[r]=o}return n}class At{constructor(e){this.spec=e,this.props={},e.props&&pT(e.props,this,this.props),this.key=e.key?e.key.key:mT("plugin")}getState(e){return e[this.key]}}const km=Object.create(null);function mT(t){return t in km?t+"$"+ ++km[t]:(km[t]=0,t+"$")}class nn{constructor(e="key"){this.key=mT(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ay=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function gT(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const yT=(t,e,n)=>{let r=gT(t,n);if(!r)return!1;let o=cy(r);if(!o){let a=r.blockRange(),u=a&&jl(a);return u==null?!1:(e&&e(t.tr.lift(a,u).scrollIntoView()),!0)}let l=o.nodeBefore;if(MT(t,o,e,-1))return!0;if(r.parent.content.size==0&&(Rl(l,"end")||Be.isSelectable(l)))for(let a=r.depth;;a--){let u=Dd(t.doc,r.before(a),r.after(a),xe.empty);if(u&&u.slice.size<u.to-u.from){if(e){let d=t.tr.step(u);d.setSelection(Rl(l,"end")?Ye.findFrom(d.doc.resolve(d.mapping.map(o.pos,-1)),-1):Be.create(d.doc,o.pos-l.nodeSize)),e(d.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return l.isAtom&&o.depth==r.depth-1?(e&&e(t.tr.delete(o.pos-l.nodeSize,o.pos).scrollIntoView()),!0):!1},LR=(t,e,n)=>{let r=gT(t,n);if(!r)return!1;let o=cy(r);return o?bT(t,o,e):!1},BR=(t,e,n)=>{let r=ST(t,n);if(!r)return!1;let o=uy(r);return o?bT(t,o,e):!1};function bT(t,e,n){let r=e.nodeBefore,o=r,l=e.pos-1;for(;!o.isTextblock;l--){if(o.type.spec.isolating)return!1;let p=o.lastChild;if(!p)return!1;o=p}let a=e.nodeAfter,u=a,d=e.pos+1;for(;!u.isTextblock;d++){if(u.type.spec.isolating)return!1;let p=u.firstChild;if(!p)return!1;u=p}let h=Dd(t.doc,l,d,xe.empty);if(!h||h.from!=l||h instanceof ln&&h.slice.size>=d-l)return!1;if(n){let p=t.tr.step(h);p.setSelection(Ve.create(p.doc,l)),n(p.scrollIntoView())}return!0}function Rl(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const vT=(t,e,n)=>{let{$head:r,empty:o}=t.selection,l=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;l=cy(r)}let a=l&&l.nodeBefore;return!a||!Be.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Be.create(t.doc,l.pos-a.nodeSize)).scrollIntoView()),!0)};function cy(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function ST(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const xT=(t,e,n)=>{let r=ST(t,n);if(!r)return!1;let o=uy(r);if(!o)return!1;let l=o.nodeAfter;if(MT(t,o,e,1))return!0;if(r.parent.content.size==0&&(Rl(l,"start")||Be.isSelectable(l))){let a=Dd(t.doc,r.before(),r.after(),xe.empty);if(a&&a.slice.size<a.to-a.from){if(e){let u=t.tr.step(a);u.setSelection(Rl(l,"start")?Ye.findFrom(u.doc.resolve(u.mapping.map(o.pos)),1):Be.create(u.doc,u.mapping.map(o.pos))),e(u.scrollIntoView())}return!0}}return l.isAtom&&o.depth==r.depth-1?(e&&e(t.tr.delete(o.pos,o.pos+l.nodeSize).scrollIntoView()),!0):!1},ET=(t,e,n)=>{let{$head:r,empty:o}=t.selection,l=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;l=uy(r)}let a=l&&l.nodeAfter;return!a||!Be.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Be.create(t.doc,l.pos)).scrollIntoView()),!0)};function uy(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const _R=(t,e)=>{let n=t.selection,r=n instanceof Be,o;if(r){if(n.node.isTextblock||!No(t.doc,n.from))return!1;o=n.from}else if(o=Nd(t.doc,n.from,-1),o==null)return!1;if(e){let l=t.tr.join(o);r&&l.setSelection(Be.create(l.doc,o-t.doc.resolve(o).nodeBefore.nodeSize)),e(l.scrollIntoView())}return!0},IR=(t,e)=>{let n=t.selection,r;if(n instanceof Be){if(n.node.isTextblock||!No(t.doc,n.to))return!1;r=n.to}else if(r=Nd(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},HR=(t,e)=>{let{$from:n,$to:r}=t.selection,o=n.blockRange(r),l=o&&jl(o);return l==null?!1:(e&&e(t.tr.lift(o,l).scrollIntoView()),!0)},TT=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function fy(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const VR=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),l=n.indexAfter(-1),a=fy(o.contentMatchAt(l));if(!a||!o.canReplaceWith(l,l,a))return!1;if(e){let u=n.after(),d=t.tr.replaceWith(u,u,a.createAndFill());d.setSelection(Ye.near(d.doc.resolve(u),1)),e(d.scrollIntoView())}return!0},wT=(t,e)=>{let n=t.selection,{$from:r,$to:o}=n;if(n instanceof sr||r.parent.inlineContent||o.parent.inlineContent)return!1;let l=fy(o.parent.contentMatchAt(o.indexAfter()));if(!l||!l.isTextblock)return!1;if(e){let a=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,u=t.tr.insert(a,l.createAndFill());u.setSelection(Ve.create(u.doc,a+1)),e(u.scrollIntoView())}return!0},CT=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let l=n.before();if(Ti(t.doc,l))return e&&e(t.tr.split(l).scrollIntoView()),!0}let r=n.blockRange(),o=r&&jl(r);return o==null?!1:(e&&e(t.tr.lift(r,o).scrollIntoView()),!0)};function jR(t){return(e,n)=>{let{$from:r,$to:o}=e.selection;if(e.selection instanceof Be&&e.selection.node.isBlock)return!r.parentOffset||!Ti(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let l=[],a,u,d=!1,h=!1;for(let v=r.depth;;v--)if(r.node(v).isBlock){d=r.end(v)==r.pos+(r.depth-v),h=r.start(v)==r.pos-(r.depth-v),u=fy(r.node(v-1).contentMatchAt(r.indexAfter(v-1))),l.unshift(d&&u?{type:u}:null),a=v;break}else{if(v==1)return!1;l.unshift(null)}let p=e.tr;(e.selection instanceof Ve||e.selection instanceof sr)&&p.deleteSelection();let g=p.mapping.map(r.pos),b=Ti(p.doc,g,l.length,l);if(b||(l[0]=u?{type:u}:null,b=Ti(p.doc,g,l.length,l)),!b)return!1;if(p.split(g,l.length,l),!d&&h&&r.node(a).type!=u){let v=p.mapping.map(r.before(a)),S=p.doc.resolve(v);u&&r.node(a-1).canReplaceWith(S.index(),S.index()+1,u)&&p.setNodeMarkup(p.mapping.map(r.before(a)),u)}return n&&n(p.scrollIntoView()),!0}}const UR=jR(),PR=(t,e)=>{let{$from:n,to:r}=t.selection,o,l=n.sharedDepth(r);return l==0?!1:(o=n.before(l),e&&e(t.tr.setSelection(Be.create(t.doc,o))),!0)};function qR(t,e,n){let r=e.nodeBefore,o=e.nodeAfter,l=e.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&e.parent.canReplace(l-1,l)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(l,l+1)||!(o.isTextblock||No(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function MT(t,e,n,r){let o=e.nodeBefore,l=e.nodeAfter,a,u,d=o.type.spec.isolating||l.type.spec.isolating;if(!d&&qR(t,e,n))return!0;let h=!d&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(a=(u=o.contentMatchAt(o.childCount)).findWrapping(l.type))&&u.matchType(a[0]||l.type).validEnd){if(n){let v=e.pos+l.nodeSize,S=le.empty;for(let w=a.length-1;w>=0;w--)S=le.from(a[w].create(null,S));S=le.from(o.copy(S));let E=t.tr.step(new cn(e.pos-1,v,e.pos,v,new xe(S,1,0),a.length,!0)),T=E.doc.resolve(v+2*a.length);T.nodeAfter&&T.nodeAfter.type==o.type&&No(E.doc,T.pos)&&E.join(T.pos),n(E.scrollIntoView())}return!0}let p=l.type.spec.isolating||r>0&&d?null:Ye.findFrom(e,1),g=p&&p.$from.blockRange(p.$to),b=g&&jl(g);if(b!=null&&b>=e.depth)return n&&n(t.tr.lift(g,b).scrollIntoView()),!0;if(h&&Rl(l,"start",!0)&&Rl(o,"end")){let v=o,S=[];for(;S.push(v),!v.isTextblock;)v=v.lastChild;let E=l,T=1;for(;!E.isTextblock;E=E.firstChild)T++;if(v.canReplace(v.childCount,v.childCount,E.content)){if(n){let w=le.empty;for(let A=S.length-1;A>=0;A--)w=le.from(S[A].copy(w));let k=t.tr.step(new cn(e.pos-S.length,e.pos+l.nodeSize,e.pos+T,e.pos+l.nodeSize-T,new xe(w,S.length,0),0,!0));n(k.scrollIntoView())}return!0}}return!1}function kT(t){return function(e,n){let r=e.selection,o=t<0?r.$from:r.$to,l=o.depth;for(;o.node(l).isInline;){if(!l)return!1;l--}return o.node(l).isTextblock?(n&&n(e.tr.setSelection(Ve.create(e.doc,t<0?o.start(l):o.end(l)))),!0):!1}}const FR=kT(-1),$R=kT(1);function GR(t,e=null){return function(n,r){let{$from:o,$to:l}=n.selection,a=o.blockRange(l),u=a&&sy(a,t,e);return u?(r&&r(n.tr.wrap(a,u).scrollIntoView()),!0):!1}}function AS(t,e=null){return function(n,r){let o=!1;for(let l=0;l<n.selection.ranges.length&&!o;l++){let{$from:{pos:a},$to:{pos:u}}=n.selection.ranges[l];n.doc.nodesBetween(a,u,(d,h)=>{if(o)return!1;if(!(!d.isTextblock||d.hasMarkup(t,e)))if(d.type==t)o=!0;else{let p=n.doc.resolve(h),g=p.index();o=p.parent.canReplaceWith(g,g+1,t)}})}if(!o)return!1;if(r){let l=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:u},$to:{pos:d}}=n.selection.ranges[a];l.setBlockType(u,d,t,e)}r(l.scrollIntoView())}return!0}}function dy(...t){return function(e,n,r){for(let o=0;o<t.length;o++)if(t[o](e,n,r))return!0;return!1}}dy(ay,yT,vT);dy(ay,xT,ET);dy(TT,wT,CT,UR);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function KR(t,e=null){return function(n,r){let{$from:o,$to:l}=n.selection,a=o.blockRange(l);if(!a)return!1;let u=r?n.tr:null;return YR(u,a,t,e)?(r&&r(u.scrollIntoView()),!0):!1}}function YR(t,e,n,r=null){let o=!1,l=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=a.resolve(e.start-2);l=new kf(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new kf(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),o=!0}let u=sy(l,n,r,e);return u?(t&&XR(t,e,u,o,n),!0):!1}function XR(t,e,n,r,o){let l=le.empty;for(let p=n.length-1;p>=0;p--)l=le.from(n[p].type.create(n[p].attrs,l));t.step(new cn(e.start-(r?2:0),e.end,e.start,e.end,new xe(l,0,0),n.length,!0));let a=0;for(let p=0;p<n.length;p++)n[p].type==o&&(a=p+1);let u=n.length-a,d=e.start+n.length-(r?2:0),h=e.parent;for(let p=e.startIndex,g=e.endIndex,b=!0;p<g;p++,b=!1)!b&&Ti(t.doc,d,u)&&(t.split(d,u),d+=2*u),d+=h.child(p).nodeSize;return t}function WR(t){return function(e,n){let{$from:r,$to:o}=e.selection,l=r.blockRange(o,a=>a.childCount>0&&a.firstChild.type==t);return l?n?r.node(l.depth-1).type==t?JR(e,n,t,l):QR(e,n,l):!0:!1}}function JR(t,e,n,r){let o=t.tr,l=r.end,a=r.$to.end(r.depth);l<a&&(o.step(new cn(l-1,a,l,a,new xe(le.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new kf(o.doc.resolve(r.$from.pos),o.doc.resolve(a),r.depth));const u=jl(r);if(u==null)return!1;o.lift(r,u);let d=o.doc.resolve(o.mapping.map(l,-1)-1);return No(o.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&o.join(d.pos),e(o.scrollIntoView()),!0}function QR(t,e,n){let r=t.tr,o=n.parent;for(let v=n.end,S=n.endIndex-1,E=n.startIndex;S>E;S--)v-=o.child(S).nodeSize,r.delete(v-1,v+1);let l=r.doc.resolve(n.start),a=l.nodeAfter;if(r.mapping.map(n.end)!=n.start+l.nodeAfter.nodeSize)return!1;let u=n.startIndex==0,d=n.endIndex==o.childCount,h=l.node(-1),p=l.index(-1);if(!h.canReplace(p+(u?0:1),p+1,a.content.append(d?le.empty:le.from(o))))return!1;let g=l.pos,b=g+a.nodeSize;return r.step(new cn(g-(u?1:0),b+(d?1:0),g+1,b-1,new xe((u?le.empty:le.from(o.copy(le.empty))).append(d?le.empty:le.from(o.copy(le.empty))),u?0:1,d?0:1),u?0:1)),e(r.scrollIntoView()),!0}function ZR(t){return function(e,n){let{$from:r,$to:o}=e.selection,l=r.blockRange(o,h=>h.childCount>0&&h.firstChild.type==t);if(!l)return!1;let a=l.startIndex;if(a==0)return!1;let u=l.parent,d=u.child(a-1);if(d.type!=t)return!1;if(n){let h=d.lastChild&&d.lastChild.type==u.type,p=le.from(h?t.create():null),g=new xe(le.from(t.create(null,le.from(u.type.create(null,p)))),h?3:1,0),b=l.start,v=l.end;n(e.tr.step(new cn(b-(h?3:1),v,b,v,g,1,!0)).scrollIntoView())}return!0}}const Sn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Nl=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let mg=null;const xi=function(t,e,n){let r=mg||(mg=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},eN=function(){mg=null},ys=function(t,e,n,r){return n&&(OS(t,e,n,r,-1)||OS(t,e,n,r,1))},tN=/^(img|br|input|textarea|hr)$/i;function OS(t,e,n,r,o){for(var l;;){if(t==n&&e==r)return!0;if(e==(o<0?0:wr(t))){let a=t.parentNode;if(!a||a.nodeType!=1||xc(t)||tN.test(t.nodeName)||t.contentEditable=="false")return!1;e=Sn(t)+(o<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(o<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((l=a.pmViewDesc)===null||l===void 0)&&l.ignoreForSelection)e+=o;else return!1;else t=a,e=o<0?wr(t):0}else return!1}}function wr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function nN(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=wr(t)}else if(t.parentNode&&!xc(t))e=Sn(t),t=t.parentNode;else return null}}function rN(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!xc(t))e=Sn(t)+1,t=t.parentNode;else return null}}function iN(t,e,n){for(let r=e==0,o=e==wr(t);r||o;){if(t==n)return!0;let l=Sn(t);if(t=t.parentNode,!t)return!1;r=r&&l==0,o=o&&l==wr(t)}}function xc(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Ld=function(t){return t.focusNode&&ys(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function rs(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function oN(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function sN(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(wr(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(wr(r.startContainer),r.startOffset)}}}const Fr=typeof navigator<"u"?navigator:null,RS=typeof document<"u"?document:null,Do=Fr&&Fr.userAgent||"",gg=/Edge\/(\d+)/.exec(Do),AT=/MSIE \d/.exec(Do),yg=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Do),Yn=!!(AT||yg||gg),yo=AT?document.documentMode:yg?+yg[1]:gg?+gg[1]:0,Mr=!Yn&&/gecko\/(\d+)/i.test(Do);Mr&&+(/Firefox\/(\d+)/.exec(Do)||[0,0])[1];const bg=!Yn&&/Chrome\/(\d+)/.exec(Do),an=!!bg,OT=bg?+bg[1]:0,Tn=!Yn&&!!Fr&&/Apple Computer/.test(Fr.vendor),Dl=Tn&&(/Mobile\/\w+/.test(Do)||!!Fr&&Fr.maxTouchPoints>2),Tr=Dl||(Fr?/Mac/.test(Fr.platform):!1),RT=Fr?/Win/.test(Fr.platform):!1,Ei=/Android \d/.test(Do),Ec=!!RS&&"webkitFontSmoothing"in RS.documentElement.style,lN=Ec?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function aN(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function mi(t,e){return typeof t=="number"?t:t[e]}function cN(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function NS(t,e,n){let r=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,l=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=Nl(a);continue}let u=a,d=u==l.body,h=d?aN(l):cN(u),p=0,g=0;if(e.top<h.top+mi(r,"top")?g=-(h.top-e.top+mi(o,"top")):e.bottom>h.bottom-mi(r,"bottom")&&(g=e.bottom-e.top>h.bottom-h.top?e.top+mi(o,"top")-h.top:e.bottom-h.bottom+mi(o,"bottom")),e.left<h.left+mi(r,"left")?p=-(h.left-e.left+mi(o,"left")):e.right>h.right-mi(r,"right")&&(p=e.right-h.right+mi(o,"right")),p||g)if(d)l.defaultView.scrollBy(p,g);else{let v=u.scrollLeft,S=u.scrollTop;g&&(u.scrollTop+=g),p&&(u.scrollLeft+=p);let E=u.scrollLeft-v,T=u.scrollTop-S;e={left:e.left-E,top:e.top-T,right:e.right-E,bottom:e.bottom-T}}let b=d?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(b))break;a=b=="absolute"?a.offsetParent:Nl(a)}}function uN(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,o;for(let l=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let u=t.root.elementFromPoint(l,a);if(!u||u==t.dom||!t.dom.contains(u))continue;let d=u.getBoundingClientRect();if(d.top>=n-20){r=u,o=d.top;break}}return{refDOM:r,refTop:o,stack:NT(t.dom)}}function NT(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Nl(r));return e}function fN({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;DT(n,r==0?0:r-e)}function DT(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:o,left:l}=t[n];r.scrollTop!=o+e&&(r.scrollTop=o+e),r.scrollLeft!=l&&(r.scrollLeft=l)}}let ul=null;function dN(t){if(t.setActive)return t.setActive();if(ul)return t.focus(ul);let e=NT(t);t.focus(ul==null?{get preventScroll(){return ul={preventScroll:!0},!0}}:void 0),ul||(ul=!1,DT(e,0))}function zT(t,e){let n,r=2e8,o,l=0,a=e.top,u=e.top,d,h;for(let p=t.firstChild,g=0;p;p=p.nextSibling,g++){let b;if(p.nodeType==1)b=p.getClientRects();else if(p.nodeType==3)b=xi(p).getClientRects();else continue;for(let v=0;v<b.length;v++){let S=b[v];if(S.top<=a&&S.bottom>=u){a=Math.max(S.bottom,a),u=Math.min(S.top,u);let E=S.left>e.left?S.left-e.left:S.right<e.left?e.left-S.right:0;if(E<r){n=p,r=E,o=E&&n.nodeType==3?{left:S.right<e.left?S.right:S.left,top:e.top}:e,p.nodeType==1&&E&&(l=g+(e.left>=(S.left+S.right)/2?1:0));continue}}else S.top>e.top&&!d&&S.left<=e.left&&S.right>=e.left&&(d=p,h={left:Math.max(S.left,Math.min(S.right,e.left)),top:S.top});!n&&(e.left>=S.right&&e.top>=S.top||e.left>=S.left&&e.top>=S.bottom)&&(l=g+1)}}return!n&&d&&(n=d,o=h,r=0),n&&n.nodeType==3?hN(n,o):!n||r&&n.nodeType==1?{node:t,offset:l}:zT(n,o)}function hN(t,e){let n=t.nodeValue.length,r=document.createRange(),o;for(let l=0;l<n;l++){r.setEnd(t,l+1),r.setStart(t,l);let a=ro(r,1);if(a.top!=a.bottom&&hy(e,a)){o={node:t,offset:l+(e.left>=(a.left+a.right)/2?1:0)};break}}return r.detach(),o||{node:t,offset:0}}function hy(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function pN(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function mN(t,e,n){let{node:r,offset:o}=zT(e,n),l=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();l=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,o,l)}function gN(t,e,n,r){let o=-1;for(let l=e,a=!1;l!=t.dom;){let u=t.docView.nearestDesc(l,!0),d;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((d=u.dom.getBoundingClientRect()).width||d.height)&&(u.node.isBlock&&u.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName)&&(!a&&d.left>r.left||d.top>r.top?o=u.posBefore:(!a&&d.right<r.left||d.bottom<r.top)&&(o=u.posAfter),a=!0),!u.contentDOM&&o<0&&!u.node.isText))return(u.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?u.posBefore:u.posAfter;l=u.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,n,-1)}function LT(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),l=o;;){let a=t.childNodes[l];if(a.nodeType==1){let u=a.getClientRects();for(let d=0;d<u.length;d++){let h=u[d];if(hy(e,h))return LT(a,e,h)}}if((l=(l+1)%r)==o)break}return t}function yN(t,e){let n=t.dom.ownerDocument,r,o=0,l=sN(n,e.left,e.top);l&&({node:r,offset:o}=l);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),u;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let h=t.dom.getBoundingClientRect();if(!hy(e,h)||(a=LT(t.dom,e,h),!a))return null}if(Tn)for(let h=a;r&&h;h=Nl(h))h.draggable&&(r=void 0);if(a=pN(a,e),r){if(Mr&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let p=r.childNodes[o],g;p.nodeName=="IMG"&&(g=p.getBoundingClientRect()).right<=e.left&&g.bottom>e.top&&o++}let h;Ec&&o&&r.nodeType==1&&(h=r.childNodes[o-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&o--,r==t.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(u=gN(t,r,o,e))}u==null&&(u=mN(t,a,e));let d=t.docView.nearestDesc(a,!0);return{pos:u,inside:d?d.posAtStart-d.border:-1}}function DS(t){return t.top<t.bottom||t.left<t.right}function ro(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(DS(r))return r}return Array.prototype.find.call(n,DS)||t.getBoundingClientRect()}const bN=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function BT(t,e,n){let{node:r,offset:o,atom:l}=t.docView.domFromPos(e,n<0?-1:1),a=Ec||Mr;if(r.nodeType==3)if(a&&(bN.test(r.nodeValue)||(n<0?!o:o==r.nodeValue.length))){let d=ro(xi(r,o,o),n);if(Mr&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let h=ro(xi(r,o-1,o-1),-1);if(h.top==d.top){let p=ro(xi(r,o,o+1),-1);if(p.top!=d.top)return Ia(p,p.left<h.left)}}return d}else{let d=o,h=o,p=n<0?1:-1;return n<0&&!o?(h++,p=-1):n>=0&&o==r.nodeValue.length?(d--,p=1):n<0?d--:h++,Ia(ro(xi(r,d,h),p),p<0)}if(!t.state.doc.resolve(e-(l||0)).parent.inlineContent){if(l==null&&o&&(n<0||o==wr(r))){let d=r.childNodes[o-1];if(d.nodeType==1)return Am(d.getBoundingClientRect(),!1)}if(l==null&&o<wr(r)){let d=r.childNodes[o];if(d.nodeType==1)return Am(d.getBoundingClientRect(),!0)}return Am(r.getBoundingClientRect(),n>=0)}if(l==null&&o&&(n<0||o==wr(r))){let d=r.childNodes[o-1],h=d.nodeType==3?xi(d,wr(d)-(a?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(h)return Ia(ro(h,1),!1)}if(l==null&&o<wr(r)){let d=r.childNodes[o];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let h=d?d.nodeType==3?xi(d,0,a?0:1):d.nodeType==1?d:null:null;if(h)return Ia(ro(h,-1),!0)}return Ia(ro(r.nodeType==3?xi(r):r,-n),n>=0)}function Ia(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Am(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function _T(t,e,n){let r=t.state,o=t.root.activeElement;r!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),o!=t.dom&&o&&o.focus()}}function vN(t,e,n){let r=e.selection,o=n=="up"?r.$from:r.$to;return _T(t,e,()=>{let{node:l}=t.docView.domFromPos(o.pos,n=="up"?-1:1);for(;;){let u=t.docView.nearestDesc(l,!0);if(!u)break;if(u.node.isBlock){l=u.contentDOM||u.dom;break}l=u.dom.parentNode}let a=BT(t,o.pos,1);for(let u=l.firstChild;u;u=u.nextSibling){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=xi(u,0,u.nodeValue.length).getClientRects();else continue;for(let h=0;h<d.length;h++){let p=d[h];if(p.bottom>p.top+1&&(n=="up"?a.top-p.top>(p.bottom-a.top)*2:p.bottom-a.bottom>(a.bottom-p.top)*2))return!1}}return!0})}const SN=/[\u0590-\u08ac]/;function xN(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,l=!o,a=o==r.parent.content.size,u=t.domSelection();return u?!SN.test(r.parent.textContent)||!u.modify?n=="left"||n=="backward"?l:a:_T(t,e,()=>{let{focusNode:d,focusOffset:h,anchorNode:p,anchorOffset:g}=t.domSelectionRange(),b=u.caretBidiLevel;u.modify("move",n,"character");let v=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:S,focusOffset:E}=t.domSelectionRange(),T=S&&!v.contains(S.nodeType==1?S:S.parentNode)||d==S&&h==E;try{u.collapse(p,g),d&&(d!=p||h!=g)&&u.extend&&u.extend(d,h)}catch{}return b!=null&&(u.caretBidiLevel=b),T}):r.pos==r.start()||r.pos==r.end()}let zS=null,LS=null,BS=!1;function EN(t,e,n){return zS==e&&LS==n?BS:(zS=e,LS=n,BS=n=="up"||n=="down"?vN(t,e,n):xN(t,e,n))}const kr=0,_S=1,is=2,$r=3;class Tc{constructor(e,n,r,o){this.parent=e,this.children=n,this.dom=r,this.contentDOM=o,this.dirty=kr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let o=this.children[n];if(o==e)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let l,a;if(e==this.contentDOM)l=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.previousSibling}for(;l&&!((a=l.pmViewDesc)&&a.parent==this);)l=l.previousSibling;return l?this.posBeforeChild(a)+a.size:this.posAtStart}else{let l,a;if(e==this.contentDOM)l=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.nextSibling}for(;l&&!((a=l.pmViewDesc)&&a.parent==this);)l=l.nextSibling;return l?this.posBeforeChild(a):this.posAtEnd}let o;if(e==this.dom&&this.contentDOM)o=n>Sn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let l=e;;l=l.parentNode){if(l==this.dom){o=!1;break}if(l.previousSibling)break}if(o==null&&n==e.childNodes.length)for(let l=e;;l=l.parentNode){if(l==this.dom){o=!0;break}if(l.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,o=e;o;o=o.parentNode){let l=this.getDesc(o),a;if(l&&(!n||l.node))if(r&&(a=l.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return l}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let o=e;o;o=o.parentNode){let l=this.getDesc(o);if(l)return l.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let o=this.children[n],l=r+o.size;if(r==e&&l!=r){for(;!o.border&&o.children.length;)for(let a=0;a<o.children.length;a++){let u=o.children[a];if(u.size){o=u;break}}return o}if(e<l)return o.descAt(e-r-o.border);r=l}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,o=0;for(let l=0;r<this.children.length;r++){let a=this.children[r],u=l+a.size;if(u>e||a instanceof HT){o=e-l;break}l=u}if(o)return this.children[r].domFromPos(o-this.children[r].border,n);for(let l;r&&!(l=this.children[r-1]).size&&l instanceof IT&&l.side>=0;r--);if(n<=0){let l,a=!0;for(;l=r?this.children[r-1]:null,!(!l||l.dom.parentNode==this.contentDOM);r--,a=!1);return l&&n&&a&&!l.border&&!l.domAtom?l.domFromPos(l.size,n):{node:this.contentDOM,offset:l?Sn(l.dom)+1:0}}else{let l,a=!0;for(;l=r<this.children.length?this.children[r]:null,!(!l||l.dom.parentNode==this.contentDOM);r++,a=!1);return l&&a&&!l.border&&!l.domAtom?l.domFromPos(0,n):{node:this.contentDOM,offset:l?Sn(l.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,l=-1;for(let a=r,u=0;;u++){let d=this.children[u],h=a+d.size;if(o==-1&&e<=h){let p=a+d.border;if(e>=p&&n<=h-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,n,p);e=a;for(let g=u;g>0;g--){let b=this.children[g-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){o=Sn(b.dom)+1;break}e-=b.size}o==-1&&(o=0)}if(o>-1&&(h>n||u==this.children.length-1)){n=h;for(let p=u+1;p<this.children.length;p++){let g=this.children[p];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){l=Sn(g.dom);break}n+=g.size}l==-1&&(l=this.contentDOM.childNodes.length);break}a=h}return{node:this.contentDOM,from:e,to:n,fromOffset:o,toOffset:l}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,o=!1){let l=Math.min(e,n),a=Math.max(e,n);for(let v=0,S=0;v<this.children.length;v++){let E=this.children[v],T=S+E.size;if(l>S&&a<T)return E.setSelection(e-S-E.border,n-S-E.border,r,o);S=T}let u=this.domFromPos(e,e?-1:1),d=n==e?u:this.domFromPos(n,n?-1:1),h=r.root.getSelection(),p=r.domSelectionRange(),g=!1;if((Mr||Tn)&&e==n){let{node:v,offset:S}=u;if(v.nodeType==3){if(g=!!(S&&v.nodeValue[S-1]==`
`),g&&S==v.nodeValue.length)for(let E=v,T;E;E=E.parentNode){if(T=E.nextSibling){T.nodeName=="BR"&&(u=d={node:T.parentNode,offset:Sn(T)+1});break}let w=E.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{let E=v.childNodes[S-1];g=E&&(E.nodeName=="BR"||E.contentEditable=="false")}}if(Mr&&p.focusNode&&p.focusNode!=d.node&&p.focusNode.nodeType==1){let v=p.focusNode.childNodes[p.focusOffset];v&&v.contentEditable=="false"&&(o=!0)}if(!(o||g&&Tn)&&ys(u.node,u.offset,p.anchorNode,p.anchorOffset)&&ys(d.node,d.offset,p.focusNode,p.focusOffset))return;let b=!1;if((h.extend||e==n)&&!(g&&Mr)){h.collapse(u.node,u.offset);try{e!=n&&h.extend(d.node,d.offset),b=!0}catch{}}if(!b){if(e>n){let S=u;u=d,d=S}let v=document.createRange();v.setEnd(d.node,d.offset),v.setStart(u.node,u.offset),h.removeAllRanges(),h.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,o=0;o<this.children.length;o++){let l=this.children[o],a=r+l.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let u=r+l.border,d=a-l.border;if(e>=u&&n<=d){this.dirty=e==r||n==a?is:_S,e==u&&n==d&&(l.contentLost||l.dom.parentNode!=this.contentDOM)?l.dirty=$r:l.markDirty(e-u,n-u);return}else l.dirty=l.dom==l.contentDOM&&l.dom.parentNode==this.contentDOM&&!l.children.length?is:$r}r=a}this.dirty=is}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?is:_S;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class IT extends Tc{constructor(e,n,r,o){let l,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)})),!n.type.spec.raw){if(a.nodeType!=1){let u=document.createElement("span");u.appendChild(a),a=u}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,l=this}matchesWidget(e){return this.dirty==kr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class TN extends Tc{constructor(e,n,r,o){super(e,[],n,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class bs extends Tc{constructor(e,n,r,o,l){super(e,[],r,o),this.mark=n,this.spec=l}static create(e,n,r,o){let l=o.nodeViews[n.type.name],a=l&&l(n,o,r);return(!a||!a.dom)&&(a=Es.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new bs(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&$r||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=$r&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=kr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=kr}}slice(e,n,r){let o=bs.create(this.parent,this.mark,!0,r),l=this.children,a=this.size;n<a&&(l=Sg(l,n,a,r)),e>0&&(l=Sg(l,0,e,r));for(let u=0;u<l.length;u++)l[u].parent=o;return o.children=l,o}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class bo extends Tc{constructor(e,n,r,o,l,a,u,d,h){super(e,[],l,a),this.node=n,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=u}static create(e,n,r,o,l,a){let u=l.nodeViews[n.type.name],d,h=u&&u(n,l,()=>{if(!d)return a;if(d.parent)return d.parent.posBeforeChild(d)},r,o),p=h&&h.dom,g=h&&h.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:g}=Es.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!g&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let b=p;return p=UT(p,r,n),h?d=new wN(e,n,r,o,p,g||null,b,h,l,a+1):n.isText?new Bd(e,n,r,o,p,b,l):new bo(e,n,r,o,p,g||null,b,l,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>le.empty)}return e}matchesNode(e,n,r){return this.dirty==kr&&e.eq(this.node)&&Of(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,o=n,l=e.composing?this.localCompositionInfo(e,n):null,a=l&&l.pos>-1?l:null,u=l&&l.pos<0,d=new MN(this,a&&a.node,e);ON(this.node,this.innerDeco,(h,p,g)=>{h.spec.marks?d.syncToMarks(h.spec.marks,r,e,p):h.type.side>=0&&!g&&d.syncToMarks(p==this.node.childCount?yt.none:this.node.child(p).marks,r,e,p),d.placeWidget(h,e,o)},(h,p,g,b)=>{d.syncToMarks(h.marks,r,e,b);let v;d.findNodeMatch(h,p,g,b)||u&&e.state.selection.from>o&&e.state.selection.to<o+h.nodeSize&&(v=d.findIndexWithChild(l.node))>-1&&d.updateNodeAt(h,p,g,v,e)||d.updateNextNode(h,p,g,e,b,o)||d.addNode(h,p,g,e,o),o+=h.nodeSize}),d.syncToMarks([],r,e,0),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==is)&&(a&&this.protectLocalComposition(e,a),VT(this.contentDOM,this.children,e),Dl&&RN(this.dom))}localCompositionInfo(e,n){let{from:r,to:o}=e.state.selection;if(!(e.state.selection instanceof Ve)||r<n||o>n+this.node.content.size)return null;let l=e.input.compositionNode;if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let a=l.nodeValue,u=NN(this.node.content,a,r-n,o-n);return u<0?null:{node:l,pos:u,text:a}}else return{node:l,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:o}){if(this.getDesc(n))return;let l=n;for(;l.parentNode!=this.contentDOM;l=l.parentNode){for(;l.previousSibling;)l.parentNode.removeChild(l.previousSibling);for(;l.nextSibling;)l.parentNode.removeChild(l.nextSibling);l.pmViewDesc&&(l.pmViewDesc=void 0)}let a=new TN(this,l,n,o);e.input.compositionNodes.push(a),this.children=Sg(this.children,r,r+o.length,e,a)}update(e,n,r,o){return this.dirty==$r||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,o),!0)}updateInner(e,n,r,o){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=kr}updateOuterDeco(e){if(Of(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=jT(this.dom,this.nodeDOM,vg(this.outerDeco,this.node,n),vg(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function IS(t,e,n,r,o){UT(r,e,t);let l=new bo(void 0,t,e,n,r,r,r,o,0);return l.contentDOM&&l.updateChildren(o,0),l}class Bd extends bo{constructor(e,n,r,o,l,a,u){super(e,n,r,o,l,null,a,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,o){return this.dirty==$r||this.dirty!=kr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=kr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=kr,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let o=this.node.cut(e,n),l=document.createTextNode(o.text);return new Bd(this.parent,o,this.outerDeco,this.innerDeco,l,l,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=$r)}get domAtom(){return!1}isText(e){return this.node.text==e}}class HT extends Tc{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==kr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class wN extends bo{constructor(e,n,r,o,l,a,u,d,h,p){super(e,n,r,o,l,a,u,h,p),this.spec=d}update(e,n,r,o){if(this.dirty==$r)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let l=this.spec.update(e,n,r);return l&&this.updateInner(e,n,r,o),l}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,o){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function VT(t,e,n){let r=t.firstChild,o=!1;for(let l=0;l<e.length;l++){let a=e[l],u=a.dom;if(u.parentNode==t){for(;u!=r;)r=HS(r),o=!0;r=r.nextSibling}else o=!0,t.insertBefore(u,r);if(a instanceof bs){let d=r?r.previousSibling:t.lastChild;VT(a.contentDOM,a.children,n),r=d?d.nextSibling:t.firstChild}}for(;r;)r=HS(r),o=!0;o&&n.trackWrites==t&&(n.trackWrites=null)}const Wa=function(t){t&&(this.nodeName=t)};Wa.prototype=Object.create(null);const ss=[new Wa];function vg(t,e,n){if(t.length==0)return ss;let r=n?ss[0]:new Wa,o=[r];for(let l=0;l<t.length;l++){let a=t[l].type.attrs;if(a){a.nodeName&&o.push(r=new Wa(a.nodeName));for(let u in a){let d=a[u];d!=null&&(n&&o.length==1&&o.push(r=new Wa(e.isInline?"span":"div")),u=="class"?r.class=(r.class?r.class+" ":"")+d:u=="style"?r.style=(r.style?r.style+";":"")+d:u!="nodeName"&&(r[u]=d))}}}return o}function jT(t,e,n,r){if(n==ss&&r==ss)return e;let o=e;for(let l=0;l<r.length;l++){let a=r[l],u=n[l];if(l){let d;u&&u.nodeName==a.nodeName&&o!=t&&(d=o.parentNode)&&d.nodeName.toLowerCase()==a.nodeName||(d=document.createElement(a.nodeName),d.pmIsDeco=!0,d.appendChild(o),u=ss[0]),o=d}CN(o,u||ss[0],a)}return o}function CN(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let l=0;l<r.length;l++)o.indexOf(r[l])==-1&&t.classList.remove(r[l]);for(let l=0;l<o.length;l++)r.indexOf(o[l])==-1&&t.classList.add(o[l]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(e.style);)t.style.removeProperty(o[1])}n.style&&(t.style.cssText+=n.style)}}function UT(t,e,n){return jT(t,t,ss,vg(e,n,t.nodeType!=1))}function Of(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function HS(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class MN{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=kN(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r,o){let l=0,a=this.stack.length>>1,u=Math.min(a,e.length);for(;l<u&&(l==a-1?this.top:this.stack[l+1<<1]).matchesMark(e[l])&&e[l].type.spec.spanning!==!1;)l++;for(;l<a;)this.destroyRest(),this.top.dirty=kr,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let d=-1,h=this.top.children.length;o<this.preMatch.index&&(h=Math.min(this.index+3,h));for(let p=this.index;p<h;p++){let g=this.top.children[p];if(g.matchesMark(e[a])&&!this.isLocked(g.dom)){d=p;break}}if(d>-1)d>this.index&&(this.changed=!0,this.destroyBetween(this.index,d)),this.top=this.top.children[this.index];else{let p=bs.create(this.top,e[a],n,r);this.top.children.splice(this.index,0,p),this.top=p,this.changed=!0}this.index=0,a++}}findNodeMatch(e,n,r,o){let l=-1,a;if(o>=this.preMatch.index&&(a=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))l=this.top.children.indexOf(a,this.index);else for(let u=this.index,d=Math.min(this.top.children.length,u+5);u<d;u++){let h=this.top.children[u];if(h.matchesNode(e,n,r)&&!this.preMatch.matched.has(h)){l=u;break}}return l<0?!1:(this.destroyBetween(this.index,l),this.index++,!0)}updateNodeAt(e,n,r,o,l){let a=this.top.children[o];return a.dirty==$r&&a.dom==a.contentDOM&&(a.dirty=is),a.update(e,n,r,l)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}e=n}}updateNextNode(e,n,r,o,l,a){for(let u=this.index;u<this.top.children.length;u++){let d=this.top.children[u];if(d instanceof bo){let h=this.preMatch.matched.get(d);if(h!=null&&h!=l)return!1;let p=d.dom,g,b=this.isLocked(p)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=$r&&Of(n,d.outerDeco));if(!b&&d.update(e,n,r,o))return this.destroyBetween(this.index,u),d.dom!=p&&(this.changed=!0),this.index++,!0;if(!b&&(g=this.recreateWrapper(d,e,n,r,o,a)))return this.destroyBetween(this.index,u),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=is,g.updateChildren(o,a+1),g.dirty=kr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,o,l,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Of(r,e.outerDeco)||!o.eq(e.innerDeco))return null;let u=bo.create(this.top,n,r,o,l,a);if(u.contentDOM){u.children=e.children,e.children=[];for(let d of u.children)d.parent=u}return e.destroy(),u}addNode(e,n,r,o,l){let a=bo.create(this.top,e,n,r,o,l);a.contentDOM&&a.updateChildren(o,l+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let l=new IT(this.top,e,n,r);this.top.children.splice(this.index++,0,l),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof bs;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Bd)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Tn||an)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new HT(this.top,[],r,null);n!=this.top?n.children.push(o):n.children.splice(this.index++,0,o),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function kN(t,e){let n=e,r=n.children.length,o=t.childCount,l=new Map,a=[];e:for(;o>0;){let u;for(;;)if(r){let h=n.children[r-1];if(h instanceof bs)n=h,r=h.children.length;else{u=h,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let d=u.node;if(d){if(d!=t.child(o-1))break;--o,l.set(u,o),a.push(u)}}return{index:o,matched:l,matches:a.reverse()}}function AN(t,e){return t.type.side-e.type.side}function ON(t,e,n,r){let o=e.locals(t),l=0;if(o.length==0){for(let h=0;h<t.childCount;h++){let p=t.child(h);r(p,o,e.forChild(l,p),h),l+=p.nodeSize}return}let a=0,u=[],d=null;for(let h=0;;){let p,g;for(;a<o.length&&o[a].to==l;){let T=o[a++];T.widget&&(p?(g||(g=[p])).push(T):p=T)}if(p)if(g){g.sort(AN);for(let T=0;T<g.length;T++)n(g[T],h,!!d)}else n(p,h,!!d);let b,v;if(d)v=-1,b=d,d=null;else if(h<t.childCount)v=h,b=t.child(h++);else break;for(let T=0;T<u.length;T++)u[T].to<=l&&u.splice(T--,1);for(;a<o.length&&o[a].from<=l&&o[a].to>l;)u.push(o[a++]);let S=l+b.nodeSize;if(b.isText){let T=S;a<o.length&&o[a].from<T&&(T=o[a].from);for(let w=0;w<u.length;w++)u[w].to<T&&(T=u[w].to);T<S&&(d=b.cut(T-l),b=b.cut(0,T-l),S=T,v=-1)}else for(;a<o.length&&o[a].to<S;)a++;let E=b.isInline&&!b.isLeaf?u.filter(T=>!T.inline):u.slice();r(b,E,e.forChild(l,b),v),l=S}}function RN(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function NN(t,e,n,r){for(let o=0,l=0;o<t.childCount&&l<=r;){let a=t.child(o++),u=l;if(l+=a.nodeSize,!a.isText)continue;let d=a.text;for(;o<t.childCount;){let h=t.child(o++);if(l+=h.nodeSize,!h.isText)break;d+=h.text}if(l>=n){if(l>=r&&d.slice(r-e.length-u,r-u)==e)return r-e.length;let h=u<r?d.lastIndexOf(e,r-u-1):-1;if(h>=0&&h+e.length+u>=n)return u+h;if(n==r&&d.length>=r+e.length-u&&d.slice(r-u,r-u+e.length)==e)return r}}return-1}function Sg(t,e,n,r,o){let l=[];for(let a=0,u=0;a<t.length;a++){let d=t[a],h=u,p=u+=d.size;h>=n||p<=e?l.push(d):(h<e&&l.push(d.slice(0,e-h,r)),o&&(l.push(o),o=void 0),p>n&&l.push(d.slice(n-h,d.size,r)))}return l}function py(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let o=t.docView.nearestDesc(n.focusNode),l=o&&o.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let u=r.resolve(a),d,h;if(Ld(n)){for(d=a;o&&!o.node;)o=o.parent;let g=o.node;if(o&&g.isAtom&&Be.isSelectable(g)&&o.parent&&!(g.isInline&&iN(n.focusNode,n.focusOffset,o.dom))){let b=o.posBefore;h=new Be(a==b?u:r.resolve(b))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let g=a,b=a;for(let v=0;v<n.rangeCount;v++){let S=n.getRangeAt(v);g=Math.min(g,t.docView.posFromDOM(S.startContainer,S.startOffset,1)),b=Math.max(b,t.docView.posFromDOM(S.endContainer,S.endOffset,-1))}if(g<0)return null;[d,a]=b==t.state.selection.anchor?[b,g]:[g,b],u=r.resolve(a)}else d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null}let p=r.resolve(d);if(!h){let g=e=="pointer"||t.state.selection.head<u.pos&&!l?1:-1;h=my(t,p,u,g)}return h}function PT(t){return t.editable?t.hasFocus():FT(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function wi(t,e=!1){let n=t.state.selection;if(qT(t,n),!!PT(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&an){let r=t.domSelectionRange(),o=t.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&ys(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)zN(t);else{let{anchor:r,head:o}=n,l,a;VS&&!(n instanceof Ve)&&(n.$from.parent.inlineContent||(l=jS(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=jS(t,n.to))),t.docView.setSelection(r,o,t,e),VS&&(l&&US(l),a&&US(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&DN(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const VS=Tn||an&&OT<63;function jS(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),o=r<n.childNodes.length?n.childNodes[r]:null,l=r?n.childNodes[r-1]:null;if(Tn&&o&&o.contentEditable=="false")return Om(o);if((!o||o.contentEditable=="false")&&(!l||l.contentEditable=="false")){if(o)return Om(o);if(l)return Om(l)}}function Om(t){return t.contentEditable="true",Tn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function US(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function DN(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=o)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!PT(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function zN(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Sn(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&Yn&&yo<=11&&(n.disabled=!0,n.disabled=!1)}function qT(t,e){if(e instanceof Be){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(PS(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else PS(t)}function PS(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function my(t,e,n,r){return t.someProp("createSelectionBetween",o=>o(t,e,n))||Ve.between(e,n,r)}function qS(t){return t.editable&&!t.hasFocus()?!1:FT(t)}function FT(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function LN(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return ys(e.node,e.offset,n.anchorNode,n.anchorOffset)}function xg(t,e){let{$anchor:n,$head:r}=t.selection,o=e>0?n.max(r):n.min(r),l=o.parent.inlineContent?o.depth?t.doc.resolve(e>0?o.after():o.before()):null:o;return l&&Ye.findFrom(l,e)}function io(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function FS(t,e,n){let r=t.state.selection;if(r instanceof Ve)if(n.indexOf("s")>-1){let{$head:o}=r,l=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!l||l.isText||!l.isLeaf)return!1;let a=t.state.doc.resolve(o.pos+l.nodeSize*(e<0?-1:1));return io(t,new Ve(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let o=xg(t.state,e);return o&&o instanceof Be?io(t,o):!1}else if(!(Tr&&n.indexOf("m")>-1)){let o=r.$head,l=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,a;if(!l||l.isText)return!1;let u=e<0?o.pos-l.nodeSize:o.pos;return l.isAtom||(a=t.docView.descAt(u))&&!a.contentDOM?Be.isSelectable(l)?io(t,new Be(e<0?t.state.doc.resolve(o.pos-l.nodeSize):o)):Ec?io(t,new Ve(t.state.doc.resolve(e<0?u:u+l.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Be&&r.node.isInline)return io(t,new Ve(e>0?r.$to:r.$from));{let o=xg(t.state,e);return o?io(t,o):!1}}}function Rf(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Ja(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function fl(t,e){return e<0?BN(t):_N(t)}function BN(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let o,l,a=!1;for(Mr&&n.nodeType==1&&r<Rf(n)&&Ja(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let u=n.childNodes[r-1];if(Ja(u,-1))o=n,l=--r;else if(u.nodeType==3)n=u,r=n.nodeValue.length;else break}}else{if($T(n))break;{let u=n.previousSibling;for(;u&&Ja(u,-1);)o=n.parentNode,l=Sn(u),u=u.previousSibling;if(u)n=u,r=Rf(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?Eg(t,n,r):o&&Eg(t,o,l)}function _N(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let o=Rf(n),l,a;for(;;)if(r<o){if(n.nodeType!=1)break;let u=n.childNodes[r];if(Ja(u,1))l=n,a=++r;else break}else{if($T(n))break;{let u=n.nextSibling;for(;u&&Ja(u,1);)l=u.parentNode,a=Sn(u)+1,u=u.nextSibling;if(u)n=u,r=0,o=Rf(n);else{if(n=n.parentNode,n==t.dom)break;r=o=0}}}l&&Eg(t,l,a)}function $T(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function IN(t,e){for(;t&&e==t.childNodes.length&&!xc(t);)e=Sn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function HN(t,e){for(;t&&!e&&!xc(t);)e=Sn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Eg(t,e,n){if(e.nodeType!=3){let l,a;(a=IN(e,n))?(e=a,n=0):(l=HN(e,n))&&(e=l,n=l.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Ld(r)){let l=document.createRange();l.setEnd(e,n),l.setStart(e,n),r.removeAllRanges(),r.addRange(l)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:o}=t;setTimeout(()=>{t.state==o&&wi(t)},50)}function $S(t,e){let n=t.state.doc.resolve(e);if(!(an||RT)&&n.parent.inlineContent){let o=t.coordsAtPos(e);if(e>n.start()){let l=t.coordsAtPos(e-1),a=(l.top+l.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(l.left-o.left)>1)return l.left<o.left?"ltr":"rtl"}if(e<n.end()){let l=t.coordsAtPos(e+1),a=(l.top+l.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(l.left-o.left)>1)return l.left>o.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function GS(t,e,n){let r=t.state.selection;if(r instanceof Ve&&!r.empty||n.indexOf("s")>-1||Tr&&n.indexOf("m")>-1)return!1;let{$from:o,$to:l}=r;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=xg(t.state,e);if(a&&a instanceof Be)return io(t,a)}if(!o.parent.inlineContent){let a=e<0?o:l,u=r instanceof sr?Ye.near(a,e):Ye.findFrom(a,e);return u?io(t,u):!1}return!1}function KS(t,e){if(!(t.state.selection instanceof Ve))return!0;let{$head:n,$anchor:r,empty:o}=t.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let l=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(l&&!l.isText){let a=t.state.tr;return e<0?a.delete(n.pos-l.nodeSize,n.pos):a.delete(n.pos,n.pos+l.nodeSize),t.dispatch(a),!0}return!1}function YS(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function VN(t){if(!Tn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;YS(t,r,"true"),setTimeout(()=>YS(t,r,"false"),20)}return!1}function jN(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function UN(t,e){let n=e.keyCode,r=jN(e);if(n==8||Tr&&n==72&&r=="c")return KS(t,-1)||fl(t,-1);if(n==46&&!e.shiftKey||Tr&&n==68&&r=="c")return KS(t,1)||fl(t,1);if(n==13||n==27)return!0;if(n==37||Tr&&n==66&&r=="c"){let o=n==37?$S(t,t.state.selection.from)=="ltr"?-1:1:-1;return FS(t,o,r)||fl(t,o)}else if(n==39||Tr&&n==70&&r=="c"){let o=n==39?$S(t,t.state.selection.from)=="ltr"?1:-1:1;return FS(t,o,r)||fl(t,o)}else{if(n==38||Tr&&n==80&&r=="c")return GS(t,-1,r)||fl(t,-1);if(n==40||Tr&&n==78&&r=="c")return VN(t)||GS(t,1,r)||fl(t,1);if(r==(Tr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function gy(t,e){t.someProp("transformCopied",v=>{e=v(e,t)});let n=[],{content:r,openStart:o,openEnd:l}=e;for(;o>1&&l>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,l--;let v=r.firstChild;n.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let a=t.someProp("clipboardSerializer")||Es.fromSchema(t.state.schema),u=JT(),d=u.createElement("div");d.appendChild(a.serializeFragment(r,{document:u}));let h=d.firstChild,p,g=0;for(;h&&h.nodeType==1&&(p=WT[h.nodeName.toLowerCase()]);){for(let v=p.length-1;v>=0;v--){let S=u.createElement(p[v]);for(;d.firstChild;)S.appendChild(d.firstChild);d.appendChild(S),g++}h=d.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${o} ${l}${g?` -${g}`:""} ${JSON.stringify(n)}`);let b=t.someProp("clipboardTextSerializer",v=>v(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:b,slice:e}}function GT(t,e,n,r,o){let l=o.parent.type.spec.code,a,u;if(!n&&!e)return null;let d=!!e&&(r||l||!n);if(d){if(t.someProp("transformPastedText",b=>{e=b(e,l||r,t)}),l)return u=new xe(le.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",b=>{u=b(u,t,!0)}),u;let g=t.someProp("clipboardTextParser",b=>b(e,o,r,t));if(g)u=g;else{let b=o.marks(),{schema:v}=t.state,S=Es.fromSchema(v);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(E=>{let T=a.appendChild(document.createElement("p"));E&&T.appendChild(S.serializeNode(v.text(E,b)))})}}else t.someProp("transformPastedHTML",g=>{n=g(n,t)}),a=$N(n),Ec&&GN(a);let h=a&&a.querySelector("[data-pm-slice]"),p=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let g=+p[3];g>0;g--){let b=a.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;a=b}if(u||(u=(t.someProp("clipboardParser")||t.someProp("domParser")||go.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(d||p),context:o,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!PN.test(b.parentNode.nodeName)?{ignore:!0}:null}})),p)u=KN(XS(u,+p[1],+p[2]),p[4]);else if(u=xe.maxOpen(qN(u.content,o),!0),u.openStart||u.openEnd){let g=0,b=0;for(let v=u.content.firstChild;g<u.openStart&&!v.type.spec.isolating;g++,v=v.firstChild);for(let v=u.content.lastChild;b<u.openEnd&&!v.type.spec.isolating;b++,v=v.lastChild);u=XS(u,g,b)}return t.someProp("transformPasted",g=>{u=g(u,t,d)}),u}const PN=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function qN(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let o=e.node(n).contentMatchAt(e.index(n)),l,a=[];if(t.forEach(u=>{if(!a)return;let d=o.findWrapping(u.type),h;if(!d)return a=null;if(h=a.length&&l.length&&YT(d,l,u,a[a.length-1],0))a[a.length-1]=h;else{a.length&&(a[a.length-1]=XT(a[a.length-1],l.length));let p=KT(u,d);a.push(p),o=o.matchType(p.type),l=d}}),a)return le.from(a)}return t}function KT(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,le.from(t));return t}function YT(t,e,n,r,o){if(o<t.length&&o<e.length&&t[o]==e[o]){let l=YT(t,e,n,r.lastChild,o+1);if(l)return r.copy(r.content.replaceChild(r.childCount-1,l));if(r.contentMatchAt(r.childCount).matchType(o==t.length-1?n.type:t[o+1]))return r.copy(r.content.append(le.from(KT(n,t,o+1))))}}function XT(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,XT(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(le.empty,!0);return t.copy(n.append(r))}function Tg(t,e,n,r,o,l){let a=e<0?t.firstChild:t.lastChild,u=a.content;return t.childCount>1&&(l=0),o<r-1&&(u=Tg(u,e,n,r,o+1,l)),o>=n&&(u=e<0?a.contentMatchAt(0).fillBefore(u,l<=o).append(u):u.append(a.contentMatchAt(a.childCount).fillBefore(le.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(u))}function XS(t,e,n){return e<t.openStart&&(t=new xe(Tg(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new xe(Tg(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const WT={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let WS=null;function JT(){return WS||(WS=document.implementation.createHTMLDocument("title"))}let Rm=null;function FN(t){let e=window.trustedTypes;return e?(Rm||(Rm=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Rm.createHTML(t)):t}function $N(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=JT().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),o;if((o=r&&WT[r[1].toLowerCase()])&&(t=o.map(l=>"<"+l+">").join("")+t+o.map(l=>"</"+l+">").reverse().join("")),n.innerHTML=FN(t),o)for(let l=0;l<o.length;l++)n=n.querySelector(o[l])||n;return n}function GN(t){let e=t.querySelectorAll(an?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function KN(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:o,openStart:l,openEnd:a}=t;for(let u=r.length-2;u>=0;u-=2){let d=n.nodes[r[u]];if(!d||d.hasRequiredAttrs())break;o=le.from(d.create(r[u+1],o)),l++,a++}return new xe(o,l,a)}const Bn={},_n={},YN={touchstart:!0,touchmove:!0};class XN{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function WN(t){for(let e in Bn){let n=Bn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{QN(t,r)&&!yy(t,r)&&(t.editable||!(r.type in _n))&&n(t,r)},YN[e]?{passive:!0}:void 0)}Tn&&t.dom.addEventListener("input",()=>null),wg(t)}function ho(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function JN(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function wg(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>yy(t,r))})}function yy(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function QN(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function ZN(t,e){!yy(t,e)&&Bn[e.type]&&(t.editable||!(e.type in _n))&&Bn[e.type](t,e)}_n.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!ZT(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Ei&&an&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Dl&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",o=>o(t,rs(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||UN(t,n)?n.preventDefault():ho(t,"key")};_n.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};_n.keypress=(t,e)=>{let n=e;if(ZT(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Tr&&n.metaKey)return;if(t.someProp("handleKeyPress",o=>o(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Ve)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(n.charCode),l=()=>t.state.tr.insertText(o).scrollIntoView();!/[\r\n]/.test(o)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,o,l))&&t.dispatch(l()),n.preventDefault()}};function _d(t){return{left:t.clientX,top:t.clientY}}function e2(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function by(t,e,n,r,o){if(r==-1)return!1;let l=t.state.doc.resolve(r);for(let a=l.depth+1;a>0;a--)if(t.someProp(e,u=>a>l.depth?u(t,n,l.nodeAfter,l.before(a),o,!0):u(t,n,l.node(a),l.before(a),o,!1)))return!0;return!1}function xl(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function t2(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Be.isSelectable(r)?(xl(t,new Be(n)),!0):!1}function n2(t,e){if(e==-1)return!1;let n=t.state.selection,r,o;n instanceof Be&&(r=n.node);let l=t.state.doc.resolve(e);for(let a=l.depth+1;a>0;a--){let u=a>l.depth?l.nodeAfter:l.node(a);if(Be.isSelectable(u)){r&&n.$from.depth>0&&a>=n.$from.depth&&l.before(n.$from.depth+1)==n.$from.pos?o=l.before(n.$from.depth):o=l.before(a);break}}return o!=null?(xl(t,Be.create(t.state.doc,o)),!0):!1}function r2(t,e,n,r,o){return by(t,"handleClickOn",e,n,r)||t.someProp("handleClick",l=>l(t,e,r))||(o?n2(t,n):t2(t,n))}function i2(t,e,n,r){return by(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",o=>o(t,e,r))}function o2(t,e,n,r){return by(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",o=>o(t,e,r))||s2(t,n,r)}function s2(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(xl(t,Ve.create(r,0,r.content.size)),!0):!1;let o=r.resolve(e);for(let l=o.depth+1;l>0;l--){let a=l>o.depth?o.nodeAfter:o.node(l),u=o.before(l);if(a.inlineContent)xl(t,Ve.create(r,u+1,u+1+a.content.size));else if(Be.isSelectable(a))xl(t,Be.create(r,u));else continue;return!0}}function vy(t){return Nf(t)}const QT=Tr?"metaKey":"ctrlKey";Bn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=vy(t),o=Date.now(),l="singleClick";o-t.input.lastClick.time<500&&e2(n,t.input.lastClick)&&!n[QT]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?l="doubleClick":t.input.lastClick.type=="doubleClick"&&(l="tripleClick")),t.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:l,button:n.button};let a=t.posAtCoords(_d(n));a&&(l=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new l2(t,a,n,!!r)):(l=="doubleClick"?i2:o2)(t,a.pos,a.inside,n)?n.preventDefault():ho(t,"pointer"))};class l2{constructor(e,n,r,o){this.view=e,this.pos=n,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[QT],this.allowDefault=r.shiftKey;let l,a;if(n.inside>-1)l=e.state.doc.nodeAt(n.inside),a=n.inside;else{let p=e.state.doc.resolve(n.pos);l=p.parent,a=p.depth?p.before():0}const u=o?null:r.target,d=u?e.docView.nearestDesc(u,!0):null;this.target=d&&d.nodeDOM.nodeType==1?d.nodeDOM:null;let{selection:h}=e.state;(r.button==0&&l.type.spec.draggable&&l.type.spec.selectable!==!1||h instanceof Be&&h.from<=a&&h.to>a)&&(this.mightDrag={node:l,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Mr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ho(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>wi(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(_d(e))),this.updateAllowDefault(e),this.allowDefault||!n?ho(this.view,"pointer"):r2(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Tn&&this.mightDrag&&!this.mightDrag.node.isAtom||an&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(xl(this.view,Ye.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):ho(this.view,"pointer")}move(e){this.updateAllowDefault(e),ho(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Bn.touchstart=t=>{t.input.lastTouch=Date.now(),vy(t),ho(t,"pointer")};Bn.touchmove=t=>{t.input.lastTouch=Date.now(),ho(t,"pointer")};Bn.contextmenu=t=>vy(t);function ZT(t,e){return t.composing?!0:Tn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const a2=Ei?5e3:-1;_n.compositionstart=_n.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Ve&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||an&&RT&&c2(t)))t.markCursor=t.state.storedMarks||n.marks(),Nf(t,!0),t.markCursor=null;else if(Nf(t,!e.selection.empty),Mr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let o=r.focusNode,l=r.focusOffset;o&&o.nodeType==1&&l!=0;){let a=l<0?o.lastChild:o.childNodes[l-1];if(!a)break;if(a.nodeType==3){let u=t.domSelection();u&&u.collapse(a,a.nodeValue.length);break}else o=a,l=-1}}t.input.composing=!0}ew(t,a2)};function c2(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let r=e.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}_n.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.badSafariComposition?t.domObserver.forceFlush():t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,ew(t,20))};function ew(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Nf(t),e))}function tw(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=f2());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function u2(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=nN(e.focusNode,e.focusOffset),r=rN(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let o=r.pmViewDesc,l=t.domObserver.lastChangedTextNode;if(n==l||r==l)return l;if(!o||!o.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function f2(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Nf(t,e=!1){if(!(Ei&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),tw(t),e||t.docView&&t.docView.dirty){let n=py(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function d2(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const fc=Yn&&yo<15||Dl&&lN<604;Bn.copy=_n.cut=(t,e)=>{let n=e,r=t.state.selection,o=n.type=="cut";if(r.empty)return;let l=fc?null:n.clipboardData,a=r.content(),{dom:u,text:d}=gy(t,a);l?(n.preventDefault(),l.clearData(),l.setData("text/html",u.innerHTML),l.setData("text/plain",d)):d2(t,u),o&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function h2(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function p2(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?dc(t,r.value,null,o,e):dc(t,r.textContent,r.innerHTML,o,e)},50)}function dc(t,e,n,r,o){let l=GT(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",d=>d(t,o,l||xe.empty)))return!0;if(!l)return!1;let a=h2(l),u=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(l);return t.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function nw(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}_n.paste=(t,e)=>{let n=e;if(t.composing&&!Ei)return;let r=fc?null:n.clipboardData,o=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&dc(t,nw(r),r.getData("text/html"),o,n)?n.preventDefault():p2(t,n)};class rw{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const m2=Tr?"altKey":"ctrlKey";function iw(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[m2]}Bn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o=t.state.selection,l=o.empty?null:t.posAtCoords(_d(n)),a;if(!(l&&l.pos>=o.from&&l.pos<=(o instanceof Be?o.to-1:o.to))){if(r&&r.mightDrag)a=Be.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let g=t.docView.nearestDesc(n.target,!0);g&&g.node.type.spec.draggable&&g!=t.docView&&(a=Be.create(t.state.doc,g.posBefore))}}let u=(a||t.state.selection).content(),{dom:d,text:h,slice:p}=gy(t,u);(!n.dataTransfer.files.length||!an||OT>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(fc?"Text":"text/html",d.innerHTML),n.dataTransfer.effectAllowed="copyMove",fc||n.dataTransfer.setData("text/plain",h),t.dragging=new rw(p,iw(t,n),a)};Bn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};_n.dragover=_n.dragenter=(t,e)=>e.preventDefault();_n.drop=(t,e)=>{try{g2(t,e,t.dragging)}finally{t.dragging=null}};function g2(t,e,n){if(!e.dataTransfer)return;let r=t.posAtCoords(_d(e));if(!r)return;let o=t.state.doc.resolve(r.pos),l=n&&n.slice;l?t.someProp("transformPasted",v=>{l=v(l,t,!1)}):l=GT(t,nw(e.dataTransfer),fc?null:e.dataTransfer.getData("text/html"),!1,o);let a=!!(n&&iw(t,e));if(t.someProp("handleDrop",v=>v(t,e,l||xe.empty,a))){e.preventDefault();return}if(!l)return;e.preventDefault();let u=l?aT(t.state.doc,o.pos,l):o.pos;u==null&&(u=o.pos);let d=t.state.tr;if(a){let{node:v}=n;v?v.replace(d):d.deleteSelection()}let h=d.mapping.map(u),p=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,g=d.doc;if(p?d.replaceRangeWith(h,h,l.content.firstChild):d.replaceRange(h,h,l),d.doc.eq(g))return;let b=d.doc.resolve(h);if(p&&Be.isSelectable(l.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(l.content.firstChild))d.setSelection(new Be(b));else{let v=d.mapping.map(u);d.mapping.maps[d.mapping.maps.length-1].forEach((S,E,T,w)=>v=w),d.setSelection(my(t,b,d.doc.resolve(v)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))}Bn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&wi(t)},20))};Bn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Bn.beforeinput=(t,e)=>{if(an&&Ei&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",l=>l(t,rs(8,"Backspace")))))return;let{$cursor:o}=t.state.selection;o&&o.pos>0&&t.dispatch(t.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let t in _n)Bn[t]=_n[t];function hc(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Df{constructor(e,n){this.toDOM=e,this.spec=n||ds,this.side=this.spec.side||0}map(e,n,r,o){let{pos:l,deleted:a}=e.mapResult(n.from+o,this.side<0?-1:1);return a?null:new On(l-r,l-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Df&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&hc(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class vo{constructor(e,n){this.attrs=e,this.spec=n||ds}map(e,n,r,o){let l=e.map(n.from+o,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+o,this.spec.inclusiveEnd?1:-1)-r;return l>=a?null:new On(l,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof vo&&hc(this.attrs,e.attrs)&&hc(this.spec,e.spec)}static is(e){return e.type instanceof vo}destroy(){}}class Sy{constructor(e,n){this.attrs=e,this.spec=n||ds}map(e,n,r,o){let l=e.mapResult(n.from+o,1);if(l.deleted)return null;let a=e.mapResult(n.to+o,-1);return a.deleted||a.pos<=l.pos?null:new On(l.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:o}=e.content.findIndex(n.from),l;return o==n.from&&!(l=e.child(r)).isText&&o+l.nodeSize==n.to}eq(e){return this==e||e instanceof Sy&&hc(this.attrs,e.attrs)&&hc(this.spec,e.spec)}destroy(){}}class On{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new On(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new On(e,e,new Df(n,r))}static inline(e,n,r,o){return new On(e,n,new vo(r,o))}static node(e,n,r,o){return new On(e,n,new Sy(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof vo}get widget(){return this.type instanceof Df}}const pl=[],ds={};class Ct{constructor(e,n){this.local=e.length?e:pl,this.children=n.length?n:pl}static create(e,n){return n.length?zf(n,e,0,ds):kn}find(e,n,r){let o=[];return this.findInner(e??0,n??1e9,o,0,r),o}findInner(e,n,r,o,l){for(let a=0;a<this.local.length;a++){let u=this.local[a];u.from<=n&&u.to>=e&&(!l||l(u.spec))&&r.push(u.copy(u.from+o,u.to+o))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let u=this.children[a]+1;this.children[a+2].findInner(e-u,n-u,r,o+u,l)}}map(e,n,r){return this==kn||e.maps.length==0?this:this.mapInner(e,n,0,0,r||ds)}mapInner(e,n,r,o,l){let a;for(let u=0;u<this.local.length;u++){let d=this.local[u].map(e,r,o);d&&d.type.valid(n,d)?(a||(a=[])).push(d):l.onRemove&&l.onRemove(this.local[u].spec)}return this.children.length?y2(this.children,a||[],e,n,r,o,l):a?new Ct(a.sort(hs),pl):kn}add(e,n){return n.length?this==kn?Ct.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let o,l=0;e.forEach((u,d)=>{let h=d+r,p;if(p=sw(n,u,h)){for(o||(o=this.children.slice());l<o.length&&o[l]<d;)l+=3;o[l]==d?o[l+2]=o[l+2].addInner(u,p,h+1):o.splice(l,0,d,d+u.nodeSize,zf(p,u,h+1,ds)),l+=3}});let a=ow(l?lw(n):n,-r);for(let u=0;u<a.length;u++)a[u].type.valid(e,a[u])||a.splice(u--,1);return new Ct(a.length?this.local.concat(a).sort(hs):this.local,o||this.children)}remove(e){return e.length==0||this==kn?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,o=this.local;for(let l=0;l<r.length;l+=3){let a,u=r[l]+n,d=r[l+1]+n;for(let p=0,g;p<e.length;p++)(g=e[p])&&g.from>u&&g.to<d&&(e[p]=null,(a||(a=[])).push(g));if(!a)continue;r==this.children&&(r=this.children.slice());let h=r[l+2].removeInner(a,u+1);h!=kn?r[l+2]=h:(r.splice(l,3),l-=3)}if(o.length){for(let l=0,a;l<e.length;l++)if(a=e[l])for(let u=0;u<o.length;u++)o[u].eq(a,n)&&(o==this.local&&(o=this.local.slice()),o.splice(u--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new Ct(o,r):kn}forChild(e,n){if(this==kn)return this;if(n.isLeaf)return Ct.empty;let r,o;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(r=this.children[u+2]);break}let l=e+1,a=l+n.content.size;for(let u=0;u<this.local.length;u++){let d=this.local[u];if(d.from<a&&d.to>l&&d.type instanceof vo){let h=Math.max(l,d.from)-l,p=Math.min(a,d.to)-l;h<p&&(o||(o=[])).push(d.copy(h,p))}}if(o){let u=new Ct(o.sort(hs),pl);return r?new lo([u,r]):u}return r||kn}eq(e){if(this==e)return!0;if(!(e instanceof Ct)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return xy(this.localsInner(e))}localsInner(e){if(this==kn)return pl;if(e.inlineContent||!this.local.some(vo.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof vo||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Ct.empty=new Ct([],[]);Ct.removeOverlap=xy;const kn=Ct.empty;class lo{constructor(e){this.members=e}map(e,n){const r=this.members.map(o=>o.map(e,n,ds));return lo.from(r)}forChild(e,n){if(n.isLeaf)return Ct.empty;let r=[];for(let o=0;o<this.members.length;o++){let l=this.members[o].forChild(e,n);l!=kn&&(l instanceof lo?r=r.concat(l.members):r.push(l))}return lo.from(r)}eq(e){if(!(e instanceof lo)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let o=0;o<this.members.length;o++){let l=this.members[o].localsInner(e);if(l.length)if(!n)n=l;else{r&&(n=n.slice(),r=!1);for(let a=0;a<l.length;a++)n.push(l[a])}}return n?xy(r?n:n.sort(hs)):pl}static from(e){switch(e.length){case 0:return kn;case 1:return e[0];default:return new lo(e.every(n=>n instanceof Ct)?e:e.reduce((n,r)=>n.concat(r instanceof Ct?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function y2(t,e,n,r,o,l,a){let u=t.slice();for(let h=0,p=l;h<n.maps.length;h++){let g=0;n.maps[h].forEach((b,v,S,E)=>{let T=E-S-(v-b);for(let w=0;w<u.length;w+=3){let k=u[w+1];if(k<0||b>k+p-g)continue;let A=u[w]+p-g;v>=A?u[w+1]=b<=A?-2:-1:b>=p&&T&&(u[w]+=T,u[w+1]+=T)}g+=T}),p=n.maps[h].map(p,-1)}let d=!1;for(let h=0;h<u.length;h+=3)if(u[h+1]<0){if(u[h+1]==-2){d=!0,u[h+1]=-1;continue}let p=n.map(t[h]+l),g=p-o;if(g<0||g>=r.content.size){d=!0;continue}let b=n.map(t[h+1]+l,-1),v=b-o,{index:S,offset:E}=r.content.findIndex(g),T=r.maybeChild(S);if(T&&E==g&&E+T.nodeSize==v){let w=u[h+2].mapInner(n,T,p+1,t[h]+l+1,a);w!=kn?(u[h]=g,u[h+1]=v,u[h+2]=w):(u[h+1]=-2,d=!0)}else d=!0}if(d){let h=b2(u,t,e,n,o,l,a),p=zf(h,r,0,a);e=p.local;for(let g=0;g<u.length;g+=3)u[g+1]<0&&(u.splice(g,3),g-=3);for(let g=0,b=0;g<p.children.length;g+=3){let v=p.children[g];for(;b<u.length&&u[b]<v;)b+=3;u.splice(b,0,p.children[g],p.children[g+1],p.children[g+2])}}return new Ct(e.sort(hs),u)}function ow(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let o=t[r];n.push(new On(o.from+e,o.to+e,o.type))}return n}function b2(t,e,n,r,o,l,a){function u(d,h){for(let p=0;p<d.local.length;p++){let g=d.local[p].map(r,o,h);g?n.push(g):a.onRemove&&a.onRemove(d.local[p].spec)}for(let p=0;p<d.children.length;p+=3)u(d.children[p+2],d.children[p]+h+1)}for(let d=0;d<t.length;d+=3)t[d+1]==-1&&u(t[d+2],e[d]+l+1);return n}function sw(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,o=null;for(let l=0,a;l<t.length;l++)(a=t[l])&&a.from>n&&a.to<r&&((o||(o=[])).push(a),t[l]=null);return o}function lw(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function zf(t,e,n,r){let o=[],l=!1;e.forEach((u,d)=>{let h=sw(t,u,d+n);if(h){l=!0;let p=zf(h,u,n+d+1,r);p!=kn&&o.push(d,d+u.nodeSize,p)}});let a=ow(l?lw(t):t,-n).sort(hs);for(let u=0;u<a.length;u++)a[u].type.valid(e,a[u])||(r.onRemove&&r.onRemove(a[u].spec),a.splice(u--,1));return a.length||o.length?new Ct(a,o):kn}function hs(t,e){return t.from-e.from||t.to-e.to}function xy(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let o=n+1;o<e.length;o++){let l=e[o];if(l.from==r.from){l.to!=r.to&&(e==t&&(e=t.slice()),e[o]=l.copy(l.from,r.to),JS(e,o+1,l.copy(r.to,l.to)));continue}else{l.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,l.from),JS(e,o,r.copy(l.from,r.to)));break}}}return e}function JS(t,e,n){for(;e<t.length&&hs(n,t[e])>0;)e++;t.splice(e,0,n)}function Nm(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=kn&&e.push(r)}),t.cursorWrapper&&e.push(Ct.create(t.state.doc,[t.cursorWrapper.deco])),lo.from(e)}const v2={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},S2=Yn&&yo<=11;class x2{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class E2{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new x2,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);Yn&&yo<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():Tn&&e.composing&&r.some(o=>o.type=="childList"&&o.target.nodeName=="TR")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),S2&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,v2)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(qS(this.view)){if(this.suppressingSelectionUpdates)return wi(this.view);if(Yn&&yo<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ys(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let l=e.focusNode;l;l=Nl(l))n.add(l);for(let l=e.anchorNode;l;l=Nl(l))if(n.has(l)){r=l;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&qS(e)&&!this.ignoreSelectionChange(r),l=-1,a=-1,u=!1,d=[];if(e.editable)for(let p=0;p<n.length;p++){let g=this.registerMutation(n[p],d);g&&(l=l<0?g.from:Math.min(g.from,l),a=a<0?g.to:Math.max(g.to,a),g.typeOver&&(u=!0))}if(Mr&&d.length){let p=d.filter(g=>g.nodeName=="BR");if(p.length==2){let[g,b]=p;g.parentNode&&g.parentNode.parentNode==b.parentNode?b.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let b of p){let v=b.parentNode;v&&v.nodeName=="LI"&&(!g||C2(e,g)!=v)&&b.remove()}}}else if((an||Tn)&&d.some(p=>p.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let p of d)if(p.nodeName=="BR"&&p.parentNode){let g=p.nextSibling;g&&g.nodeType==1&&g.contentEditable=="false"&&p.parentNode.removeChild(p)}}let h=null;l<0&&o&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Ld(r)&&(h=py(e))&&h.eq(Ye.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,wi(e),this.currentSelection.set(r),e.scrollToSelection()):(l>-1||o)&&(l>-1&&(e.docView.markDirty(l,a),T2(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,M2(e,d)),this.handleDOMChange(l,a,u,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||wi(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let g=e.addedNodes[p];n.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let o=e.previousSibling,l=e.nextSibling;if(Yn&&yo<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:g,nextSibling:b}=e.addedNodes[p];(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(o=g),(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(l=b)}let a=o&&o.parentNode==e.target?Sn(o)+1:0,u=r.localPosFromDOM(e.target,a,-1),d=l&&l.parentNode==e.target?Sn(l):e.target.childNodes.length,h=r.localPosFromDOM(e.target,d,1);return{from:u,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let QS=new WeakMap,ZS=!1;function T2(t){if(!QS.has(t)&&(QS.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Mr,ZS)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),ZS=!0}}function ex(t,e){let n=e.startContainer,r=e.startOffset,o=e.endContainer,l=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return ys(a.node,a.offset,o,l)&&([n,r,o,l]=[o,l,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:l}}function w2(t,e){if(e.getComposedRanges){let o=e.getComposedRanges(t.root)[0];if(o)return ex(t,o)}let n;function r(o){o.preventDefault(),o.stopImmediatePropagation(),n=o.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?ex(t,n):null}function C2(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function M2(t,e){var n;let{focusNode:r,focusOffset:o}=t.domSelectionRange();for(let l of e)if(((n=l.parentNode)===null||n===void 0?void 0:n.nodeName)=="TR"){let a=l.nextSibling;for(;a&&a.nodeName!="TD"&&a.nodeName!="TH";)a=a.nextSibling;if(a){let u=a;for(;;){let d=u.firstChild;if(!d||d.nodeType!=1||d.contentEditable=="false"||/^(BR|IMG)$/.test(d.nodeName))break;u=d}u.insertBefore(l,u.firstChild),r==l&&t.domSelection().collapse(l,o)}else l.parentNode.removeChild(l)}}function k2(t,e,n){let{node:r,fromOffset:o,toOffset:l,from:a,to:u}=t.docView.parseRange(e,n),d=t.domSelectionRange(),h,p=d.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(h=[{node:p,offset:d.anchorOffset}],Ld(d)||h.push({node:d.focusNode,offset:d.focusOffset})),an&&t.input.lastKeyCode===8)for(let T=l;T>o;T--){let w=r.childNodes[T-1],k=w.pmViewDesc;if(w.nodeName=="BR"&&!k){l=T;break}if(!k||k.size)break}let g=t.state.doc,b=t.someProp("domParser")||go.fromSchema(t.state.schema),v=g.resolve(a),S=null,E=b.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:o,to:l,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:A2,context:v});if(h&&h[0].pos!=null){let T=h[0].pos,w=h[1]&&h[1].pos;w==null&&(w=T),S={anchor:T+a,head:w+a}}return{doc:E,sel:S,from:a,to:u}}function A2(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Tn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Tn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const O2=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function R2(t,e,n,r,o){let l=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let z=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,I=py(t,z);if(I&&!t.state.selection.eq(I)){if(an&&Ei&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",se=>se(t,rs(13,"Enter"))))return;let K=t.state.tr.setSelection(I);z=="pointer"?K.setMeta("pointer",!0):z=="key"&&K.scrollIntoView(),l&&K.setMeta("composition",l),t.dispatch(K)}return}let a=t.state.doc.resolve(e),u=a.sharedDepth(n);e=a.before(u+1),n=t.state.doc.resolve(n).after(u+1);let d=t.state.selection,h=k2(t,e,n),p=t.state.doc,g=p.slice(h.from,h.to),b,v;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(b=t.state.selection.to,v="end"):(b=t.state.selection.from,v="start"),t.input.lastKeyCode=null;let S=z2(g.content,h.doc.content,h.from,b,v);if(S&&t.input.domChangeCount++,(Dl&&t.input.lastIOSEnter>Date.now()-225||Ei)&&o.some(z=>z.nodeType==1&&!O2.test(z.nodeName))&&(!S||S.endA>=S.endB)&&t.someProp("handleKeyDown",z=>z(t,rs(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!S)if(r&&d instanceof Ve&&!d.empty&&d.$head.sameParent(d.$anchor)&&!t.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))S={start:d.from,endA:d.to,endB:d.to};else{if(h.sel){let z=tx(t,t.state.doc,h.sel);if(z&&!z.eq(t.state.selection)){let I=t.state.tr.setSelection(z);l&&I.setMeta("composition",l),t.dispatch(I)}}return}t.state.selection.from<t.state.selection.to&&S.start==S.endB&&t.state.selection instanceof Ve&&(S.start>t.state.selection.from&&S.start<=t.state.selection.from+2&&t.state.selection.from>=h.from?S.start=t.state.selection.from:S.endA<t.state.selection.to&&S.endA>=t.state.selection.to-2&&t.state.selection.to<=h.to&&(S.endB+=t.state.selection.to-S.endA,S.endA=t.state.selection.to)),Yn&&yo<=11&&S.endB==S.start+1&&S.endA==S.start&&S.start>h.from&&h.doc.textBetween(S.start-h.from-1,S.start-h.from+1)==" "&&(S.start--,S.endA--,S.endB--);let E=h.doc.resolveNoCache(S.start-h.from),T=h.doc.resolveNoCache(S.endB-h.from),w=p.resolve(S.start),k=E.sameParent(T)&&E.parent.inlineContent&&w.end()>=S.endA;if((Dl&&t.input.lastIOSEnter>Date.now()-225&&(!k||o.some(z=>z.nodeName=="DIV"||z.nodeName=="P"))||!k&&E.pos<h.doc.content.size&&(!E.sameParent(T)||!E.parent.inlineContent)&&E.pos<T.pos&&!/\S/.test(h.doc.textBetween(E.pos,T.pos,"","")))&&t.someProp("handleKeyDown",z=>z(t,rs(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>S.start&&D2(p,S.start,S.endA,E,T)&&t.someProp("handleKeyDown",z=>z(t,rs(8,"Backspace")))){Ei&&an&&t.domObserver.suppressSelectionUpdates();return}an&&S.endB==S.start&&(t.input.lastChromeDelete=Date.now()),Ei&&!k&&E.start()!=T.start()&&T.parentOffset==0&&E.depth==T.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==S.endA&&(S.endB-=2,T=h.doc.resolveNoCache(S.endB-h.from),setTimeout(()=>{t.someProp("handleKeyDown",function(z){return z(t,rs(13,"Enter"))})},20));let A=S.start,O=S.endA,N=z=>{let I=z||t.state.tr.replace(A,O,h.doc.slice(S.start-h.from,S.endB-h.from));if(h.sel){let K=tx(t,I.doc,h.sel);K&&!(an&&t.composing&&K.empty&&(S.start!=S.endB||t.input.lastChromeDelete<Date.now()-100)&&(K.head==A||K.head==I.mapping.map(O)-1)||Yn&&K.empty&&K.head==A)&&I.setSelection(K)}return l&&I.setMeta("composition",l),I.scrollIntoView()},H;if(k)if(E.pos==T.pos){Yn&&yo<=11&&E.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>wi(t),20));let z=N(t.state.tr.delete(A,O)),I=p.resolve(S.start).marksAcross(p.resolve(S.endA));I&&z.ensureMarks(I),t.dispatch(z)}else if(S.endA==S.endB&&(H=N2(E.parent.content.cut(E.parentOffset,T.parentOffset),w.parent.content.cut(w.parentOffset,S.endA-w.start())))){let z=N(t.state.tr);H.type=="add"?z.addMark(A,O,H.mark):z.removeMark(A,O,H.mark),t.dispatch(z)}else if(E.parent.child(E.index()).isText&&E.index()==T.index()-(T.textOffset?0:1)){let z=E.parent.textBetween(E.parentOffset,T.parentOffset),I=()=>N(t.state.tr.insertText(z,A,O));t.someProp("handleTextInput",K=>K(t,A,O,z,I))||t.dispatch(I())}else t.dispatch(N());else t.dispatch(N())}function tx(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:my(t,e.resolve(n.anchor),e.resolve(n.head))}function N2(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,o=n,l=r,a,u,d;for(let p=0;p<r.length;p++)o=r[p].removeFromSet(o);for(let p=0;p<n.length;p++)l=n[p].removeFromSet(l);if(o.length==1&&l.length==0)u=o[0],a="add",d=p=>p.mark(u.addToSet(p.marks));else if(o.length==0&&l.length==1)u=l[0],a="remove",d=p=>p.mark(u.removeFromSet(p.marks));else return null;let h=[];for(let p=0;p<e.childCount;p++)h.push(d(e.child(p)));if(le.from(h).eq(t))return{mark:u,type:a}}function D2(t,e,n,r,o){if(n-e<=o.pos-r.pos||Dm(r,!0,!1)<o.pos)return!1;let l=t.resolve(e);if(!r.parent.isTextblock){let u=l.nodeAfter;return u!=null&&n==e+u.nodeSize}if(l.parentOffset<l.parent.content.size||!l.parent.isTextblock)return!1;let a=t.resolve(Dm(l,!0,!0));return!a.parent.isTextblock||a.pos>n||Dm(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function Dm(t,e,n){let r=t.depth,o=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,o++,e=!1;if(n){let l=t.node(r).maybeChild(t.indexAfter(r));for(;l&&!l.isLeaf;)l=l.firstChild,o++}return o}function z2(t,e,n,r,o){let l=t.findDiffStart(e,n);if(l==null)return null;let{a,b:u}=t.findDiffEnd(e,n+t.size,n+e.size);if(o=="end"){let d=Math.max(0,l-Math.min(a,u));r-=a+d-l}if(a<l&&t.size<e.size){let d=r<=l&&r>=a?l-r:0;l-=d,l&&l<e.size&&nx(e.textBetween(l-1,l+1))&&(l+=d?1:-1),u=l+(u-a),a=l}else if(u<l){let d=r<=l&&r>=u?l-r:0;l-=d,l&&l<t.size&&nx(t.textBetween(l-1,l+1))&&(l+=d?1:-1),a=l+(a-u),u=l}return{start:l,endA:a,endB:u}}function nx(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class aw{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new XN,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(lx),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=ox(this),ix(this),this.nodeViews=sx(this),this.docView=IS(this.state.doc,rx(this),Nm(this),this.dom,this),this.domObserver=new E2(this,(r,o,l,a)=>R2(this,r,o,l,a)),this.domObserver.start(),WN(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&wg(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(lx),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let o=this.state,l=!1,a=!1;e.storedMarks&&this.composing&&(tw(this),a=!0),this.state=e;let u=o.plugins!=e.plugins||this._props.plugins!=n.plugins;if(u||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=sx(this);B2(v,this.nodeViews)&&(this.nodeViews=v,l=!0)}(u||n.handleDOMEvents!=this._props.handleDOMEvents)&&wg(this),this.editable=ox(this),ix(this);let d=Nm(this),h=rx(this),p=o.plugins!=e.plugins&&!o.doc.eq(e.doc)?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",g=l||!this.docView.matchesNode(e.doc,h,d);(g||!e.selection.eq(o.selection))&&(a=!0);let b=p=="preserve"&&a&&this.dom.style.overflowAnchor==null&&uN(this);if(a){this.domObserver.stop();let v=g&&(Yn||an)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&L2(o.selection,e.selection);if(g){let S=an?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=u2(this)),(l||!this.docView.update(e.doc,h,d,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=IS(e.doc,h,d,this.dom,this)),S&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&LN(this))?wi(this,v):(qT(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((r=this.dragging)===null||r===void 0)&&r.node&&!o.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,o),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():b&&fN(b)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Be){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&NS(this,n.getBoundingClientRect(),e)}else NS(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let l=r.from+(this.state.doc.content.size-n.doc.content.size);(l>0&&this.state.doc.nodeAt(l))==r.node&&(o=l)}this.dragging=new rw(e.slice,e.move,o<0?void 0:Be.create(this.state.doc,o))}someProp(e,n){let r=this._props&&this._props[e],o;if(r!=null&&(o=n?n(r):r))return o;for(let a=0;a<this.directPlugins.length;a++){let u=this.directPlugins[a].props[e];if(u!=null&&(o=n?n(u):u))return o}let l=this.state.plugins;if(l)for(let a=0;a<l.length;a++){let u=l[a].props[e];if(u!=null&&(o=n?n(u):u))return o}}hasFocus(){if(Yn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&dN(this.dom),wi(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return yN(this,e)}coordsAtPos(e,n=1){return BT(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let o=this.docView.posFromDOM(e,n,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,n){return EN(this,n||this.state,e)}pasteHTML(e,n){return dc(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return dc(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return gy(this,e)}destroy(){this.docView&&(JN(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Nm(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,eN())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return ZN(this,e)}domSelectionRange(){let e=this.domSelection();return e?Tn&&this.root.nodeType===11&&oN(this.dom.ownerDocument)==this.dom&&w2(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}aw.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function rx(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[On.node(0,t.state.doc.content.size,e)]}function ix(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:On.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function ox(t){return!t.someProp("editable",e=>e(t.state)===!1)}function L2(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function sx(t){let e=Object.create(null);function n(r){for(let o in r)Object.prototype.hasOwnProperty.call(e,o)||(e[o]=r[o])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function B2(t,e){let n=0,r=0;for(let o in t){if(t[o]!=e[o])return!0;n++}for(let o in e)r++;return n!=r}function lx(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Co={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Lf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},_2=typeof navigator<"u"&&/Mac/.test(navigator.platform),I2=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var xn=0;xn<10;xn++)Co[48+xn]=Co[96+xn]=String(xn);for(var xn=1;xn<=24;xn++)Co[xn+111]="F"+xn;for(var xn=65;xn<=90;xn++)Co[xn]=String.fromCharCode(xn+32),Lf[xn]=String.fromCharCode(xn);for(var zm in Co)Lf.hasOwnProperty(zm)||(Lf[zm]=Co[zm]);function H2(t){var e=_2&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||I2&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Lf:Co)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const V2=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),j2=typeof navigator<"u"&&/Win/.test(navigator.platform);function U2(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,o,l,a;for(let u=0;u<e.length-1;u++){let d=e[u];if(/^(cmd|meta|m)$/i.test(d))a=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))o=!0;else if(/^s(hift)?$/i.test(d))l=!0;else if(/^mod$/i.test(d))V2?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),a&&(n="Meta-"+n),l&&(n="Shift-"+n),n}function P2(t){let e=Object.create(null);for(let n in t)e[U2(n)]=t[n];return e}function Lm(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function q2(t){return new At({props:{handleKeyDown:cw(t)}})}function cw(t){let e=P2(t);return function(n,r){let o=H2(r),l,a=e[Lm(o,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let u=e[Lm(o,r,!1)];if(u&&u(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(j2&&r.ctrlKey&&r.altKey)&&(l=Co[r.keyCode])&&l!=o){let u=e[Lm(l,r)];if(u&&u(n.state,n.dispatch,n))return!0}}return!1}}var F2=Object.defineProperty,Ey=(t,e)=>{for(var n in e)F2(t,n,{get:e[n],enumerable:!0})};function Id(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:o}=n,{storedMarks:l}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return l},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,l=n.storedMarks,n}}}var Hd=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:o}=n,l=this.buildProps(o);return Object.fromEntries(Object.entries(t).map(([a,u])=>[a,(...h)=>{const p=u(...h)(l);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(o),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:o}=this,{view:l}=r,a=[],u=!!t,d=t||o.tr,h=()=>(!u&&e&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(d),a.every(g=>g===!0)),p={...Object.fromEntries(Object.entries(n).map(([g,b])=>[g,(...S)=>{const E=this.buildProps(d,e),T=b(...S)(E);return a.push(T),p}])),run:h};return p}createCan(t){const{rawCommands:e,state:n}=this,r=!1,o=t||n.tr,l=this.buildProps(o,r);return{...Object.fromEntries(Object.entries(e).map(([u,d])=>[u,(...h)=>d(...h)({...l,dispatch:void 0})])),chain:()=>this.createChain(o,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:o}=this,{view:l}=r,a={tr:t,editor:r,view:l,state:Id({state:o,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([u,d])=>[u,(...h)=>d(...h)(a)]))}};return a}},uw={};Ey(uw,{blur:()=>$2,clearContent:()=>G2,clearNodes:()=>K2,command:()=>Y2,createParagraphNear:()=>X2,cut:()=>W2,deleteCurrentNode:()=>J2,deleteNode:()=>Q2,deleteRange:()=>Z2,deleteSelection:()=>eD,enter:()=>tD,exitCode:()=>nD,extendMarkRange:()=>rD,first:()=>iD,focus:()=>sD,forEach:()=>lD,insertContent:()=>aD,insertContentAt:()=>fD,joinBackward:()=>pD,joinDown:()=>hD,joinForward:()=>mD,joinItemBackward:()=>gD,joinItemForward:()=>yD,joinTextblockBackward:()=>bD,joinTextblockForward:()=>vD,joinUp:()=>dD,keyboardShortcut:()=>xD,lift:()=>ED,liftEmptyBlock:()=>TD,liftListItem:()=>wD,newlineInCode:()=>CD,resetAttributes:()=>MD,scrollIntoView:()=>kD,selectAll:()=>AD,selectNodeBackward:()=>OD,selectNodeForward:()=>RD,selectParentNode:()=>ND,selectTextblockEnd:()=>DD,selectTextblockStart:()=>zD,setContent:()=>LD,setMark:()=>ez,setMeta:()=>tz,setNode:()=>nz,setNodeSelection:()=>rz,setTextDirection:()=>iz,setTextSelection:()=>oz,sinkListItem:()=>sz,splitBlock:()=>lz,splitListItem:()=>az,toggleList:()=>cz,toggleMark:()=>uz,toggleNode:()=>fz,toggleWrap:()=>dz,undoInputRule:()=>hz,unsetAllMarks:()=>pz,unsetMark:()=>mz,unsetTextDirection:()=>gz,updateAttributes:()=>yz,wrapIn:()=>bz,wrapInList:()=>vz});var $2=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),G2=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),K2=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:o}=r;return n&&o.forEach(({$from:l,$to:a})=>{t.doc.nodesBetween(l.pos,a.pos,(u,d)=>{if(u.type.isText)return;const{doc:h,mapping:p}=e,g=h.resolve(p.map(d)),b=h.resolve(p.map(d+u.nodeSize)),v=g.blockRange(b);if(!v)return;const S=jl(v);if(u.type.isTextblock){const{defaultType:E}=g.parent.contentMatchAt(g.index());e.setNodeMarkup(v.start,E)}(S||S===0)&&e.lift(v,S)})}),!0},Y2=t=>e=>t(e),X2=()=>({state:t,dispatch:e})=>wT(t,e),W2=(t,e)=>({editor:n,tr:r})=>{const{state:o}=n,l=o.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,l.content),r.setSelection(new Ve(r.doc.resolve(Math.max(a-1,0)))),!0},J2=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const o=t.selection.$anchor;for(let l=o.depth;l>0;l-=1)if(o.node(l).type===r.type){if(e){const u=o.before(l),d=o.after(l);t.delete(u,d).scrollIntoView()}return!0}return!1};function Wt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var Q2=t=>({tr:e,state:n,dispatch:r})=>{const o=Wt(t,n.schema),l=e.selection.$anchor;for(let a=l.depth;a>0;a-=1)if(l.node(a).type===o){if(r){const d=l.before(a),h=l.after(a);e.delete(d,h).scrollIntoView()}return!0}return!1},Z2=t=>({tr:e,dispatch:n})=>{const{from:r,to:o}=t;return n&&e.delete(r,o),!0},eD=()=>({state:t,dispatch:e})=>ay(t,e),tD=()=>({commands:t})=>t.keyboardShortcut("Enter"),nD=()=>({state:t,dispatch:e})=>VR(t,e);function Ty(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Bf(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(o=>n.strict?e[o]===t[o]:Ty(e[o])?e[o].test(t[o]):e[o]===t[o]):!0}function fw(t,e,n={}){return t.find(r=>r.type===e&&Bf(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function ax(t,e,n={}){return!!fw(t,e,n)}function wy(t,e,n){var r;if(!t||!e)return;let o=t.parent.childAfter(t.parentOffset);if((!o.node||!o.node.marks.some(p=>p.type===e))&&(o=t.parent.childBefore(t.parentOffset)),!o.node||!o.node.marks.some(p=>p.type===e)||(n=n||((r=o.node.marks[0])==null?void 0:r.attrs),!fw([...o.node.marks],e,n)))return;let a=o.index,u=t.start()+o.offset,d=a+1,h=u+o.node.nodeSize;for(;a>0&&ax([...t.parent.child(a-1).marks],e,n);)a-=1,u-=t.parent.child(a).nodeSize;for(;d<t.parent.childCount&&ax([...t.parent.child(d).marks],e,n);)h+=t.parent.child(d).nodeSize,d+=1;return{from:u,to:h}}function Ai(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var rD=(t,e={})=>({tr:n,state:r,dispatch:o})=>{const l=Ai(t,r.schema),{doc:a,selection:u}=n,{$from:d,from:h,to:p}=u;if(o){const g=wy(d,l,e);if(g&&g.from<=h&&g.to>=p){const b=Ve.create(a,g.from,g.to);n.setSelection(b)}}return!0},iD=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function dw(t){return t instanceof Ve}function ls(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function hw(t,e=null){if(!e)return null;const n=Ye.atStart(t),r=Ye.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const o=n.from,l=r.to;return e==="all"?Ve.create(t,ls(0,o,l),ls(t.content.size,o,l)):Ve.create(t,ls(e,o,l),ls(e,o,l))}function cx(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function _f(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function oD(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var sD=(t=null,e={})=>({editor:n,view:r,tr:o,dispatch:l})=>{e={scrollIntoView:!0,...e};const a=()=>{(_f()||cx())&&r.dom.focus(),oD()&&!_f()&&!cx()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(l&&t===null&&!dw(n.state.selection))return a(),!0;const u=hw(o.doc,t)||n.state.selection,d=n.state.selection.eq(u);return l&&(d||o.setSelection(u),d&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},lD=(t,e)=>n=>t.every((r,o)=>e(r,{...n,index:o})),aD=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),pw=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&pw(r)}return t};function Gu(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return pw(n)}function pc(t,e,n){if(t instanceof mo||t instanceof le)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,o=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return le.fromArray(t.map(u=>e.nodeFromJSON(u)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(l){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:l});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",l),pc("",e,n)}if(o){if(n.errorOnInvalidContent){let a=!1,u="";const d=new JE({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(a=!0,u=typeof h=="string"?h:h.outerHTML,null)}]}})});if(n.slice?go.fromSchema(d).parseSlice(Gu(t),n.parseOptions):go.fromSchema(d).parse(Gu(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const l=go.fromSchema(e);return n.slice?l.parseSlice(Gu(t),n.parseOptions).content:l.parse(Gu(t),n.parseOptions)}return pc("",e,n)}function cD(t,e,n){const r=t.steps.length-1;if(r<e)return;const o=t.steps[r];if(!(o instanceof ln||o instanceof cn))return;const l=t.mapping.maps[r];let a=0;l.forEach((u,d,h,p)=>{a===0&&(a=p)}),t.setSelection(Ye.near(t.doc.resolve(a),n))}var uD=t=>!("type"in t),fD=(t,e,n)=>({tr:r,dispatch:o,editor:l})=>{var a;if(o){n={parseOptions:l.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let u;const d=T=>{l.emit("contentError",{editor:l,error:T,disableCollaboration:()=>{"collaboration"in l.storage&&typeof l.storage.collaboration=="object"&&l.storage.collaboration&&(l.storage.collaboration.isDisabled=!0)}})},h={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!l.options.enableContentCheck&&l.options.emitContentError)try{pc(e,l.schema,{parseOptions:h,errorOnInvalidContent:!0})}catch(T){d(T)}try{u=pc(e,l.schema,{parseOptions:h,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:l.options.enableContentCheck})}catch(T){return d(T),!1}let{from:p,to:g}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},b=!0,v=!0;if((uD(u)?u:[u]).forEach(T=>{T.check(),b=b?T.isText&&T.marks.length===0:!1,v=v?T.isBlock:!1}),p===g&&v){const{parent:T}=r.doc.resolve(p);T.isTextblock&&!T.type.spec.code&&!T.childCount&&(p-=1,g+=1)}let E;if(b){if(Array.isArray(e))E=e.map(T=>T.text||"").join("");else if(e instanceof le){let T="";e.forEach(w=>{w.text&&(T+=w.text)}),E=T}else typeof e=="object"&&e&&e.text?E=e.text:E=e;r.insertText(E,p,g)}else{E=u;const T=r.doc.resolve(p),w=T.node(),k=T.parentOffset===0,A=w.isText||w.isTextblock,O=w.content.size>0;k&&A&&O&&(p=Math.max(0,p-1)),r.replaceWith(p,g,E)}n.updateSelection&&cD(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:p,text:E}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:p,text:E})}return!0},dD=()=>({state:t,dispatch:e})=>_R(t,e),hD=()=>({state:t,dispatch:e})=>IR(t,e),pD=()=>({state:t,dispatch:e})=>yT(t,e),mD=()=>({state:t,dispatch:e})=>xT(t,e),gD=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Nd(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},yD=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Nd(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},bD=()=>({state:t,dispatch:e})=>LR(t,e),vD=()=>({state:t,dispatch:e})=>BR(t,e);function mw(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function SD(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,o,l,a;for(let u=0;u<e.length-1;u+=1){const d=e[u];if(/^(cmd|meta|m)$/i.test(d))a=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))o=!0;else if(/^s(hift)?$/i.test(d))l=!0;else if(/^mod$/i.test(d))_f()||mw()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),l&&(n=`Shift-${n}`),n}var xD=t=>({editor:e,view:n,tr:r,dispatch:o})=>{const l=SD(t).split(/-(?!$)/),a=l.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),u=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:l.includes("Alt"),ctrlKey:l.includes("Ctrl"),metaKey:l.includes("Meta"),shiftKey:l.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{n.someProp("handleKeyDown",h=>h(n,u))});return d?.steps.forEach(h=>{const p=h.map(r.mapping);p&&o&&r.maybeStep(p)}),!0};function Mo(t,e,n={}){const{from:r,to:o,empty:l}=t.selection,a=e?Wt(e,t.schema):null,u=[];t.doc.nodesBetween(r,o,(g,b)=>{if(g.isText)return;const v=Math.max(r,b),S=Math.min(o,b+g.nodeSize);u.push({node:g,from:v,to:S})});const d=o-r,h=u.filter(g=>a?a.name===g.node.type.name:!0).filter(g=>Bf(g.node.attrs,n,{strict:!1}));return l?!!h.length:h.reduce((g,b)=>g+b.to-b.from,0)>=d}var ED=(t,e={})=>({state:n,dispatch:r})=>{const o=Wt(t,n.schema);return Mo(n,o,e)?HR(n,r):!1},TD=()=>({state:t,dispatch:e})=>CT(t,e),wD=t=>({state:e,dispatch:n})=>{const r=Wt(t,e.schema);return WR(r)(e,n)},CD=()=>({state:t,dispatch:e})=>TT(t,e);function Vd(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function ux(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,o)=>(n.includes(o)||(r[o]=t[o]),r),{})}var MD=(t,e)=>({tr:n,state:r,dispatch:o})=>{let l=null,a=null;const u=Vd(typeof t=="string"?t:t.name,r.schema);if(!u)return!1;u==="node"&&(l=Wt(t,r.schema)),u==="mark"&&(a=Ai(t,r.schema));let d=!1;return n.selection.ranges.forEach(h=>{r.doc.nodesBetween(h.$from.pos,h.$to.pos,(p,g)=>{l&&l===p.type&&(d=!0,o&&n.setNodeMarkup(g,void 0,ux(p.attrs,e))),a&&p.marks.length&&p.marks.forEach(b=>{a===b.type&&(d=!0,o&&n.addMark(g,g+p.nodeSize,a.create(ux(b.attrs,e))))})})}),d},kD=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),AD=()=>({tr:t,dispatch:e})=>{if(e){const n=new sr(t.doc);t.setSelection(n)}return!0},OD=()=>({state:t,dispatch:e})=>vT(t,e),RD=()=>({state:t,dispatch:e})=>ET(t,e),ND=()=>({state:t,dispatch:e})=>PR(t,e),DD=()=>({state:t,dispatch:e})=>$R(t,e),zD=()=>({state:t,dispatch:e})=>FR(t,e);function Cg(t,e,n={},r={}){return pc(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var LD=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:l,dispatch:a,commands:u})=>{const{doc:d}=l;if(r.preserveWhitespace!=="full"){const h=Cg(t,o.schema,r,{errorOnInvalidContent:e??o.options.enableContentCheck});return a&&l.replaceWith(0,d.content.size,h).setMeta("preventUpdate",!n),!0}return a&&l.setMeta("preventUpdate",!n),u.insertContentAt({from:0,to:d.content.size},t,{parseOptions:r,errorOnInvalidContent:e??o.options.enableContentCheck})};function gw(t,e){const n=Ai(e,t.schema),{from:r,to:o,empty:l}=t.selection,a=[];l?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,o,d=>{a.push(...d.marks)});const u=a.find(d=>d.type.name===n.name);return u?{...u.attrs}:{}}function yw(t,e){const n=new hT(t);return e.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}function BD(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function _D(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(o,l)=>{n(o)&&r.push({node:o,pos:l})}),r}function ID(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function jd(t){return e=>ID(e.$from,t)}function De(t,e,n){return t.config[e]===void 0&&t.parent?De(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?De(t.parent,e,n):null}):t.config[e]}function Cy(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=De(e,"addExtensions",n);return r?[e,...Cy(r())]:e}).flat(10)}function My(t,e){const n=Es.fromSchema(e).serializeFragment(t),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(n),o.innerHTML}function bw(t){return typeof t=="function"}function ft(t,e=void 0,...n){return bw(t)?e?t.bind(e)(...n):t(...n):t}function HD(t={}){return Object.keys(t).length===0&&t.constructor===Object}function zl(t){const e=t.filter(o=>o.type==="extension"),n=t.filter(o=>o.type==="node"),r=t.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function vw(t){const e=[],{nodeExtensions:n,markExtensions:r}=zl(t),o=[...n,...r],l={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const u={name:a.name,options:a.options,storage:a.storage,extensions:o},d=De(a,"addGlobalAttributes",u);if(!d)return;d().forEach(p=>{p.types.forEach(g=>{Object.entries(p.attributes).forEach(([b,v])=>{e.push({type:g,name:b,attribute:{...l,...v}})})})})}),o.forEach(a=>{const u={name:a.name,options:a.options,storage:a.storage},d=De(a,"addAttributes",u);if(!d)return;const h=d();Object.entries(h).forEach(([p,g])=>{const b={...l,...g};typeof b?.default=="function"&&(b.default=b.default()),b?.isRequired&&b?.default===void 0&&delete b.default,e.push({type:a.name,name:p,attribute:b})})}),e}function Jt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([o,l])=>{if(!r[o]){r[o]=l;return}if(o==="class"){const u=l?String(l).split(" "):[],d=r[o]?r[o].split(" "):[],h=u.filter(p=>!d.includes(p));r[o]=[...d,...h].join(" ")}else if(o==="style"){const u=l?l.split(";").map(p=>p.trim()).filter(Boolean):[],d=r[o]?r[o].split(";").map(p=>p.trim()).filter(Boolean):[],h=new Map;d.forEach(p=>{const[g,b]=p.split(":").map(v=>v.trim());h.set(g,b)}),u.forEach(p=>{const[g,b]=p.split(":").map(v=>v.trim());h.set(g,b)}),r[o]=Array.from(h.entries()).map(([p,g])=>`${p}: ${g}`).join("; ")}else r[o]=l}),r},{})}function mc(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Jt(n,r),{})}function VD(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function fx(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const o=e.reduce((l,a)=>{const u=a.attribute.parseHTML?a.attribute.parseHTML(n):VD(n.getAttribute(a.name));return u==null?l:{...l,[a.name]:u}},{});return{...r,...o}}}}function dx(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&HD(n)?!1:n!=null))}function hx(t){var e,n;const r={};return!((e=t?.attribute)!=null&&e.isRequired)&&"default"in(t?.attribute||{})&&(r.default=t.attribute.default),((n=t?.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=t.attribute.validate),[t.name,r]}function jD(t,e){var n;const r=vw(t),{nodeExtensions:o,markExtensions:l}=zl(t),a=(n=o.find(h=>De(h,"topNode")))==null?void 0:n.name,u=Object.fromEntries(o.map(h=>{const p=r.filter(w=>w.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:e},b=t.reduce((w,k)=>{const A=De(k,"extendNodeSchema",g);return{...w,...A?A(h):{}}},{}),v=dx({...b,content:ft(De(h,"content",g)),marks:ft(De(h,"marks",g)),group:ft(De(h,"group",g)),inline:ft(De(h,"inline",g)),atom:ft(De(h,"atom",g)),selectable:ft(De(h,"selectable",g)),draggable:ft(De(h,"draggable",g)),code:ft(De(h,"code",g)),whitespace:ft(De(h,"whitespace",g)),linebreakReplacement:ft(De(h,"linebreakReplacement",g)),defining:ft(De(h,"defining",g)),isolating:ft(De(h,"isolating",g)),attrs:Object.fromEntries(p.map(hx))}),S=ft(De(h,"parseHTML",g));S&&(v.parseDOM=S.map(w=>fx(w,p)));const E=De(h,"renderHTML",g);E&&(v.toDOM=w=>E({node:w,HTMLAttributes:mc(w,p)}));const T=De(h,"renderText",g);return T&&(v.toText=T),[h.name,v]})),d=Object.fromEntries(l.map(h=>{const p=r.filter(T=>T.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:e},b=t.reduce((T,w)=>{const k=De(w,"extendMarkSchema",g);return{...T,...k?k(h):{}}},{}),v=dx({...b,inclusive:ft(De(h,"inclusive",g)),excludes:ft(De(h,"excludes",g)),group:ft(De(h,"group",g)),spanning:ft(De(h,"spanning",g)),code:ft(De(h,"code",g)),attrs:Object.fromEntries(p.map(hx))}),S=ft(De(h,"parseHTML",g));S&&(v.parseDOM=S.map(T=>fx(T,p)));const E=De(h,"renderHTML",g);return E&&(v.toDOM=T=>E({mark:T,HTMLAttributes:mc(T,p)})),[h.name,v]}));return new JE({topNode:a,nodes:u,marks:d})}function UD(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function If(t){return t.sort((n,r)=>{const o=De(n,"priority")||100,l=De(r,"priority")||100;return o>l?-1:o<l?1:0})}function Sw(t){const e=If(Cy(t)),n=UD(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function xw(t,e,n){const{from:r,to:o}=e,{blockSeparator:l=`

`,textSerializers:a={}}=n||{};let u="";return t.nodesBetween(r,o,(d,h,p,g)=>{var b;d.isBlock&&h>r&&(u+=l);const v=a?.[d.type.name];if(v)return p&&(u+=v({node:d,pos:h,parent:p,index:g,range:e})),!1;d.isText&&(u+=(b=d?.text)==null?void 0:b.slice(Math.max(r,h)-h,o-h))}),u}function PD(t,e){const n={from:0,to:t.content.size};return xw(t,n,e)}function Ew(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function qD(t,e){const n=Wt(e,t.schema),{from:r,to:o}=t.selection,l=[];t.doc.nodesBetween(r,o,u=>{l.push(u)});const a=l.reverse().find(u=>u.type.name===n.name);return a?{...a.attrs}:{}}function Tw(t,e){const n=Vd(typeof e=="string"?e:e.name,t.schema);return n==="node"?qD(t,e):n==="mark"?gw(t,e):{}}function FD(t,e=JSON.stringify){const n={};return t.filter(r=>{const o=e(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function $D(t){const e=FD(t);return e.length===1?e:e.filter((n,r)=>!e.filter((l,a)=>a!==r).some(l=>n.oldRange.from>=l.oldRange.from&&n.oldRange.to<=l.oldRange.to&&n.newRange.from>=l.newRange.from&&n.newRange.to<=l.newRange.to))}function ww(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((o,l)=>{const a=[];if(o.ranges.length)o.forEach((u,d)=>{a.push({from:u,to:d})});else{const{from:u,to:d}=n[l];if(u===void 0||d===void 0)return;a.push({from:u,to:d})}a.forEach(({from:u,to:d})=>{const h=e.slice(l).map(u,-1),p=e.slice(l).map(d),g=e.invert().map(h,-1),b=e.invert().map(p);r.push({oldRange:{from:g,to:b},newRange:{from:h,to:p}})})}),$D(r)}function ky(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(o=>{const l=n.resolve(t),a=wy(l,o.type);a&&r.push({mark:o,...a})}):n.nodesBetween(t,e,(o,l)=>{!o||o?.nodeSize===void 0||r.push(...o.marks.map(a=>({from:l,to:l+o.nodeSize,mark:a})))}),r}var GD=(t,e,n,r=20)=>{const o=t.doc.resolve(n);let l=r,a=null;for(;l>0&&a===null;){const u=o.node(l);u?.type.name===e?a=u:l-=1}return[a,l]};function Ku(t,e){return e.nodes[t]||e.marks[t]||null}function bf(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=t.find(l=>l.type===e&&l.name===r);return o?o.attribute.keepOnSplit:!1}))}var KD=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(o,l,a,u)=>{var d,h;const p=((h=(d=o.type.spec).toText)==null?void 0:h.call(d,{node:o,pos:l,parent:a,index:u}))||o.textContent||"%leaf%";n+=o.isAtom&&!o.isText?p:p.slice(0,Math.max(0,r-l))}),n};function Mg(t,e,n={}){const{empty:r,ranges:o}=t.selection,l=e?Ai(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(g=>l?l.name===g.type.name:!0).find(g=>Bf(g.attrs,n,{strict:!1}));let a=0;const u=[];if(o.forEach(({$from:g,$to:b})=>{const v=g.pos,S=b.pos;t.doc.nodesBetween(v,S,(E,T)=>{if(!E.isText&&!E.marks.length)return;const w=Math.max(v,T),k=Math.min(S,T+E.nodeSize),A=k-w;a+=A,u.push(...E.marks.map(O=>({mark:O,from:w,to:k})))})}),a===0)return!1;const d=u.filter(g=>l?l.name===g.mark.type.name:!0).filter(g=>Bf(g.mark.attrs,n,{strict:!1})).reduce((g,b)=>g+b.to-b.from,0),h=u.filter(g=>l?g.mark.type!==l&&g.mark.type.excludes(l):!0).reduce((g,b)=>g+b.to-b.from,0);return(d>0?d+h:d)>=a}function YD(t,e,n={}){if(!e)return Mo(t,null,n)||Mg(t,null,n);const r=Vd(e,t.schema);return r==="node"?Mo(t,e,n):r==="mark"?Mg(t,e,n):!1}var XD=(t,e)=>{const{$from:n,$to:r,$anchor:o}=t.selection;if(e){const l=jd(u=>u.type.name===e)(t.selection);if(!l)return!1;const a=t.doc.resolve(l.pos+1);return o.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},WD=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function px(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function mx(t,e){const{nodeExtensions:n}=zl(e),r=n.find(a=>a.name===t);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},l=ft(De(r,"group",o));return typeof l!="string"?!1:l.split(" ").includes("list")}function Ud(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let o=!0;return t.content.forEach(l=>{o!==!1&&(Ud(l,{ignoreWhitespace:n,checkChildren:e})||(o=!1))}),o}return!1}function Cw(t){return t instanceof Be}var Mw=class kw{constructor(e){this.position=e}static fromJSON(e){return new kw(e.position)}toJSON(){return{position:this.position}}};function JD(t,e){const n=e.mapping.mapResult(t.position);return{position:new Mw(n.pos),mapResult:n}}function QD(t){return new Mw(t)}function ZD(t,e,n){var r;const{selection:o}=e;let l=null;if(dw(o)&&(l=o.$cursor),l){const u=(r=t.storedMarks)!=null?r:l.marks();return l.parent.type.allowsMarkType(n)&&(!!n.isInSet(u)||!u.some(h=>h.type.excludes(n)))}const{ranges:a}=o;return a.some(({$from:u,$to:d})=>{let h=u.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(u.pos,d.pos,(p,g,b)=>{if(h)return!1;if(p.isInline){const v=!b||b.type.allowsMarkType(n),S=!!n.isInSet(p.marks)||!p.marks.some(E=>E.type.excludes(n));h=v&&S}return!h}),h})}var ez=(t,e={})=>({tr:n,state:r,dispatch:o})=>{const{selection:l}=n,{empty:a,ranges:u}=l,d=Ai(t,r.schema);if(o)if(a){const h=gw(r,d);n.addStoredMark(d.create({...h,...e}))}else u.forEach(h=>{const p=h.$from.pos,g=h.$to.pos;r.doc.nodesBetween(p,g,(b,v)=>{const S=Math.max(v,p),E=Math.min(v+b.nodeSize,g);b.marks.find(w=>w.type===d)?b.marks.forEach(w=>{d===w.type&&n.addMark(S,E,d.create({...w.attrs,...e}))}):n.addMark(S,E,d.create(e))})});return ZD(r,n,d)},tz=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),nz=(t,e={})=>({state:n,dispatch:r,chain:o})=>{const l=Wt(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),l.isTextblock?o().command(({commands:u})=>AS(l,{...a,...e})(n)?!0:u.clearNodes()).command(({state:u})=>AS(l,{...a,...e})(u,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},rz=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,o=ls(t,0,r.content.size),l=Be.create(r,o);e.setSelection(l)}return!0},iz=(t,e)=>({tr:n,state:r,dispatch:o})=>{const{selection:l}=r;let a,u;return typeof e=="number"?(a=e,u=e):e&&"from"in e&&"to"in e?(a=e.from,u=e.to):(a=l.from,u=l.to),o&&n.doc.nodesBetween(a,u,(d,h)=>{d.isText||n.setNodeMarkup(h,void 0,{...d.attrs,dir:t})}),!0},oz=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:o,to:l}=typeof t=="number"?{from:t,to:t}:t,a=Ve.atStart(r).from,u=Ve.atEnd(r).to,d=ls(o,a,u),h=ls(l,a,u),p=Ve.create(r,d,h);e.setSelection(p)}return!0},sz=t=>({state:e,dispatch:n})=>{const r=Wt(t,e.schema);return ZR(r)(e,n)};function gx(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(o=>e?.includes(o.type.name));t.tr.ensureMarks(r)}}var lz=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:o})=>{const{selection:l,doc:a}=e,{$from:u,$to:d}=l,h=o.extensionManager.attributes,p=bf(h,u.node().type.name,u.node().attrs);if(l instanceof Be&&l.node.isBlock)return!u.parentOffset||!Ti(a,u.pos)?!1:(r&&(t&&gx(n,o.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const g=d.parentOffset===d.parent.content.size,b=u.depth===0?void 0:BD(u.node(-1).contentMatchAt(u.indexAfter(-1)));let v=g&&b?[{type:b,attrs:p}]:void 0,S=Ti(e.doc,e.mapping.map(u.pos),1,v);if(!v&&!S&&Ti(e.doc,e.mapping.map(u.pos),1,b?[{type:b}]:void 0)&&(S=!0,v=b?[{type:b,attrs:p}]:void 0),r){if(S&&(l instanceof Ve&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,v),b&&!g&&!u.parentOffset&&u.parent.type!==b)){const E=e.mapping.map(u.before()),T=e.doc.resolve(E);u.node(-1).canReplaceWith(T.index(),T.index()+1,b)&&e.setNodeMarkup(e.mapping.map(u.before()),b)}t&&gx(n,o.extensionManager.splittableMarks),e.scrollIntoView()}return S},az=(t,e={})=>({tr:n,state:r,dispatch:o,editor:l})=>{var a;const u=Wt(t,r.schema),{$from:d,$to:h}=r.selection,p=r.selection.node;if(p&&p.isBlock||d.depth<2||!d.sameParent(h))return!1;const g=d.node(-1);if(g.type!==u)return!1;const b=l.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==u||d.index(-2)!==d.node(-2).childCount-1)return!1;if(o){let w=le.empty;const k=d.index(-1)?1:d.index(-2)?2:3;for(let I=d.depth-k;I>=d.depth-3;I-=1)w=le.from(d.node(I).copy(w));const A=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,O={...bf(b,d.node().type.name,d.node().attrs),...e},N=((a=u.contentMatch.defaultType)==null?void 0:a.createAndFill(O))||void 0;w=w.append(le.from(u.createAndFill(null,N)||void 0));const H=d.before(d.depth-(k-1));n.replace(H,d.after(-A),new xe(w,4-k,0));let z=-1;n.doc.nodesBetween(H,n.doc.content.size,(I,K)=>{if(z>-1)return!1;I.isTextblock&&I.content.size===0&&(z=K+1)}),z>-1&&n.setSelection(Ve.near(n.doc.resolve(z))),n.scrollIntoView()}return!0}const v=h.pos===d.end()?g.contentMatchAt(0).defaultType:null,S={...bf(b,g.type.name,g.attrs),...e},E={...bf(b,d.node().type.name,d.node().attrs),...e};n.delete(d.pos,h.pos);const T=v?[{type:u,attrs:S},{type:v,attrs:E}]:[{type:u,attrs:S}];if(!Ti(n.doc,d.pos,2))return!1;if(o){const{selection:w,storedMarks:k}=r,{splittableMarks:A}=l.extensionManager,O=k||w.$to.parentOffset&&w.$from.marks();if(n.split(d.pos,2,T).scrollIntoView(),!O||!o)return!0;const N=O.filter(H=>A.includes(H.type.name));n.ensureMarks(N)}return!0},Bm=(t,e)=>{const n=jd(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=t.doc.nodeAt(r);return n.node.type===o?.type&&No(t.doc,n.pos)&&t.join(n.pos),!0},_m=(t,e)=>{const n=jd(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=t.doc.nodeAt(r);return n.node.type===o?.type&&No(t.doc,r)&&t.join(r),!0},cz=(t,e,n,r={})=>({editor:o,tr:l,state:a,dispatch:u,chain:d,commands:h,can:p})=>{const{extensions:g,splittableMarks:b}=o.extensionManager,v=Wt(t,a.schema),S=Wt(e,a.schema),{selection:E,storedMarks:T}=a,{$from:w,$to:k}=E,A=w.blockRange(k),O=T||E.$to.parentOffset&&E.$from.marks();if(!A)return!1;const N=jd(H=>mx(H.type.name,g))(E);if(A.depth>=1&&N&&A.depth-N.depth<=1){if(N.node.type===v)return h.liftListItem(S);if(mx(N.node.type.name,g)&&v.validContent(N.node.content)&&u)return d().command(()=>(l.setNodeMarkup(N.pos,v),!0)).command(()=>Bm(l,v)).command(()=>_m(l,v)).run()}return!n||!O||!u?d().command(()=>p().wrapInList(v,r)?!0:h.clearNodes()).wrapInList(v,r).command(()=>Bm(l,v)).command(()=>_m(l,v)).run():d().command(()=>{const H=p().wrapInList(v,r),z=O.filter(I=>b.includes(I.type.name));return l.ensureMarks(z),H?!0:h.clearNodes()}).wrapInList(v,r).command(()=>Bm(l,v)).command(()=>_m(l,v)).run()},uz=(t,e={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:l=!1}=n,a=Ai(t,r.schema);return Mg(r,a,e)?o.unsetMark(a,{extendEmptyMarkRange:l}):o.setMark(a,e)},fz=(t,e,n={})=>({state:r,commands:o})=>{const l=Wt(t,r.schema),a=Wt(e,r.schema),u=Mo(r,l,n);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),u?o.setNode(a,d):o.setNode(l,{...d,...n})},dz=(t,e={})=>({state:n,commands:r})=>{const o=Wt(t,n.schema);return Mo(n,o,e)?r.lift(o):r.wrapIn(o,e)},hz=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let l;if(o.spec.isInputRules&&(l=o.getState(t))){if(e){const a=t.tr,u=l.transform;for(let d=u.steps.length-1;d>=0;d-=1)a.step(u.steps[d].invert(u.docs[d]));if(l.text){const d=a.doc.resolve(l.from).marks();a.replaceWith(l.from,l.to,t.schema.text(l.text,d))}else a.delete(l.from,l.to)}return!0}}return!1},pz=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:o}=n;return r||e&&o.forEach(l=>{t.removeMark(l.$from.pos,l.$to.pos)}),!0},mz=(t,e={})=>({tr:n,state:r,dispatch:o})=>{var l;const{extendEmptyMarkRange:a=!1}=e,{selection:u}=n,d=Ai(t,r.schema),{$from:h,empty:p,ranges:g}=u;if(!o)return!0;if(p&&a){let{from:b,to:v}=u;const S=(l=h.marks().find(T=>T.type===d))==null?void 0:l.attrs,E=wy(h,d,S);E&&(b=E.from,v=E.to),n.removeMark(b,v,d)}else g.forEach(b=>{n.removeMark(b.$from.pos,b.$to.pos,d)});return n.removeStoredMark(d),!0},gz=t=>({tr:e,state:n,dispatch:r})=>{const{selection:o}=n;let l,a;return typeof t=="number"?(l=t,a=t):t&&"from"in t&&"to"in t?(l=t.from,a=t.to):(l=o.from,a=o.to),r&&e.doc.nodesBetween(l,a,(u,d)=>{if(u.isText)return;const h={...u.attrs};delete h.dir,e.setNodeMarkup(d,void 0,h)}),!0},yz=(t,e={})=>({tr:n,state:r,dispatch:o})=>{let l=null,a=null;const u=Vd(typeof t=="string"?t:t.name,r.schema);if(!u)return!1;u==="node"&&(l=Wt(t,r.schema)),u==="mark"&&(a=Ai(t,r.schema));let d=!1;return n.selection.ranges.forEach(h=>{const p=h.$from.pos,g=h.$to.pos;let b,v,S,E;n.selection.empty?r.doc.nodesBetween(p,g,(T,w)=>{l&&l===T.type&&(d=!0,S=Math.max(w,p),E=Math.min(w+T.nodeSize,g),b=w,v=T)}):r.doc.nodesBetween(p,g,(T,w)=>{w<p&&l&&l===T.type&&(d=!0,S=Math.max(w,p),E=Math.min(w+T.nodeSize,g),b=w,v=T),w>=p&&w<=g&&(l&&l===T.type&&(d=!0,o&&n.setNodeMarkup(w,void 0,{...T.attrs,...e})),a&&T.marks.length&&T.marks.forEach(k=>{if(a===k.type&&(d=!0,o)){const A=Math.max(w,p),O=Math.min(w+T.nodeSize,g);n.addMark(A,O,a.create({...k.attrs,...e}))}}))}),v&&(b!==void 0&&o&&n.setNodeMarkup(b,void 0,{...v.attrs,...e}),a&&v.marks.length&&v.marks.forEach(T=>{a===T.type&&o&&n.addMark(S,E,a.create({...T.attrs,...e}))}))}),d},bz=(t,e={})=>({state:n,dispatch:r})=>{const o=Wt(t,n.schema);return GR(o,e)(n,r)},vz=(t,e={})=>({state:n,dispatch:r})=>{const o=Wt(t,n.schema);return KR(o,e)(n,r)},Sz=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},Pd=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},xz=(t,e)=>{if(Ty(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Yu(t){var e;const{editor:n,from:r,to:o,text:l,rules:a,plugin:u}=t,{view:d}=n;if(d.composing)return!1;const h=d.state.doc.resolve(r);if(h.parent.type.spec.code||(e=h.nodeBefore||h.nodeAfter)!=null&&e.marks.find(b=>b.type.spec.code))return!1;let p=!1;const g=KD(h)+l;return a.forEach(b=>{if(p)return;const v=xz(g,b.find);if(!v)return;const S=d.state.tr,E=Id({state:d.state,transaction:S}),T={from:r-(v[0].length-l.length),to:o},{commands:w,chain:k,can:A}=new Hd({editor:n,state:E});b.handler({state:E,range:T,match:v,commands:w,chain:k,can:A})===null||!S.steps.length||(b.undoable&&S.setMeta(u,{transform:S,from:r,to:o,text:l}),d.dispatch(S),p=!0)}),p}function Ez(t){const{editor:e,rules:n}=t,r=new At({state:{init(){return null},apply(o,l,a){const u=o.getMeta(r);if(u)return u;const d=o.getMeta("applyInputRules");return d&&setTimeout(()=>{let{text:p}=d;typeof p=="string"?p=p:p=My(le.from(p),a.schema);const{from:g}=d,b=g+p.length;Yu({editor:e,from:g,to:b,text:p,rules:n,plugin:r})}),o.selectionSet||o.docChanged?null:l}},props:{handleTextInput(o,l,a,u){return Yu({editor:e,from:l,to:a,text:u,rules:n,plugin:r})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:l}=o.state.selection;l&&Yu({editor:e,from:l.pos,to:l.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(o,l){if(l.key!=="Enter")return!1;const{$cursor:a}=o.state.selection;return a?Yu({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function Tz(t){return Object.prototype.toString.call(t).slice(8,-1)}function Xu(t){return Tz(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Aw(t,e){const n={...t};return Xu(t)&&Xu(e)&&Object.keys(e).forEach(r=>{Xu(e[r])&&Xu(t[r])?n[r]=Aw(t[r],e[r]):n[r]=e[r]}),n}var Ay=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...ft(De(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...ft(De(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>Aw(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Ts=class Ow extends Ay{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new Ow(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,o=e.state.selection.$from;if(o.pos===o.end()){const a=o.marks();if(!!!a.find(h=>h?.type.name===n.name))return!1;const d=a.find(h=>h?.type.name===n.name);return d&&r.removeStoredMark(d),r.insertText(" ",o.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function wz(t){return typeof t=="number"}var Cz=class{constructor(t){this.find=t.find,this.handler=t.handler}},Mz=(t,e,n)=>{if(Ty(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(o=>{const l=[o.text];return l.index=o.index,l.input=t,l.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),l.push(o.replaceWith)),l}):[]};function kz(t){const{editor:e,state:n,from:r,to:o,rule:l,pasteEvent:a,dropEvent:u}=t,{commands:d,chain:h,can:p}=new Hd({editor:e,state:n}),g=[];return n.doc.nodesBetween(r,o,(v,S)=>{var E,T,w,k,A;if((T=(E=v.type)==null?void 0:E.spec)!=null&&T.code||!(v.isText||v.isTextblock||v.isInline))return;const O=(A=(k=(w=v.content)==null?void 0:w.size)!=null?k:v.nodeSize)!=null?A:0,N=Math.max(r,S),H=Math.min(o,S+O);if(N>=H)return;const z=v.isText?v.text||"":v.textBetween(N-S,H-S,void 0,"");Mz(z,l.find,a).forEach(K=>{if(K.index===void 0)return;const se=N+K.index+1,ce=se+K[0].length,ue={from:n.tr.mapping.map(se),to:n.tr.mapping.map(ce)},me=l.handler({state:n,range:ue,match:K,commands:d,chain:h,can:p,pasteEvent:a,dropEvent:u});g.push(me)})}),g.every(v=>v!==null)}var Wu=null,Az=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function Oz(t){const{editor:e,rules:n}=t;let r=null,o=!1,l=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const d=({state:p,from:g,to:b,rule:v,pasteEvt:S})=>{const E=p.tr,T=Id({state:p,transaction:E});if(!(!kz({editor:e,state:T,from:Math.max(g-1,0),to:b.b-1,rule:v,pasteEvent:S,dropEvent:u})||!E.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,E}};return n.map(p=>new At({view(g){const b=S=>{var E;r=(E=g.dom.parentElement)!=null&&E.contains(S.target)?g.dom.parentElement:null,r&&(Wu=e)},v=()=>{Wu&&(Wu=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(g,b)=>{if(l=r===g.dom.parentElement,u=b,!l){const v=Wu;v?.isEditable&&setTimeout(()=>{const S=v.state.selection;S&&v.commands.deleteRange({from:S.from,to:S.to})},10)}return!1},paste:(g,b)=>{var v;const S=(v=b.clipboardData)==null?void 0:v.getData("text/html");return a=b,o=!!S?.includes("data-pm-slice"),!1}}},appendTransaction:(g,b,v)=>{const S=g[0],E=S.getMeta("uiEvent")==="paste"&&!o,T=S.getMeta("uiEvent")==="drop"&&!l,w=S.getMeta("applyPasteRules"),k=!!w;if(!E&&!T&&!k)return;if(k){let{text:N}=w;typeof N=="string"?N=N:N=My(le.from(N),v.schema);const{from:H}=w,z=H+N.length,I=Az(N);return d({rule:p,state:v,from:H,to:{b:z},pasteEvt:I})}const A=b.doc.content.findDiffStart(v.doc.content),O=b.doc.content.findDiffEnd(v.doc.content);if(!(!wz(A)||!O||A===O.b))return d({rule:p,state:v,from:A,to:O,pasteEvt:a})}}))}var qd=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=Sw(t),this.schema=jD(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Ku(e.name,this.schema)},r=De(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return If([...this.extensions].reverse()).flatMap(r=>{const o={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:Ku(r.name,this.schema)},l=[],a=De(r,"addKeyboardShortcuts",o);let u={};if(r.type==="mark"&&De(r,"exitable",o)&&(u.ArrowRight=()=>Ts.handleExit({editor:t,mark:r})),a){const b=Object.fromEntries(Object.entries(a()).map(([v,S])=>[v,()=>S({editor:t})]));u={...u,...b}}const d=q2(u);l.push(d);const h=De(r,"addInputRules",o);if(px(r,t.options.enableInputRules)&&h){const b=h();if(b&&b.length){const v=Ez({editor:t,rules:b}),S=Array.isArray(v)?v:[v];l.push(...S)}}const p=De(r,"addPasteRules",o);if(px(r,t.options.enablePasteRules)&&p){const b=p();if(b&&b.length){const v=Oz({editor:t,rules:b});l.push(...v)}}const g=De(r,"addProseMirrorPlugins",o);if(g){const b=g();l.push(...b)}return l})}get attributes(){return vw(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=zl(this.extensions);return Object.fromEntries(e.filter(n=>!!De(n,"addNodeView")).map(n=>{const r=this.attributes.filter(d=>d.type===n.name),o={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Wt(n.name,this.schema)},l=De(n,"addNodeView",o);if(!l)return[];const a=l();if(!a)return[];const u=(d,h,p,g,b)=>{const v=mc(d,r);return a({node:d,view:h,getPos:p,decorations:g,innerDecorations:b,editor:t,extension:n,HTMLAttributes:v})};return[n.name,u]}))}dispatchTransaction(t){const{editor:e}=this;return If([...this.extensions].reverse()).reduceRight((r,o)=>{const l={name:o.name,options:o.options,storage:this.editor.extensionStorage[o.name],editor:e,type:Ku(o.name,this.schema)},a=De(o,"dispatchTransaction",l);return a?u=>{a.call(l,{transaction:u,next:r})}:r},t)}get markViews(){const{editor:t}=this,{markExtensions:e}=zl(this.extensions);return Object.fromEntries(e.filter(n=>!!De(n,"addMarkView")).map(n=>{const r=this.attributes.filter(u=>u.type===n.name),o={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Ai(n.name,this.schema)},l=De(n,"addMarkView",o);if(!l)return[];const a=(u,d,h)=>{const p=mc(u,r);return l()({mark:u,view:d,inline:h,editor:t,extension:n,HTMLAttributes:p,updateAttributes:g=>{qz(u,t,g)}})};return[n.name,a]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Ku(e.name,this.schema)};e.type==="mark"&&((n=ft(De(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const o=De(e,"onBeforeCreate",r),l=De(e,"onCreate",r),a=De(e,"onUpdate",r),u=De(e,"onSelectionUpdate",r),d=De(e,"onTransaction",r),h=De(e,"onFocus",r),p=De(e,"onBlur",r),g=De(e,"onDestroy",r);o&&this.editor.on("beforeCreate",o),l&&this.editor.on("create",l),a&&this.editor.on("update",a),u&&this.editor.on("selectionUpdate",u),d&&this.editor.on("transaction",d),h&&this.editor.on("focus",h),p&&this.editor.on("blur",p),g&&this.editor.on("destroy",g)})}};qd.resolve=Sw;qd.sort=If;qd.flatten=Cy;var Rz={};Ey(Rz,{ClipboardTextSerializer:()=>Nw,Commands:()=>Dw,Delete:()=>zw,Drop:()=>Lw,Editable:()=>Bw,FocusEvents:()=>Iw,Keymap:()=>Hw,Paste:()=>Vw,Tabindex:()=>jw,TextDirection:()=>Uw,focusEventsPluginKey:()=>_w});var Vt=class Rw extends Ay{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new Rw(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},Nw=Vt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new At({key:new nn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:o}=e,{ranges:l}=o,a=Math.min(...l.map(p=>p.$from.pos)),u=Math.max(...l.map(p=>p.$to.pos)),d=Ew(n);return xw(r,{from:a,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),Dw=Vt.create({name:"commands",addCommands(){return{...uw}}}),zw=Vt.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,o;const l=()=>{var a,u,d,h;if((h=(d=(u=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:u.filterTransaction)==null?void 0:d.call(u,t))!=null?h:t.getMeta("y-sync$"))return;const p=yw(t.before,[t,...e]);ww(p).forEach(v=>{p.mapping.mapResult(v.oldRange.from).deletedAfter&&p.mapping.mapResult(v.oldRange.to).deletedBefore&&p.before.nodesBetween(v.oldRange.from,v.oldRange.to,(S,E)=>{const T=E+S.nodeSize-2,w=v.oldRange.from<=E&&T<=v.oldRange.to;this.editor.emit("delete",{type:"node",node:S,from:E,to:T,newFrom:p.mapping.map(E),newTo:p.mapping.map(T),deletedRange:v.oldRange,newRange:v.newRange,partial:!w,editor:this.editor,transaction:t,combinedTransform:p})})});const b=p.mapping;p.steps.forEach((v,S)=>{var E,T;if(v instanceof Lr){const w=b.slice(S).map(v.from,-1),k=b.slice(S).map(v.to),A=b.invert().map(w,-1),O=b.invert().map(k),N=(E=p.doc.nodeAt(w-1))==null?void 0:E.marks.some(z=>z.eq(v.mark)),H=(T=p.doc.nodeAt(k))==null?void 0:T.marks.some(z=>z.eq(v.mark));this.editor.emit("delete",{type:"mark",mark:v.mark,from:v.from,to:v.to,deletedRange:{from:A,to:O},newRange:{from:w,to:k},partial:!!(H||N),editor:this.editor,transaction:t,combinedTransform:p})}})};(o=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||o?setTimeout(l,0):l()}}),Lw=Vt.create({name:"drop",addProseMirrorPlugins(){return[new At({key:new nn("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),Bw=Vt.create({name:"editable",addProseMirrorPlugins(){return[new At({key:new nn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),_w=new nn("focusEvents"),Iw=Vt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new At({key:_w,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),Hw=Vt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:u})=>{const{selection:d,doc:h}=u,{empty:p,$anchor:g}=d,{pos:b,parent:v}=g,S=g.parent.isTextblock&&b>0?u.doc.resolve(b-1):g,E=S.parent.type.spec.isolating,T=g.pos-g.parentOffset,w=E&&S.parent.childCount===1?T===g.pos:Ye.atStart(h).from===b;return!p||!v.type.isTextblock||v.textContent.length||!w||w&&g.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},l={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return _f()||mw()?l:o},addProseMirrorPlugins(){return[new At({key:new nn("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(E=>E.getMeta("composition")))return;const r=t.some(E=>E.docChanged)&&!e.doc.eq(n.doc),o=t.some(E=>E.getMeta("preventClearDocument"));if(!r||o)return;const{empty:l,from:a,to:u}=e.selection,d=Ye.atStart(e.doc).from,h=Ye.atEnd(e.doc).to;if(l||!(a===d&&u===h)||!Ud(n.doc))return;const b=n.tr,v=Id({state:n,transaction:b}),{commands:S}=new Hd({editor:this.editor,state:v});if(S.clearNodes(),!!b.steps.length)return b}})]}}),Vw=Vt.create({name:"paste",addProseMirrorPlugins(){return[new At({key:new nn("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),jw=Vt.create({name:"tabindex",addProseMirrorPlugins(){return[new At({key:new nn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Uw=Vt.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=zl(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new At({key:new nn("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),Nz=class ml{constructor(e,n,r=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=o}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new ml(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new ml(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new ml(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const o=n.isBlock&&!n.isTextblock,l=n.isAtom&&!n.isText,a=this.pos+r+(l?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const u=this.resolvedPos.doc.resolve(a);if(!o&&u.depth<=this.depth)return;const d=new ml(u,this.editor,o,o?n:null);o&&(d.actualDepth=this.depth+1),e.push(new ml(u,this.editor,o,o?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,o=this.parent;for(;o&&!r;){if(o.node.type.name===e)if(Object.keys(n).length>0){const l=o.node.attrs,a=Object.keys(n);for(let u=0;u<a.length;u+=1){const d=a[u];if(l[d]!==n[d])break}}else r=o;o=o.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let o=[];if(!this.children||this.children.length===0)return o;const l=Object.keys(n);return this.children.forEach(a=>{r&&o.length>0||(a.node.type.name===e&&l.every(d=>n[d]===a.node.attrs[d])&&o.push(a),!(r&&o.length>0)&&(o=o.concat(a.querySelectorAll(e,n,r))))}),o}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},Dz=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function zz(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const o=document.createElement("style");return e&&o.setAttribute("nonce",e),o.setAttribute("data-tiptap-style",""),o.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(o),o}var Lz=class extends Sz{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:JD,createMappablePosition:QD},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:o,moved:l})=>this.options.onDrop(r,o,l)),this.on("paste",({event:r,slice:o})=>this.options.onPaste(r,o)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=hw(e,this.options.autofocus);this.editorState=bl.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=zz(Dz,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=bw(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(o=>{const l=typeof o=="string"?`${o}$`:o.key;n=n.filter(a=>!a.key.startsWith(l))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[Bw,Nw.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),Dw,Iw,Hw,jw,Lw,Vw,zw,Uw.configure({direction:this.options.textDirection})].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o?.type));this.extensionManager=new qd(r,this)}createCommandManager(){this.commandManager=new Hd({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=Cg(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=Cg(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){const{editorProps:e,enableExtensionDispatchTransaction:n}=this.options,r=e.dispatchTransaction||this.dispatchTransaction.bind(this),o=n?this.extensionManager.dispatchTransaction(r):r;this.editorView=new aw(t,{...e,attributes:{role:"textbox",...e?.attributes},dispatchTransaction:o,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const l=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(l),this.prependClass(),this.injectCSS();const a=this.view.dom;a.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(h=>{var p;return(p=this.capturedTransaction)==null?void 0:p.step(h)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),o=n.includes(t),l=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!o)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const a=n.findLast(h=>h.getMeta("focus")||h.getMeta("blur")),u=a?.getMeta("focus"),d=a?.getMeta("blur");u&&this.emit("focus",{editor:this,event:u.event,transaction:a}),d&&this.emit("blur",{editor:this,event:d.event,transaction:a}),!(t.getMeta("preventUpdate")||!n.some(h=>h.docChanged)||l.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return Tw(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return YD(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return My(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return PD(this.state.doc,{blockSeparator:e,textSerializers:{...Ew(this.schema),...n}})}get isEmpty(){return Ud(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new Nz(e,this)}get $doc(){return this.$pos(0)}};function Ll(t){return new Pd({find:t.find,handler:({state:e,range:n,match:r})=>{const o=ft(t.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:l}=e,a=r[r.length-1],u=r[0];if(a){const d=u.search(/\S/),h=n.from+u.indexOf(a),p=h+a.length;if(ky(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(E=>E===t.type&&E!==v.mark.type)).filter(v=>v.to>h).length)return null;p<n.to&&l.delete(p,n.to),h>n.from&&l.delete(n.from+d,h);const b=n.from+d+a.length;l.addMark(n.from+d,b,t.type.create(o||{})),l.removeStoredMark(t.type)}},undoable:t.undoable})}function Bz(t){return new Pd({find:t.find,handler:({state:e,range:n,match:r})=>{const o=ft(t.getAttributes,void 0,r)||{},{tr:l}=e,a=n.from;let u=n.to;const d=t.type.create(o);if(r[1]){const h=r[0].lastIndexOf(r[1]);let p=a+h;p>u?p=u:u=p+r[1].length;const g=r[0][r[0].length-1];l.insertText(g,a+r[0].length-1),l.replaceWith(p,u,d)}else if(r[0]){const h=t.type.isInline?a:a-1;l.insert(h,t.type.create(o)).delete(l.mapping.map(a),l.mapping.map(u))}l.scrollIntoView()},undoable:t.undoable})}function kg(t){return new Pd({find:t.find,handler:({state:e,range:n,match:r})=>{const o=e.doc.resolve(n.from),l=ft(t.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,l)},undoable:t.undoable})}function Bl(t){return new Pd({find:t.find,handler:({state:e,range:n,match:r,chain:o})=>{const l=ft(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),d=a.doc.resolve(n.from).blockRange(),h=d&&sy(d,t.type,l);if(!h)return null;if(a.wrap(d,h),t.keepMarks&&t.editor){const{selection:g,storedMarks:b}=e,{splittableMarks:v}=t.editor.extensionManager,S=b||g.$to.parentOffset&&g.$from.marks();if(S){const E=S.filter(T=>v.includes(T.type.name));a.ensureMarks(E)}}if(t.keepAttributes){const g=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(g,l).run()}const p=a.doc.resolve(n.from-1).nodeBefore;p&&p.type===t.type&&No(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,p))&&a.join(n.from-1)},undoable:t.undoable})}function _z(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof Be){const l=r.index();return r.parent.canReplaceWith(l,l+1,e)}let o=r.depth;for(;o>=0;){const l=r.index(o);if(r.node(o).contentMatchAt(l).matchType(e))return!0;o-=1}return!1}var Iz={};Ey(Iz,{createAtomBlockMarkdownSpec:()=>Hz,createBlockMarkdownSpec:()=>Vz,createInlineMarkdownSpec:()=>Pz,parseAttributes:()=>Oy,parseIndentedBlocks:()=>Ag,renderNestedMarkdownContent:()=>Ny,serializeAttributes:()=>Ry});function Oy(t){if(!t?.trim())return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,h=>(n.push(h),`__QUOTED_${n.length-1}__`)),o=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const h=o.map(p=>p.trim().slice(1));e.class=h.join(" ")}const l=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);l&&(e.id=l[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,h,p])=>{var g;const b=parseInt(((g=p.match(/__QUOTED_(\d+)__/))==null?void 0:g[1])||"0",10),v=n[b];v&&(e[h]=v.slice(1,-1))});const d=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return d&&d.split(/\s+/).filter(Boolean).forEach(p=>{p.match(/^[a-zA-Z][\w-]*$/)&&(e[p]=!0)}),e}function Ry(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function Hz(t){const{nodeName:e,name:n,parseAttributes:r=Oy,serializeAttributes:o=Ry,defaultAttributes:l={},requiredAttributes:a=[],allowedAttributes:u}=t,d=n||e,h=p=>{if(!u)return p;const g={};return u.forEach(b=>{b in p&&(g[b]=p[b])}),g};return{parseMarkdown:(p,g)=>{const b={...l,...p.attributes};return g.createNode(e,b,[])},markdownTokenizer:{name:e,level:"block",start(p){var g;const b=new RegExp(`^:::${d}(?:\\s|$)`,"m"),v=(g=p.match(b))==null?void 0:g.index;return v!==void 0?v:-1},tokenize(p,g,b){const v=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),S=p.match(v);if(!S)return;const E=S[1]||"",T=r(E);if(!a.find(k=>!(k in T)))return{type:e,raw:S[0],attributes:T}}},renderMarkdown:p=>{const g=h(p.attrs||{}),b=o(g),v=b?` {${b}}`:"";return`:::${d}${v} :::`}}}function Vz(t){const{nodeName:e,name:n,getContent:r,parseAttributes:o=Oy,serializeAttributes:l=Ry,defaultAttributes:a={},content:u="block",allowedAttributes:d}=t,h=n||e,p=g=>{if(!d)return g;const b={};return d.forEach(v=>{v in g&&(b[v]=g[v])}),b};return{parseMarkdown:(g,b)=>{let v;if(r){const E=r(g);v=typeof E=="string"?[{type:"text",text:E}]:E}else u==="block"?v=b.parseChildren(g.tokens||[]):v=b.parseInline(g.tokens||[]);const S={...a,...g.attributes};return b.createNode(e,S,v)},markdownTokenizer:{name:e,level:"block",start(g){var b;const v=new RegExp(`^:::${h}`,"m"),S=(b=g.match(v))==null?void 0:b.index;return S!==void 0?S:-1},tokenize(g,b,v){var S;const E=new RegExp(`^:::${h}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),T=g.match(E);if(!T)return;const[w,k=""]=T,A=o(k);let O=1;const N=w.length;let H="";const z=/^:::([\w-]*)(\s.*)?/gm,I=g.slice(N);for(z.lastIndex=0;;){const K=z.exec(I);if(K===null)break;const se=K.index,ce=K[1];if(!((S=K[2])!=null&&S.endsWith(":::"))){if(ce)O+=1;else if(O-=1,O===0){const ue=I.slice(0,se);H=ue.trim();const me=g.slice(0,N+se+K[0].length);let ee=[];if(H)if(u==="block")for(ee=v.blockTokens(ue),ee.forEach(G=>{G.text&&(!G.tokens||G.tokens.length===0)&&(G.tokens=v.inlineTokens(G.text))});ee.length>0;){const G=ee[ee.length-1];if(G.type==="paragraph"&&(!G.text||G.text.trim()===""))ee.pop();else break}else ee=v.inlineTokens(H);return{type:e,raw:me,attributes:A,content:H,tokens:ee}}}}}},renderMarkdown:(g,b)=>{const v=p(g.attrs||{}),S=l(v),E=S?` {${S}}`:"",T=b.renderChildren(g.content||[],`

`);return`:::${h}${E}

${T}

:::`}}}function jz(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,o,l,a]=r;e[o]=l||a,r=n.exec(t)}return e}function Uz(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function Pz(t){const{nodeName:e,name:n,getContent:r,parseAttributes:o=jz,serializeAttributes:l=Uz,defaultAttributes:a={},selfClosing:u=!1,allowedAttributes:d}=t,h=n||e,p=b=>{if(!d)return b;const v={};return d.forEach(S=>{const E=typeof S=="string"?S:S.name,T=typeof S=="string"?void 0:S.skipIfDefault;if(E in b){const w=b[E];if(T!==void 0&&w===T)return;v[E]=w}}),v},g=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(b,v)=>{const S={...a,...b.attributes};if(u)return v.createNode(e,S);const E=r?r(b):b.content||"";return E?v.createNode(e,S,[v.createTextNode(E)]):v.createNode(e,S,[])},markdownTokenizer:{name:e,level:"inline",start(b){const v=u?new RegExp(`\\[${g}\\s*[^\\]]*\\]`):new RegExp(`\\[${g}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${g}\\]`),S=b.match(v),E=S?.index;return E!==void 0?E:-1},tokenize(b,v,S){const E=u?new RegExp(`^\\[${g}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${g}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${g}\\]`),T=b.match(E);if(!T)return;let w="",k="";if(u){const[,O]=T;k=O}else{const[,O,N]=T;k=O,w=N||""}const A=o(k.trim());return{type:e,raw:T[0],content:w.trim(),attributes:A}}},renderMarkdown:b=>{let v="";r?v=r(b):b.content&&b.content.length>0&&(v=b.content.filter(w=>w.type==="text").map(w=>w.text).join(""));const S=p(b.attrs||{}),E=l(S),T=E?` ${E}`:"";return u?`[${h}${T}]`:`[${h}${T}]${v}[/${h}]`}}}function Ag(t,e,n){var r,o,l,a;const u=t.split(`
`),d=[];let h="",p=0;const g=e.baseIndentSize||2;for(;p<u.length;){const b=u[p],v=b.match(e.itemPattern);if(!v){if(d.length>0)break;if(b.trim()===""){p+=1,h=`${h}${b}
`;continue}else return}const S=e.extractItemData(v),{indentLevel:E,mainContent:T}=S;h=`${h}${b}
`;const w=[T];for(p+=1;p<u.length;){const N=u[p];if(N.trim()===""){const z=u.slice(p+1).findIndex(se=>se.trim()!=="");if(z===-1)break;if((((o=(r=u[p+1+z].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:o.length)||0)>E){w.push(N),h=`${h}${N}
`,p+=1;continue}else break}if((((a=(l=N.match(/^(\s*)/))==null?void 0:l[1])==null?void 0:a.length)||0)>E)w.push(N),h=`${h}${N}
`,p+=1;else break}let k;const A=w.slice(1);if(A.length>0){const N=A.map(H=>H.slice(E+g)).join(`
`);N.trim()&&(e.customNestedParser?k=e.customNestedParser(N):k=n.blockTokens(N))}const O=e.createToken(S,k);d.push(O)}if(d.length!==0)return{items:d,raw:h}}function Ny(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const o=typeof n=="function"?n(r):n,[l,...a]=t.content,u=e.renderChildren([l]),d=[`${o}${u}`];return a&&a.length>0&&a.forEach(h=>{const p=e.renderChildren([h]);if(p){const g=p.split(`
`).map(b=>b?e.indent(b):"").join(`
`);d.push(g)}}),d.join(`
`)}function qz(t,e,n={}){const{state:r}=e,{doc:o,tr:l}=r,a=t;o.descendants((u,d)=>{const h=l.mapping.map(d),p=l.mapping.map(d)+u.nodeSize;let g=null;if(u.marks.forEach(v=>{if(v!==a)return!1;g=v}),!g)return;let b=!1;if(Object.keys(n).forEach(v=>{n[v]!==g.attrs[v]&&(b=!0)}),b){const v=t.type.create({...t.attrs,...n});l.removeMark(h,p,t.type),l.addMark(h,p,v)}}),l.docChanged&&e.view.dispatch(l)}var cr=class Pw extends Ay{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new Pw(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function vs(t){return new Cz({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:o})=>{const l=ft(t.getAttributes,void 0,r,o);if(l===!1||l===null)return null;const{tr:a}=e,u=r[r.length-1],d=r[0];let h=n.to;if(u){const p=d.search(/\S/),g=n.from+d.indexOf(u),b=g+u.length;if(ky(n.from,n.to,e.doc).filter(S=>S.mark.type.excluded.find(T=>T===t.type&&T!==S.mark.type)).filter(S=>S.to>g).length)return null;b<n.to&&a.delete(b,n.to),g>n.from&&a.delete(n.from+p,g),h=n.from+p+u.length,a.addMark(n.from+p,h,t.type.create(l||{})),a.removeStoredMark(t.type)}}})}var Hf=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},Fz=/^\s*>\s$/,$z=cr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Hf("blockquote",{...Jt(this.options.HTMLAttributes,t),children:Hf("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(o=>{const u=e.renderChildren([o]).split(`
`).map(d=>d.trim()===""?n:`${n} ${d}`);r.push(u.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Bl({find:Fz,type:this.type})]}}),Gz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Kz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Yz=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Xz=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Wz=Ts.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Hf("strong",{...Jt(this.options.HTMLAttributes,t),children:Hf("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ll({find:Gz,type:this.type}),Ll({find:Yz,type:this.type})]},addPasteRules(){return[vs({find:Kz,type:this.type}),vs({find:Xz,type:this.type})]}}),Jz=/(^|[^`])`([^`]+)`(?!`)$/,Qz=/(^|[^`])`([^`]+)`(?!`)/g,Zz=Ts.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Jt(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ll({find:Jz,type:this.type})]},addPasteRules(){return[vs({find:Qz,type:this.type})]}}),Im=4,eL=/^```([a-z]+)?[\s\n]$/,tL=/^~~~([a-z]+)?[\s\n]$/,nL=cr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Im,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const l=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return l||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Jt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const o=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${o}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${o}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Im,{state:r}=t,{selection:o}=r,{$from:l,empty:a}=o;if(l.parent.type!==this.type)return!1;const u=" ".repeat(n);return a?t.commands.insertContent(u):t.commands.command(({tr:d})=>{const{from:h,to:p}=o,v=r.doc.textBetween(h,p,`
`,`
`).split(`
`).map(S=>u+S).join(`
`);return d.replaceWith(h,p,r.schema.text(v)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Im,{state:r}=t,{selection:o}=r,{$from:l,empty:a}=o;return l.parent.type!==this.type?!1:a?t.commands.command(({tr:u})=>{var d;const{pos:h}=l,p=l.start(),g=l.end(),v=r.doc.textBetween(p,g,`
`,`
`).split(`
`);let S=0,E=0;const T=h-p;for(let H=0;H<v.length;H+=1){if(E+v[H].length>=T){S=H;break}E+=v[H].length+1}const k=((d=v[S].match(/^ */))==null?void 0:d[0])||"",A=Math.min(k.length,n);if(A===0)return!0;let O=p;for(let H=0;H<S;H+=1)O+=v[H].length+1;return u.delete(O,O+A),h-O<=A&&u.setSelection(Ve.create(u.doc,O)),!0}):t.commands.command(({tr:u})=>{const{from:d,to:h}=o,b=r.doc.textBetween(d,h,`
`,`
`).split(`
`).map(v=>{var S;const E=((S=v.match(/^ */))==null?void 0:S[0])||"",T=Math.min(E.length,n);return v.slice(T)}).join(`
`);return u.replaceWith(d,h,r.schema.text(b)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type)return!1;const l=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!l||!a?!1:t.chain().command(({tr:u})=>(u.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:o,empty:l}=n;if(!l||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const u=o.after();return u===void 0?!1:r.nodeAt(u)?t.commands.command(({tr:h})=>(h.setSelection(Ye.near(r.resolve(u))),!0)):t.commands.exitCode()}}},addInputRules(){return[kg({find:eL,type:this.type,getAttributes:t=>({language:t[1]})}),kg({find:tL,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new At({key:new nn("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,l=o?.mode;if(!n||!l)return!1;const{tr:a,schema:u}=t.state,d=u.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:l},d)),a.selection.$from.parent.type!==this.type&&a.setSelection(Ve.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),rL=cr.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),iL=cr.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Jt(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:o,storedMarks:l}=n;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:u}=r.extensionManager,d=l||o.$to.parentOffset&&o.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:p})=>{if(p&&d&&a){const g=d.filter(b=>u.includes(b.type.name));h.ensureMarks(g)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),oL=cr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Jt(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,o="#".repeat(r);return t.content?`${o} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>kg({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),sL=cr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Jt(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!_z(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,o=t();return Cw(n)?o.insertContentAt(r.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({state:l,tr:a,dispatch:u})=>{if(u){const{$to:d}=a.selection,h=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?a.setSelection(Ve.create(a.doc,d.pos+1)):d.nodeAfter.isBlock?a.setSelection(Be.create(a.doc,d.pos)):a.setSelection(Ve.create(a.doc,d.pos));else{const p=l.schema.nodes[this.options.nextNodeType]||d.parent.type.contentMatch.defaultType,g=p?.create();g&&(a.insert(h,g),a.setSelection(Ve.create(a.doc,h+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Bz({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),lL=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,aL=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,cL=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,uL=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,fL=Ts.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Jt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ll({find:lL,type:this.type}),Ll({find:cL,type:this.type})]},addPasteRules(){return[vs({find:aL,type:this.type}),vs({find:uL,type:this.type})]}});const dL="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",hL="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Og="numeric",Rg="ascii",Ng="alpha",Qa="asciinumeric",$a="alphanumeric",Dg="domain",qw="emoji",pL="scheme",mL="slashscheme",Hm="whitespace";function gL(t,e){return t in e||(e[t]=[]),e[t]}function as(t,e,n){e[Og]&&(e[Qa]=!0,e[$a]=!0),e[Rg]&&(e[Qa]=!0,e[Ng]=!0),e[Qa]&&(e[$a]=!0),e[Ng]&&(e[$a]=!0),e[$a]&&(e[Dg]=!0),e[qw]&&(e[Dg]=!0);for(const r in e){const o=gL(r,n);o.indexOf(t)<0&&o.push(t)}}function yL(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Gn(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Gn.groups={};Gn.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const o=e.jr[r][0],l=e.jr[r][1];if(l&&o.test(t))return l}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let o=0;o<t.length;o++)this.tt(t[o],e,n,r)},tr(t,e,n,r){r=r||Gn.groups;let o;return e&&e.j?o=e:(o=new Gn(e),n&&r&&as(e,n,r)),this.jr.push([t,o]),o},ts(t,e,n,r){let o=this;const l=t.length;if(!l)return o;for(let a=0;a<l-1;a++)o=o.tt(t[a]);return o.tt(t[l-1],e,n,r)},tt(t,e,n,r){r=r||Gn.groups;const o=this;if(e&&e.j)return o.j[t]=e,e;const l=e;let a,u=o.go(t);if(u?(a=new Gn,Object.assign(a.j,u.j),a.jr.push.apply(a.jr,u.jr),a.jd=u.jd,a.t=u.t):a=new Gn,l){if(r)if(a.t&&typeof a.t=="string"){const d=Object.assign(yL(a.t,r),n);as(l,d,r)}else n&&as(l,n,r);a.t=l}return o.j[t]=a,a}};const Ke=(t,e,n,r,o)=>t.ta(e,n,r,o),_t=(t,e,n,r,o)=>t.tr(e,n,r,o),yx=(t,e,n,r,o)=>t.ts(e,n,r,o),de=(t,e,n,r,o)=>t.tt(e,n,r,o),Si="WORD",zg="UWORD",Fw="ASCIINUMERICAL",$w="ALPHANUMERICAL",gc="LOCALHOST",Lg="TLD",Bg="UTLD",vf="SCHEME",gl="SLASH_SCHEME",Dy="NUM",_g="WS",zy="NL",Za="OPENBRACE",ec="CLOSEBRACE",Vf="OPENBRACKET",jf="CLOSEBRACKET",Uf="OPENPAREN",Pf="CLOSEPAREN",qf="OPENANGLEBRACKET",Ff="CLOSEANGLEBRACKET",$f="FULLWIDTHLEFTPAREN",Gf="FULLWIDTHRIGHTPAREN",Kf="LEFTCORNERBRACKET",Yf="RIGHTCORNERBRACKET",Xf="LEFTWHITECORNERBRACKET",Wf="RIGHTWHITECORNERBRACKET",Jf="FULLWIDTHLESSTHAN",Qf="FULLWIDTHGREATERTHAN",Zf="AMPERSAND",ed="APOSTROPHE",td="ASTERISK",oo="AT",nd="BACKSLASH",rd="BACKTICK",id="CARET",ao="COLON",Ly="COMMA",od="DOLLAR",Vr="DOT",sd="EQUALS",By="EXCLAMATION",Er="HYPHEN",tc="PERCENT",ld="PIPE",ad="PLUS",cd="POUND",nc="QUERY",_y="QUOTE",Gw="FULLWIDTHMIDDLEDOT",Iy="SEMI",jr="SLASH",rc="TILDE",ud="UNDERSCORE",Kw="EMOJI",fd="SYM";var Yw=Object.freeze({__proto__:null,ALPHANUMERICAL:$w,AMPERSAND:Zf,APOSTROPHE:ed,ASCIINUMERICAL:Fw,ASTERISK:td,AT:oo,BACKSLASH:nd,BACKTICK:rd,CARET:id,CLOSEANGLEBRACKET:Ff,CLOSEBRACE:ec,CLOSEBRACKET:jf,CLOSEPAREN:Pf,COLON:ao,COMMA:Ly,DOLLAR:od,DOT:Vr,EMOJI:Kw,EQUALS:sd,EXCLAMATION:By,FULLWIDTHGREATERTHAN:Qf,FULLWIDTHLEFTPAREN:$f,FULLWIDTHLESSTHAN:Jf,FULLWIDTHMIDDLEDOT:Gw,FULLWIDTHRIGHTPAREN:Gf,HYPHEN:Er,LEFTCORNERBRACKET:Kf,LEFTWHITECORNERBRACKET:Xf,LOCALHOST:gc,NL:zy,NUM:Dy,OPENANGLEBRACKET:qf,OPENBRACE:Za,OPENBRACKET:Vf,OPENPAREN:Uf,PERCENT:tc,PIPE:ld,PLUS:ad,POUND:cd,QUERY:nc,QUOTE:_y,RIGHTCORNERBRACKET:Yf,RIGHTWHITECORNERBRACKET:Wf,SCHEME:vf,SEMI:Iy,SLASH:jr,SLASH_SCHEME:gl,SYM:fd,TILDE:rc,TLD:Lg,UNDERSCORE:ud,UTLD:Bg,UWORD:zg,WORD:Si,WS:_g});const gi=/[a-z]/,Ha=new RegExp("\\p{L}","u"),Vm=new RegExp("\\p{Emoji}","u"),yi=/\d/,jm=/\s/,bx="\r",Um=`
`,bL="",vL="",Pm="";let Ju=null,Qu=null;function SL(t=[]){const e={};Gn.groups=e;const n=new Gn;Ju==null&&(Ju=vx(dL)),Qu==null&&(Qu=vx(hL)),de(n,"'",ed),de(n,"{",Za),de(n,"}",ec),de(n,"[",Vf),de(n,"]",jf),de(n,"(",Uf),de(n,")",Pf),de(n,"<",qf),de(n,">",Ff),de(n,"",$f),de(n,"",Gf),de(n,"",Kf),de(n,"",Yf),de(n,"",Xf),de(n,"",Wf),de(n,"",Jf),de(n,"",Qf),de(n,"&",Zf),de(n,"*",td),de(n,"@",oo),de(n,"`",rd),de(n,"^",id),de(n,":",ao),de(n,",",Ly),de(n,"$",od),de(n,".",Vr),de(n,"=",sd),de(n,"!",By),de(n,"-",Er),de(n,"%",tc),de(n,"|",ld),de(n,"+",ad),de(n,"#",cd),de(n,"?",nc),de(n,'"',_y),de(n,"/",jr),de(n,";",Iy),de(n,"~",rc),de(n,"_",ud),de(n,"\\",nd),de(n,"",Gw);const r=_t(n,yi,Dy,{[Og]:!0});_t(r,yi,r);const o=_t(r,gi,Fw,{[Qa]:!0}),l=_t(r,Ha,$w,{[$a]:!0}),a=_t(n,gi,Si,{[Rg]:!0});_t(a,yi,o),_t(a,gi,a),_t(o,yi,o),_t(o,gi,o);const u=_t(n,Ha,zg,{[Ng]:!0});_t(u,gi),_t(u,yi,l),_t(u,Ha,u),_t(l,yi,l),_t(l,gi),_t(l,Ha,l);const d=de(n,Um,zy,{[Hm]:!0}),h=de(n,bx,_g,{[Hm]:!0}),p=_t(n,jm,_g,{[Hm]:!0});de(n,Pm,p),de(h,Um,d),de(h,Pm,p),_t(h,jm,p),de(p,bx),de(p,Um),_t(p,jm,p),de(p,Pm,p);const g=_t(n,Vm,Kw,{[qw]:!0});de(g,"#"),_t(g,Vm,g),de(g,bL,g);const b=de(g,vL);de(b,"#"),_t(b,Vm,g);const v=[[gi,a],[yi,o]],S=[[gi,null],[Ha,u],[yi,l]];for(let E=0;E<Ju.length;E++)to(n,Ju[E],Lg,Si,v);for(let E=0;E<Qu.length;E++)to(n,Qu[E],Bg,zg,S);as(Lg,{tld:!0,ascii:!0},e),as(Bg,{utld:!0,alpha:!0},e),to(n,"file",vf,Si,v),to(n,"mailto",vf,Si,v),to(n,"http",gl,Si,v),to(n,"https",gl,Si,v),to(n,"ftp",gl,Si,v),to(n,"ftps",gl,Si,v),as(vf,{scheme:!0,ascii:!0},e),as(gl,{slashscheme:!0,ascii:!0},e),t=t.sort((E,T)=>E[0]>T[0]?1:-1);for(let E=0;E<t.length;E++){const T=t[E][0],k=t[E][1]?{[pL]:!0}:{[mL]:!0};T.indexOf("-")>=0?k[Dg]=!0:gi.test(T)?yi.test(T)?k[Qa]=!0:k[Rg]=!0:k[Og]=!0,yx(n,T,T,k)}return yx(n,"localhost",gc,{ascii:!0}),n.jd=new Gn(fd),{start:n,tokens:Object.assign({groups:e},Yw)}}function Xw(t,e){const n=xL(e.replace(/[A-Z]/g,u=>u.toLowerCase())),r=n.length,o=[];let l=0,a=0;for(;a<r;){let u=t,d=null,h=0,p=null,g=-1,b=-1;for(;a<r&&(d=u.go(n[a]));)u=d,u.accepts()?(g=0,b=0,p=u):g>=0&&(g+=n[a].length,b++),h+=n[a].length,l+=n[a].length,a++;l-=g,a-=b,h-=g,o.push({t:p.t,v:e.slice(l-h,l),s:l-h,e:l})}return o}function xL(t){const e=[],n=t.length;let r=0;for(;r<n;){let o=t.charCodeAt(r),l,a=o<55296||o>56319||r+1===n||(l=t.charCodeAt(r+1))<56320||l>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function to(t,e,n,r,o){let l;const a=e.length;for(let u=0;u<a-1;u++){const d=e[u];t.j[d]?l=t.j[d]:(l=new Gn(r),l.jr=o.slice(),t.j[d]=l),t=l}return l=new Gn(n),l.jr=o.slice(),t.j[e[a-1]]=l,l}function vx(t){const e=[],n=[];let r=0,o="0123456789";for(;r<t.length;){let l=0;for(;o.indexOf(t[r+l])>=0;)l++;if(l>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+l),10);a>0;a--)n.pop();r+=l}else n.push(t[r]),r++}return e}const yc={defaultProtocol:"http",events:null,format:Sx,formatHref:Sx,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Hy(t,e=null){let n=Object.assign({},yc);t&&(n=Object.assign(n,t instanceof Hy?t.o:t));const r=n.ignoreTags,o=[];for(let l=0;l<r.length;l++)o.push(r[l].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=o}Hy.prototype={o:yc,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let o=this.o[t];return o&&(typeof o=="object"?(o=n.t in o?o[n.t]:yc[t],typeof o=="function"&&r&&(o=o(e,n))):typeof o=="function"&&r&&(o=o(e,n.t,n)),o)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function Sx(t){return t}function Ww(t,e){this.t="token",this.v=t,this.tk=e}Ww.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=yc.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),o=t.get("tagName",n,e),l=this.toFormattedString(t),a={},u=t.get("className",n,e),d=t.get("target",n,e),h=t.get("rel",n,e),p=t.getObj("attributes",n,e),g=t.getObj("events",n,e);return a.href=r,u&&(a.class=u),d&&(a.target=d),h&&(a.rel=h),p&&Object.assign(a,p),{tagName:o,attributes:a,content:l,eventListeners:g}}};function Fd(t,e){class n extends Ww{constructor(o,l){super(o,l),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const xx=Fd("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Ex=Fd("text"),EL=Fd("nl"),Zu=Fd("url",{isLink:!0,toHref(t=yc.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==gc&&t[1].t===ao}}),xr=t=>new Gn(t);function TL({groups:t}){const e=t.domain.concat([Zf,td,oo,nd,rd,id,od,sd,Er,Dy,tc,ld,ad,cd,jr,fd,rc,ud]),n=[ed,ao,Ly,Vr,By,tc,nc,_y,Iy,qf,Ff,Za,ec,jf,Vf,Uf,Pf,$f,Gf,Kf,Yf,Xf,Wf,Jf,Qf],r=[Zf,ed,td,nd,rd,id,od,sd,Er,Za,ec,tc,ld,ad,cd,nc,jr,fd,rc,ud],o=xr(),l=de(o,rc);Ke(l,r,l),Ke(l,t.domain,l);const a=xr(),u=xr(),d=xr();Ke(o,t.domain,a),Ke(o,t.scheme,u),Ke(o,t.slashscheme,d),Ke(a,r,l),Ke(a,t.domain,a);const h=de(a,oo);de(l,oo,h),de(u,oo,h),de(d,oo,h);const p=de(l,Vr);Ke(p,r,l),Ke(p,t.domain,l);const g=xr();Ke(h,t.domain,g),Ke(g,t.domain,g);const b=de(g,Vr);Ke(b,t.domain,g);const v=xr(xx);Ke(b,t.tld,v),Ke(b,t.utld,v),de(h,gc,v);const S=de(g,Er);de(S,Er,S),Ke(S,t.domain,g),Ke(v,t.domain,g),de(v,Vr,b),de(v,Er,S);const E=de(v,ao);Ke(E,t.numeric,xx);const T=de(a,Er),w=de(a,Vr);de(T,Er,T),Ke(T,t.domain,a),Ke(w,r,l),Ke(w,t.domain,a);const k=xr(Zu);Ke(w,t.tld,k),Ke(w,t.utld,k),Ke(k,t.domain,a),Ke(k,r,l),de(k,Vr,w),de(k,Er,T),de(k,oo,h);const A=de(k,ao),O=xr(Zu);Ke(A,t.numeric,O);const N=xr(Zu),H=xr();Ke(N,e,N),Ke(N,n,H),Ke(H,e,N),Ke(H,n,H),de(k,jr,N),de(O,jr,N);const z=de(u,ao),I=de(d,ao),K=de(I,jr),se=de(K,jr);Ke(u,t.domain,a),de(u,Vr,w),de(u,Er,T),Ke(d,t.domain,a),de(d,Vr,w),de(d,Er,T),Ke(z,t.domain,N),de(z,jr,N),de(z,nc,N),Ke(se,t.domain,N),Ke(se,e,N),de(se,jr,N);const ce=[[Za,ec],[Vf,jf],[Uf,Pf],[qf,Ff],[$f,Gf],[Kf,Yf],[Xf,Wf],[Jf,Qf]];for(let ue=0;ue<ce.length;ue++){const[me,ee]=ce[ue],G=de(N,me);de(H,me,G),de(G,ee,N);const L=xr(Zu);Ke(G,e,L);const q=xr();Ke(G,n),Ke(L,e,L),Ke(L,n,q),Ke(q,e,L),Ke(q,n,q),de(L,ee,N),de(q,ee,N)}return de(o,gc,k),de(o,zy,EL),{start:o,tokens:Yw}}function wL(t,e,n){let r=n.length,o=0,l=[],a=[];for(;o<r;){let u=t,d=null,h=null,p=0,g=null,b=-1;for(;o<r&&!(d=u.go(n[o].t));)a.push(n[o++]);for(;o<r&&(h=d||u.go(n[o].t));)d=null,u=h,u.accepts()?(b=0,g=u):b>=0&&b++,o++,p++;if(b<0)o-=p,o<r&&(a.push(n[o]),o++);else{a.length>0&&(l.push(qm(Ex,e,a)),a=[]),o-=b,p-=b;const v=g.t,S=n.slice(o-p,o);l.push(qm(v,e,S))}}return a.length>0&&l.push(qm(Ex,e,a)),l}function qm(t,e,n){const r=n[0].s,o=n[n.length-1].e,l=e.slice(r,o);return new t(l,n)}const CL=typeof console<"u"&&console&&console.warn||(()=>{}),ML="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Et={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function kL(){return Gn.groups={},Et.scanner=null,Et.parser=null,Et.tokenQueue=[],Et.pluginQueue=[],Et.customSchemes=[],Et.initialized=!1,Et}function Tx(t,e=!1){if(Et.initialized&&CL(`linkifyjs: already initialized - will not register custom scheme "${t}" ${ML}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Et.customSchemes.push([t,e])}function AL(){Et.scanner=SL(Et.customSchemes);for(let t=0;t<Et.tokenQueue.length;t++)Et.tokenQueue[t][1]({scanner:Et.scanner});Et.parser=TL(Et.scanner.tokens);for(let t=0;t<Et.pluginQueue.length;t++)Et.pluginQueue[t][1]({scanner:Et.scanner,parser:Et.parser});return Et.initialized=!0,Et}function Vy(t){return Et.initialized||AL(),wL(Et.parser.start,t,Xw(Et.scanner.start,t))}Vy.scan=Xw;function Jw(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new Hy(n),o=Vy(t),l=[];for(let a=0;a<o.length;a++){const u=o[a];u.isLink&&(!e||u.t===e)&&r.check(u)&&l.push(u.toFormattedObject(r))}return l}var jy="[\0- -\u2029]",OL=new RegExp(jy),RL=new RegExp(`${jy}$`),NL=new RegExp(jy,"g");function DL(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function zL(t){return new At({key:new nn("autolink"),appendTransaction:(e,n,r)=>{const o=e.some(h=>h.docChanged)&&!n.doc.eq(r.doc),l=e.some(h=>h.getMeta("preventAutolink"));if(!o||l)return;const{tr:a}=r,u=yw(n.doc,[...e]);if(ww(u).forEach(({newRange:h})=>{const p=_D(r.doc,h,v=>v.isTextblock);let g,b;if(p.length>1)g=p[0],b=r.doc.textBetween(g.pos,g.pos+g.node.nodeSize,void 0," ");else if(p.length){const v=r.doc.textBetween(h.from,h.to," "," ");if(!RL.test(v))return;g=p[0],b=r.doc.textBetween(g.pos,h.to,void 0," ")}if(g&&b){const v=b.split(OL).filter(Boolean);if(v.length<=0)return!1;const S=v[v.length-1],E=g.pos+b.lastIndexOf(S);if(!S)return!1;const T=Vy(S).map(w=>w.toObject(t.defaultProtocol));if(!DL(T))return!1;T.filter(w=>w.isLink).map(w=>({...w,from:E+w.start+1,to:E+w.end+1})).filter(w=>r.schema.marks.code?!r.doc.rangeHasMark(w.from,w.to,r.schema.marks.code):!0).filter(w=>t.validate(w.value)).filter(w=>t.shouldAutoLink(w.value)).forEach(w=>{ky(w.from,w.to,r.doc).some(k=>k.mark.type===t.type)||a.addMark(w.from,w.to,t.type.create({href:w.href}))})}}),!!a.steps.length)return a}})}function LL(t){return new At({key:new nn("handleClickLink"),props:{handleClick:(e,n,r)=>{var o,l;if(r.button!==0||!e.editable)return!1;let a=!1;if(t.enableClickSelection&&(a=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){let u=null;if(r.target instanceof HTMLAnchorElement)u=r.target;else{let g=r.target;const b=[];for(;g.nodeName!=="DIV";)b.push(g),g=g.parentNode;u=b.find(v=>v.nodeName==="A")}if(!u)return a;const d=Tw(e.state,t.type.name),h=(o=u?.href)!=null?o:d.href,p=(l=u?.target)!=null?l:d.target;u&&h&&(window.open(h,p),a=!0)}return a}}})}function BL(t){return new At({key:new nn("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:o}=t,{state:l}=e,{selection:a}=l,{empty:u}=a;if(u)return!1;let d="";r.content.forEach(p=>{d+=p.textContent});const h=Jw(d,{defaultProtocol:t.defaultProtocol}).find(p=>p.isLink&&p.value===d);return!d||!h||o!==void 0&&!o(h.value)?!1:t.editor.commands.setMark(t.type,{href:h.href})}}})}function es(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const o=typeof r=="string"?r:r.scheme;o&&n.push(o)}),!t||t.replace(NL,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var _L=Ts.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){Tx(t);return}Tx(t.scheme,t.optionalSlashes)})},onDestroy(){kL()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!es(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>{const e=/^[a-z][a-z0-9+.-]*:\/\//i.test(t),n=/^[a-z][a-z0-9+.-]*:/i.test(t);if(e||n&&!t.includes("@"))return!0;const o=(t.includes("@")?t.split("@").pop():t).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(o)||!/\./.test(o))}}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!es(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!es(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Jt(this.options.HTMLAttributes,t),0]:["a",Jt(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!es(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!es(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[vs({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,o=Jw(t).filter(l=>l.isLink&&this.options.isAllowedUri(l.value,{defaultValidate:a=>!!es(a,n),protocols:n,defaultProtocol:r}));o.length&&o.forEach(l=>{this.options.shouldAutoLink(l.value)&&e.push({text:l.value,data:{href:l.href},index:l.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(zL({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:o=>!!es(o,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(LL({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(BL({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),IL=Object.defineProperty,HL=(t,e)=>{for(var n in e)IL(t,n,{get:e[n],enumerable:!0})},VL="listItem",wx="textStyle",Cx=/^\s*([-+*])\s$/,Qw=cr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Jt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(VL,this.editor.getAttributes(wx)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Bl({find:Cx,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Bl({find:Cx,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(wx),editor:this.editor})),[t]}}),Zw=cr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Jt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(o=>o.type==="paragraph"))n=e.parseChildren(t.tokens);else{const o=t.tokens[0];if(o&&o.type==="text"&&o.tokens&&o.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(o.tokens)}],t.tokens.length>1){const a=t.tokens.slice(1),u=e.parseChildren(a);n.push(...u)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>Ny(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),jL={};HL(jL,{findListItemPos:()=>wc,getNextListDepth:()=>Uy,handleBackspace:()=>Ig,handleDelete:()=>Hg,hasListBefore:()=>eC,hasListItemAfter:()=>UL,hasListItemBefore:()=>tC,listItemHasSubList:()=>nC,nextListIsDeeper:()=>rC,nextListIsHigher:()=>iC});var wc=(t,e)=>{const{$from:n}=e.selection,r=Wt(t,e.schema);let o=null,l=n.depth,a=n.pos,u=null;for(;l>0&&u===null;)o=n.node(l),o.type===r?u=l:(l-=1,a-=1);return u===null?null:{$pos:e.doc.resolve(a),depth:u}},Uy=(t,e)=>{const n=wc(t,e);if(!n)return!1;const[,r]=GD(e,t,n.$pos.pos+4);return r},eC=(t,e,n)=>{const{$anchor:r}=t.selection,o=Math.max(0,r.pos-2),l=t.doc.resolve(o).node();return!(!l||!n.includes(l.type.name))},tC=(t,e)=>{var n;const{$anchor:r}=e.selection,o=e.doc.resolve(r.pos-2);return!(o.index()===0||((n=o.nodeBefore)==null?void 0:n.type.name)!==t)},nC=(t,e,n)=>{if(!n)return!1;const r=Wt(t,e.schema);let o=!1;return n.descendants(l=>{l.type===r&&(o=!0)}),o},Ig=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Mo(t.state,e)&&eC(t.state,e,n)){const{$anchor:u}=t.state.selection,d=t.state.doc.resolve(u.before()-1),h=[];d.node().descendants((b,v)=>{b.type.name===e&&h.push({node:b,pos:v})});const p=h.at(-1);if(!p)return!1;const g=t.state.doc.resolve(d.start()+p.pos+1);return t.chain().cut({from:u.start()-1,to:u.end()+1},g.end()).joinForward().run()}if(!Mo(t.state,e)||!WD(t.state))return!1;const r=wc(e,t.state);if(!r)return!1;const l=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=nC(e,t.state,l);return tC(e,t.state)&&!a?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},rC=(t,e)=>{const n=Uy(t,e),r=wc(t,e);return!r||!n?!1:n>r.depth},iC=(t,e)=>{const n=Uy(t,e),r=wc(t,e);return!r||!n?!1:n<r.depth},Hg=(t,e)=>{if(!Mo(t.state,e)||!XD(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:o}=n;return!n.empty&&r.sameParent(o)?!1:rC(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():iC(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},UL=(t,e)=>{var n;const{$anchor:r}=e.selection,o=e.doc.resolve(r.pos-r.parentOffset-2);return!(o.index()===o.parent.childCount-1||((n=o.nodeAfter)==null?void 0:n.type.name)!==t)},oC=Vt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Hg(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Hg(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Ig(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Ig(t,n,r)&&(e=!0)}),e}}}}),Mx=/^(\s*)(\d+)\.\s+(.*)$/,PL=/^\s/;function qL(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n],l=o.match(Mx);if(!l)break;const[,a,u,d]=l,h=a.length;let p=d,g=n+1;const b=[o];for(;g<t.length;){const v=t[g];if(v.match(Mx))break;if(v.trim()==="")b.push(v),p+=`
`,g+=1;else if(v.match(PL))b.push(v),p+=`
${v.slice(h+2)}`,g+=1;else break}e.push({indent:h,number:parseInt(u,10),content:p.trim(),raw:b.join(`
`)}),r=g,n=g}return[e,r]}function sC(t,e,n){var r;const o=[];let l=0;for(;l<t.length;){const a=t[l];if(a.indent===e){const u=a.content.split(`
`),d=((r=u[0])==null?void 0:r.trim())||"",h=[];d&&h.push({type:"paragraph",raw:d,tokens:n.inlineTokens(d)});const p=u.slice(1).join(`
`).trim();if(p){const v=n.blockTokens(p);h.push(...v)}let g=l+1;const b=[];for(;g<t.length&&t[g].indent>e;)b.push(t[g]),g+=1;if(b.length>0){const v=Math.min(...b.map(E=>E.indent)),S=sC(b,v,n);h.push({type:"list",ordered:!0,start:b[0].number,items:S,raw:b.map(E=>E.raw).join(`
`)})}o.push({type:"list_item",raw:a.raw,tokens:h}),l=g}else l+=1}return o}function FL(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(o=>{if(o.type==="paragraph"||o.type==="list"||o.type==="blockquote"||o.type==="code")r.push(...e.parseChildren([o]));else if(o.type==="text"&&o.tokens){const l=e.parseChildren([o]);r.push({type:"paragraph",content:l})}else{const l=e.parseChildren([o]);l.length>0&&r.push(...l)}}),{type:"listItem",content:r}})}var $L="listItem",kx="textStyle",Ax=/^(\d+)\.\s$/,lC=cr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Jt(this.options.HTMLAttributes,n),0]:["ol",Jt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?FL(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const o=t.split(`
`),[l,a]=qL(o);if(l.length===0)return;const u=sC(l,0,n);return u.length===0?void 0:{type:"list",ordered:!0,start:((r=l[0])==null?void 0:r.number)||1,items:u,raw:o.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes($L,this.editor.getAttributes(kx)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Bl({find:Ax,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Bl({find:Ax,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(kx)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),GL=/^\s*(\[([( |x])?\])\s$/,KL=cr.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Jt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const o=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return Ny(t,e,o)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const o=document.createElement("li"),l=document.createElement("label"),a=document.createElement("span"),u=document.createElement("input"),d=document.createElement("div"),h=g=>{var b,v;u.ariaLabel=((v=(b=this.options.a11y)==null?void 0:b.checkboxLabel)==null?void 0:v.call(b,g,u.checked))||`Task item checkbox for ${g.textContent||"empty task item"}`};h(t),l.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",g=>g.preventDefault()),u.addEventListener("change",g=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:b}=g.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:v})=>{const S=n();if(typeof S!="number")return!1;const E=v.doc.nodeAt(S);return v.setNodeMarkup(S,void 0,{...E?.attrs,checked:b}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,b)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([g,b])=>{o.setAttribute(g,b)}),o.dataset.checked=t.attrs.checked,u.checked=t.attrs.checked,l.append(u,a),o.append(l,d),Object.entries(e).forEach(([g,b])=>{o.setAttribute(g,b)});let p=new Set(Object.keys(e));return{dom:o,contentDOM:d,update:g=>{if(g.type!==this.type)return!1;o.dataset.checked=g.attrs.checked,u.checked=g.attrs.checked,h(g);const b=r.extensionManager.attributes,v=mc(g,b),S=new Set(Object.keys(v)),E=this.options.HTMLAttributes;return p.forEach(T=>{S.has(T)||(T in E?o.setAttribute(T,E[T]):o.removeAttribute(T))}),Object.entries(v).forEach(([T,w])=>{w==null?T in E?o.setAttribute(T,E[T]):o.removeAttribute(T):o.setAttribute(T,w)}),p=S,!0}}}},addInputRules(){return[Bl({find:GL,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),YL=cr.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Jt(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=l=>{const a=Ag(l,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:u=>({indentLevel:u[1].length,mainContent:u[4],checked:u[3].toLowerCase()==="x"}),createToken:(u,d)=>({type:"taskItem",raw:"",mainContent:u.mainContent,indentLevel:u.indentLevel,checked:u.checked,text:u.mainContent,tokens:n.inlineTokens(u.mainContent),nestedTokens:d}),customNestedParser:r},n);return a?[{type:"taskList",raw:a.raw,items:a.items}]:n.blockTokens(l)},o=Ag(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,a)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:n.inlineTokens(l.mainContent),nestedTokens:a}),customNestedParser:r},n);if(o)return{type:"taskList",raw:o.raw,items:o.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Vt.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(Qw.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(Zw.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(oC.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(lC.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(KL.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(YL.configure(this.options.taskList)),t}});var XL=cr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Jt(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),WL=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,JL=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,QL=Ts.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Jt(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ll({find:WL,type:this.type})]},addPasteRules(){return[vs({find:JL,type:this.type})]}}),ZL=cr.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),aC=Ts.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Jt(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const o=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!o)return;const l=o[2].trim();return{type:"underline",raw:o[0],text:l,tokens:n.inlineTokens(l)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),e3=aC;function t3(t={}){return new At({view(e){return new n3(e,t)}})}class n3{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let l=a=>{this[o](a)};return e.dom.addEventListener(o,l),{name:o,handler:l}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,o=this.editorView.dom,l=o.getBoundingClientRect(),a=l.width/o.offsetWidth,u=l.height/o.offsetHeight;if(n){let g=e.nodeBefore,b=e.nodeAfter;if(g||b){let v=this.editorView.nodeDOM(this.cursorPos-(g?g.nodeSize:0));if(v){let S=v.getBoundingClientRect(),E=g?S.bottom:S.top;g&&b&&(E=(E+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let T=this.width/2*u;r={left:S.left,right:S.right,top:E-T,bottom:E+T}}}}if(!r){let g=this.editorView.coordsAtPos(this.cursorPos),b=this.width/2*a;r={left:g.left-b,right:g.left+b,top:g.top,bottom:g.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let h,p;if(!d||d==document.body&&getComputedStyle(d).position=="static")h=-pageXOffset,p=-pageYOffset;else{let g=d.getBoundingClientRect(),b=g.width/d.offsetWidth,v=g.height/d.offsetHeight;h=g.left-d.scrollLeft*b,p=g.top-d.scrollTop*v}this.element.style.left=(r.left-h)/a+"px",this.element.style.top=(r.top-p)/u+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/u+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),o=r&&r.type.spec.disableDropCursor,l=typeof o=="function"?o(this.editorView,n,e):o;if(n&&!l){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=aT(this.editorView.state.doc,a,this.editorView.dragging.slice);u!=null&&(a=u)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class It extends Ye{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return It.valid(r)?new It(r):Ye.near(r)}content(){return xe.empty}eq(e){return e instanceof It&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new It(e.resolve(n.pos))}getBookmark(){return new Py(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!r3(e)||!i3(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let o=n.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&It.valid(e))return e;let o=e.pos,l=null;for(let a=e.depth;;a--){let u=e.node(a);if(n>0?e.indexAfter(a)<u.childCount:e.index(a)>0){l=u.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;o+=n;let d=e.doc.resolve(o);if(It.valid(d))return d}for(;;){let a=n>0?l.firstChild:l.lastChild;if(!a){if(l.isAtom&&!l.isText&&!Be.isSelectable(l)){e=e.doc.resolve(o+l.nodeSize*n),r=!1;continue e}break}l=a,o+=n;let u=e.doc.resolve(o);if(It.valid(u))return u}return null}}}It.prototype.visible=!1;It.findFrom=It.findGapCursorFrom;Ye.jsonID("gapcursor",It);class Py{constructor(e){this.pos=e}map(e){return new Py(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return It.valid(n)?new It(n):Ye.near(n)}}function cC(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function r3(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(n-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||cC(o.type))return!0;if(o.inlineContent)return!1}}return!0}function i3(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(n);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||cC(o.type))return!0;if(o.inlineContent)return!1}}return!0}function o3(){return new At({props:{decorations:c3,createSelectionBetween(t,e,n){return e.pos==n.pos&&It.valid(n)?new It(n):null},handleClick:l3,handleKeyDown:s3,handleDOMEvents:{beforeinput:a3}}})}const s3=cw({ArrowLeft:ef("horiz",-1),ArrowRight:ef("horiz",1),ArrowUp:ef("vert",-1),ArrowDown:ef("vert",1)});function ef(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,o,l){let a=r.selection,u=e>0?a.$to:a.$from,d=a.empty;if(a instanceof Ve){if(!l.endOfTextblock(n)||u.depth==0)return!1;d=!1,u=r.doc.resolve(e>0?u.after():u.before())}let h=It.findGapCursorFrom(u,e,d);return h?(o&&o(r.tr.setSelection(new It(h))),!0):!1}}function l3(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!It.valid(r))return!1;let o=t.posAtCoords({left:n.clientX,top:n.clientY});return o&&o.inside>-1&&Be.isSelectable(t.state.doc.nodeAt(o.inside))?!1:(t.dispatch(t.state.tr.setSelection(new It(r))),!0)}function a3(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof It))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let o=le.empty;for(let a=r.length-1;a>=0;a--)o=le.from(r[a].createAndFill(null,o));let l=t.state.tr.replace(n.pos,n.pos,new xe(o,0,0));return l.setSelection(Ve.near(l.doc.resolve(n.pos+1))),t.dispatch(l),!1}function c3(t){if(!(t.selection instanceof It))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ct.create(t.doc,[On.widget(t.selection.head,e,{key:"gapcursor"})])}var dd=200,un=function(){};un.prototype.append=function(e){return e.length?(e=un.from(e),!this.length&&e||e.length<dd&&this.leafAppend(e)||this.length<dd&&e.leafPrepend(this)||this.appendInner(e)):this};un.prototype.prepend=function(e){return e.length?un.from(e).append(this):this};un.prototype.appendInner=function(e){return new u3(this,e)};un.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?un.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};un.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};un.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};un.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(l,a){return o.push(e(l,a))},n,r),o};un.from=function(e){return e instanceof un?e:e&&e.length?new uC(e):un.empty};var uC=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(o,l){return o==0&&l==this.length?this:new e(this.values.slice(o,l))},e.prototype.getInner=function(o){return this.values[o]},e.prototype.forEachInner=function(o,l,a,u){for(var d=l;d<a;d++)if(o(this.values[d],u+d)===!1)return!1},e.prototype.forEachInvertedInner=function(o,l,a,u){for(var d=l-1;d>=a;d--)if(o(this.values[d],u+d)===!1)return!1},e.prototype.leafAppend=function(o){if(this.length+o.length<=dd)return new e(this.values.concat(o.flatten()))},e.prototype.leafPrepend=function(o){if(this.length+o.length<=dd)return new e(o.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(un);un.empty=new uC([]);var u3=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,o,l,a){var u=this.left.length;if(o<u&&this.left.forEachInner(r,o,Math.min(l,u),a)===!1||l>u&&this.right.forEachInner(r,Math.max(o-u,0),Math.min(this.length,l)-u,a+u)===!1)return!1},e.prototype.forEachInvertedInner=function(r,o,l,a){var u=this.left.length;if(o>u&&this.right.forEachInvertedInner(r,o-u,Math.max(l,u)-u,a+u)===!1||l<u&&this.left.forEachInvertedInner(r,Math.min(o,u),l,a)===!1)return!1},e.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var l=this.left.length;return o<=l?this.left.slice(r,o):r>=l?this.right.slice(r-l,o-l):this.left.slice(r,l).append(this.right.slice(0,o-l))},e.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new e(this.left,o)},e.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new e(o,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(un);const f3=500;class zr{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,l;n&&(o=this.remapping(r,this.items.length),l=o.maps.length);let a=e.tr,u,d,h=[],p=[];return this.items.forEach((g,b)=>{if(!g.step){o||(o=this.remapping(r,b+1),l=o.maps.length),l--,p.push(g);return}if(o){p.push(new Ur(g.map));let v=g.step.map(o.slice(l)),S;v&&a.maybeStep(v).doc&&(S=a.mapping.maps[a.mapping.maps.length-1],h.push(new Ur(S,void 0,void 0,h.length+p.length))),l--,S&&o.appendMap(S,l)}else a.maybeStep(g.step);if(g.selection)return u=o?g.selection.map(o.slice(l)):g.selection,d=new zr(this.items.slice(0,r).append(p.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:a,selection:u}}addTransform(e,n,r,o){let l=[],a=this.eventCount,u=this.items,d=!o&&u.length?u.get(u.length-1):null;for(let p=0;p<e.steps.length;p++){let g=e.steps[p].invert(e.docs[p]),b=new Ur(e.mapping.maps[p],g,n),v;(v=d&&d.merge(b))&&(b=v,p?l.pop():u=u.slice(0,u.length-1)),l.push(b),n&&(a++,n=void 0),o||(d=b)}let h=a-r.depth;return h>h3&&(u=d3(u,h),a-=h),new zr(u.append(l),a)}remapping(e,n){let r=new cc;return this.items.forEach((o,l)=>{let a=o.mirrorOffset!=null&&l-o.mirrorOffset>=e?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new zr(this.items.append(e.map(n=>new Ur(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-n),l=e.mapping,a=e.steps.length,u=this.eventCount;this.items.forEach(b=>{b.selection&&u--},o);let d=n;this.items.forEach(b=>{let v=l.getMirror(--d);if(v==null)return;a=Math.min(a,v);let S=l.maps[v];if(b.step){let E=e.steps[v].invert(e.docs[v]),T=b.selection&&b.selection.map(l.slice(d+1,v));T&&u++,r.push(new Ur(S,E,T))}else r.push(new Ur(S))},o);let h=[];for(let b=n;b<a;b++)h.push(new Ur(l.maps[b]));let p=this.items.slice(0,o).append(h).append(r),g=new zr(p,u);return g.emptyItemCount()>f3&&(g=g.compress(this.items.length-r.length)),g}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,o=[],l=0;return this.items.forEach((a,u)=>{if(u>=e)o.push(a),a.selection&&l++;else if(a.step){let d=a.step.map(n.slice(r)),h=d&&d.getMap();if(r--,h&&n.appendMap(h,r),d){let p=a.selection&&a.selection.map(n.slice(r));p&&l++;let g=new Ur(h.invert(),d,p),b,v=o.length-1;(b=o.length&&o[v].merge(g))?o[v]=b:o.push(g)}}else a.map&&r--},this.items.length,0),new zr(un.from(o.reverse()),l)}}zr.empty=new zr(un.empty,0);function d3(t,e){let n;return t.forEach((r,o)=>{if(r.selection&&e--==0)return n=o,!1}),t.slice(n)}class Ur{constructor(e,n,r,o){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Ur(n.getMap().invert(),n,this.selection)}}}class so{constructor(e,n,r,o,l){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=o,this.prevComposition=l}}const h3=20;function p3(t,e,n,r){let o=n.getMeta(ps),l;if(o)return o.historyState;n.getMeta(y3)&&(t=new so(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(ps))return a.getMeta(ps).redo?new so(t.done.addTransform(n,void 0,r,Sf(e)),t.undone,Ox(n.mapping.maps),t.prevTime,t.prevComposition):new so(t.done,t.undone.addTransform(n,void 0,r,Sf(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let u=n.getMeta("composition"),d=t.prevTime==0||!a&&t.prevComposition!=u&&(t.prevTime<(n.time||0)-r.newGroupDelay||!m3(n,t.prevRanges)),h=a?Fm(t.prevRanges,n.mapping):Ox(n.mapping.maps);return new so(t.done.addTransform(n,d?e.selection.getBookmark():void 0,r,Sf(e)),zr.empty,h,n.time,u??t.prevComposition)}else return(l=n.getMeta("rebased"))?new so(t.done.rebased(n,l),t.undone.rebased(n,l),Fm(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new so(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Fm(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function m3(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,o)=>{for(let l=0;l<e.length;l+=2)r<=e[l+1]&&o>=e[l]&&(n=!0)}),n}function Ox(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,o,l,a)=>e.push(l,a));return e}function Fm(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let o=e.map(t[r],1),l=e.map(t[r+1],-1);o<=l&&n.push(o,l)}return n}function g3(t,e,n){let r=Sf(e),o=ps.get(e).spec.config,l=(n?t.undone:t.done).popEvent(e,r);if(!l)return null;let a=l.selection.resolve(l.transform.doc),u=(n?t.done:t.undone).addTransform(l.transform,e.selection.getBookmark(),o,r),d=new so(n?u:l.remaining,n?l.remaining:u,null,0,-1);return l.transform.setSelection(a).setMeta(ps,{redo:n,historyState:d})}let $m=!1,Rx=null;function Sf(t){let e=t.plugins;if(Rx!=e){$m=!1,Rx=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){$m=!0;break}}return $m}const ps=new nn("history"),y3=new nn("closeHistory");function b3(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new At({key:ps,state:{init(){return new so(zr.empty,zr.empty,null,0,-1)},apply(e,n,r){return p3(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,o=r=="historyUndo"?dC:r=="historyRedo"?hC:null;return!o||!e.editable?!1:(n.preventDefault(),o(e.state,e.dispatch))}}}})}function fC(t,e){return(n,r)=>{let o=ps.getState(n);if(!o||(t?o.undone:o.done).eventCount==0)return!1;if(r){let l=g3(o,n,t);l&&r(e?l.scrollIntoView():l)}return!0}}const dC=fC(!1,!0),hC=fC(!0,!0);Vt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new At({key:new nn("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const o=this.options.limit;if(o==null||o===0){t=!0;return}const l=this.storage.characters({node:r.doc});if(l>o){const a=l-o,u=0,d=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${o} characters. Content was automatically trimmed.`);const h=r.tr.deleteRange(u,d);return t=!0,h}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const o=this.storage.characters({node:n.doc}),l=this.storage.characters({node:e.doc});if(l<=r||o>r&&l>r&&l<=o)return!0;if(o>r&&l>r&&l>o||!e.getMeta("paste"))return!1;const u=e.selection.$head.pos,d=l-r,h=u-d,p=u;return e.deleteRange(h,p),!(this.storage.characters({node:e.doc})>r)}})]}});var v3=Vt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[t3(this.options)]}});Vt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new At({key:new nn("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:o}=e,l=[];if(!n||!r)return Ct.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((d,h)=>{if(d.isText)return;if(!(o>=h&&o<=h+d.nodeSize-1))return!1;a+=1});let u=0;return t.descendants((d,h)=>{if(d.isText||!(o>=h&&o<=h+d.nodeSize-1))return!1;if(u+=1,this.options.mode==="deepest"&&a-u>0||this.options.mode==="shallowest"&&u>1)return this.options.mode==="deepest";l.push(On.node(h,h+d.nodeSize,{class:this.options.className}))}),Ct.create(t,l)}}})]}});var S3=Vt.create({name:"gapCursor",addProseMirrorPlugins(){return[o3()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=ft(De(t,"allowGapCursor",n)))!=null?e:null}}});Vt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new At({key:new nn("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,o=[];if(!n)return null;const l=this.editor.isEmpty;return t.descendants((a,u)=>{const d=r>=u&&r<=u+a.nodeSize,h=!a.isLeaf&&Ud(a);if((d||!this.options.showOnlyCurrent)&&h){const p=[this.options.emptyNodeClass];l&&p.push(this.options.emptyEditorClass);const g=On.node(u,u+a.nodeSize,{class:p.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:u,hasAnchor:d}):this.options.placeholder});o.push(g)}return this.options.includeChildren}),Ct.create(t,o)}}})]}});Vt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new At({key:new nn("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||Cw(n.selection)||t.view.dragging?null:Ct.create(n.doc,[On.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function Nx({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var x3=Vt.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new nn(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,o])=>o).filter(o=>(this.options.notAfter||[]).concat(n).includes(o.name));return[new At({key:e,appendTransaction:(o,l,a)=>{const{doc:u,tr:d,schema:h}=a,p=e.getState(a),g=u.content.size,b=h.nodes[n];if(p)return d.insert(g,b.create())},state:{init:(o,l)=>{const a=l.tr.doc.lastChild;return!Nx({node:a,types:r})},apply:(o,l)=>{if(!o.docChanged||o.getMeta("__uniqueIDTransaction"))return l;const a=o.doc.lastChild;return!Nx({node:a,types:r})}}})]}}),E3=Vt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>dC(t,e),redo:()=>({state:t,dispatch:e})=>hC(t,e)}},addProseMirrorPlugins(){return[b3(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),T3=Vt.create({name:"starterKit",addExtensions(){var t,e,n,r;const o=[];return this.options.bold!==!1&&o.push(Wz.configure(this.options.bold)),this.options.blockquote!==!1&&o.push($z.configure(this.options.blockquote)),this.options.bulletList!==!1&&o.push(Qw.configure(this.options.bulletList)),this.options.code!==!1&&o.push(Zz.configure(this.options.code)),this.options.codeBlock!==!1&&o.push(nL.configure(this.options.codeBlock)),this.options.document!==!1&&o.push(rL.configure(this.options.document)),this.options.dropcursor!==!1&&o.push(v3.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&o.push(S3.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&o.push(iL.configure(this.options.hardBreak)),this.options.heading!==!1&&o.push(oL.configure(this.options.heading)),this.options.undoRedo!==!1&&o.push(E3.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&o.push(sL.configure(this.options.horizontalRule)),this.options.italic!==!1&&o.push(fL.configure(this.options.italic)),this.options.listItem!==!1&&o.push(Zw.configure(this.options.listItem)),this.options.listKeymap!==!1&&o.push(oC.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&o.push(_L.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&o.push(lC.configure(this.options.orderedList)),this.options.paragraph!==!1&&o.push(XL.configure(this.options.paragraph)),this.options.strike!==!1&&o.push(QL.configure(this.options.strike)),this.options.text!==!1&&o.push(ZL.configure(this.options.text)),this.options.underline!==!1&&o.push(aC.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&o.push(x3.configure((r=this.options)==null?void 0:r.trailingNode)),o}}),w3=T3,ko=zE();const C3=NE(ko);var Gm={exports:{}},Km={};var Dx;function M3(){if(Dx)return Km;Dx=1;var t=Sc();function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,o=t.useEffect,l=t.useLayoutEffect,a=t.useDebugValue;function u(g,b){var v=b(),S=r({inst:{value:v,getSnapshot:b}}),E=S[0].inst,T=S[1];return l(function(){E.value=v,E.getSnapshot=b,d(E)&&T({inst:E})},[g,v,b]),o(function(){return d(E)&&T({inst:E}),g(function(){d(E)&&T({inst:E})})},[g]),a(v),v}function d(g){var b=g.getSnapshot;g=g.value;try{var v=b();return!n(g,v)}catch{return!0}}function h(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return Km.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Km}var zx;function pC(){return zx||(zx=1,Gm.exports=M3()),Gm.exports}var qy=pC();const{getOwnPropertyNames:k3,getOwnPropertySymbols:A3}=Object,{hasOwnProperty:O3}=Object.prototype;function Ym(t,e){return function(r,o,l){return t(r,o,l)&&e(r,o,l)}}function tf(t){return function(n,r,o){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,o);const{cache:l}=o,a=l.get(n),u=l.get(r);if(a&&u)return a===r&&u===n;l.set(n,r),l.set(r,n);const d=t(n,r,o);return l.delete(n),l.delete(r),d}}function R3(t){return t?.[Symbol.toStringTag]}function Lx(t){return k3(t).concat(A3(t))}const N3=Object.hasOwn||((t,e)=>O3.call(t,e));function ws(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const D3="__v",z3="__o",L3="_owner",{getOwnPropertyDescriptor:Bx,keys:_x}=Object;function B3(t,e){return t.byteLength===e.byteLength&&hd(new Uint8Array(t),new Uint8Array(e))}function _3(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function I3(t,e){return t.byteLength===e.byteLength&&hd(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function H3(t,e){return ws(t.getTime(),e.getTime())}function V3(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function j3(t,e){return t===e}function Ix(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const o=new Array(r),l=t.entries();let a,u,d=0;for(;(a=l.next())&&!a.done;){const h=e.entries();let p=!1,g=0;for(;(u=h.next())&&!u.done;){if(o[g]){g++;continue}const b=a.value,v=u.value;if(n.equals(b[0],v[0],d,g,t,e,n)&&n.equals(b[1],v[1],b[0],v[0],t,e,n)){p=o[g]=!0;break}g++}if(!p)return!1;d++}return!0}const U3=ws;function P3(t,e,n){const r=_x(t);let o=r.length;if(_x(e).length!==o)return!1;for(;o-- >0;)if(!mC(t,e,n,r[o]))return!1;return!0}function Va(t,e,n){const r=Lx(t);let o=r.length;if(Lx(e).length!==o)return!1;let l,a,u;for(;o-- >0;)if(l=r[o],!mC(t,e,n,l)||(a=Bx(t,l),u=Bx(e,l),(a||u)&&(!a||!u||a.configurable!==u.configurable||a.enumerable!==u.enumerable||a.writable!==u.writable)))return!1;return!0}function q3(t,e){return ws(t.valueOf(),e.valueOf())}function F3(t,e){return t.source===e.source&&t.flags===e.flags}function Hx(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const o=new Array(r),l=t.values();let a,u;for(;(a=l.next())&&!a.done;){const d=e.values();let h=!1,p=0;for(;(u=d.next())&&!u.done;){if(!o[p]&&n.equals(a.value,u.value,a.value,u.value,t,e,n)){h=o[p]=!0;break}p++}if(!h)return!1}return!0}function hd(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function $3(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function mC(t,e,n,r){return(r===L3||r===z3||r===D3)&&(t.$$typeof||e.$$typeof)?!0:N3(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const G3="[object ArrayBuffer]",K3="[object Arguments]",Y3="[object Boolean]",X3="[object DataView]",W3="[object Date]",J3="[object Error]",Q3="[object Map]",Z3="[object Number]",eB="[object Object]",tB="[object RegExp]",nB="[object Set]",rB="[object String]",iB={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},oB="[object URL]",sB=Object.prototype.toString;function lB({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:o,areFunctionsEqual:l,areMapsEqual:a,areNumbersEqual:u,areObjectsEqual:d,arePrimitiveWrappersEqual:h,areRegExpsEqual:p,areSetsEqual:g,areTypedArraysEqual:b,areUrlsEqual:v,unknownTagComparators:S}){return function(T,w,k){if(T===w)return!0;if(T==null||w==null)return!1;const A=typeof T;if(A!==typeof w)return!1;if(A!=="object")return A==="number"?u(T,w,k):A==="function"?l(T,w,k):!1;const O=T.constructor;if(O!==w.constructor)return!1;if(O===Object)return d(T,w,k);if(Array.isArray(T))return e(T,w,k);if(O===Date)return r(T,w,k);if(O===RegExp)return p(T,w,k);if(O===Map)return a(T,w,k);if(O===Set)return g(T,w,k);const N=sB.call(T);if(N===W3)return r(T,w,k);if(N===tB)return p(T,w,k);if(N===Q3)return a(T,w,k);if(N===nB)return g(T,w,k);if(N===eB)return typeof T.then!="function"&&typeof w.then!="function"&&d(T,w,k);if(N===oB)return v(T,w,k);if(N===J3)return o(T,w,k);if(N===K3)return d(T,w,k);if(iB[N])return b(T,w,k);if(N===G3)return t(T,w,k);if(N===X3)return n(T,w,k);if(N===Y3||N===Z3||N===rB)return h(T,w,k);if(S){let H=S[N];if(!H){const z=R3(T);z&&(H=S[z])}if(H)return H(T,w,k)}return!1}}function aB({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:B3,areArraysEqual:n?Va:_3,areDataViewsEqual:I3,areDatesEqual:H3,areErrorsEqual:V3,areFunctionsEqual:j3,areMapsEqual:n?Ym(Ix,Va):Ix,areNumbersEqual:U3,areObjectsEqual:n?Va:P3,arePrimitiveWrappersEqual:q3,areRegExpsEqual:F3,areSetsEqual:n?Ym(Hx,Va):Hx,areTypedArraysEqual:n?Ym(hd,Va):hd,areUrlsEqual:$3,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const o=tf(r.areArraysEqual),l=tf(r.areMapsEqual),a=tf(r.areObjectsEqual),u=tf(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:o,areMapsEqual:l,areObjectsEqual:a,areSetsEqual:u})}return r}function cB(t){return function(e,n,r,o,l,a,u){return t(e,n,u)}}function uB({circular:t,comparator:e,createState:n,equals:r,strict:o}){if(n)return function(u,d){const{cache:h=t?new WeakMap:void 0,meta:p}=n();return e(u,d,{cache:h,equals:r,meta:p,strict:o})};if(t)return function(u,d){return e(u,d,{cache:new WeakMap,equals:r,meta:void 0,strict:o})};const l={cache:void 0,equals:r,meta:void 0,strict:o};return function(u,d){return e(u,d,l)}}const fB=zo();zo({strict:!0});zo({circular:!0});zo({circular:!0,strict:!0});zo({createInternalComparator:()=>ws});zo({strict:!0,createInternalComparator:()=>ws});zo({circular:!0,createInternalComparator:()=>ws});zo({circular:!0,createInternalComparator:()=>ws,strict:!0});function zo(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:o=!1}=t,l=aB(t),a=lB(l),u=n?n(a):cB(a);return uB({circular:e,comparator:a,createState:r,equals:u,strict:o})}var Xm={exports:{}},Wm={};var Vx;function dB(){if(Vx)return Wm;Vx=1;var t=Sc(),e=pC();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,o=e.useSyncExternalStore,l=t.useRef,a=t.useEffect,u=t.useMemo,d=t.useDebugValue;return Wm.useSyncExternalStoreWithSelector=function(h,p,g,b,v){var S=l(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=u(function(){function w(H){if(!k){if(k=!0,A=H,H=b(H),v!==void 0&&E.hasValue){var z=E.value;if(v(z,H))return O=z}return O=H}if(z=O,r(A,H))return z;var I=b(H);return v!==void 0&&v(z,I)?(A=H,z):(A=H,O=I)}var k=!1,A,O,N=g===void 0?null:g;return[function(){return w(p())},N===null?void 0:function(){return w(N())}]},[p,g,b,v]);var T=o(h,S[0],S[1]);return a(function(){E.hasValue=!0,E.value=T},[T]),d(T),T},Wm}var jx;function hB(){return jx||(jx=1,Xm.exports=dB()),Xm.exports}var gC=hB(),pB=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},mB=({contentComponent:t})=>{const e=qy.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return oe.jsx(oe.Fragment,{children:Object.values(e)})};function gB(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:C3.createPortal(r.reactElement,r.element,n)},t.forEach(o=>o())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(o=>o())}}}var yB=class extends wo.Component{constructor(t){var e;super(t),this.editorContentRef=wo.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=gB(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{ref:pB(e,this.editorContentRef),...n}),t?.contentComponent&&oe.jsx(mB,{contentComponent:t.contentComponent})]})}},bB=M.forwardRef((t,e)=>{const n=wo.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return wo.createElement(yB,{key:n,innerRef:e,...t})}),vB=wo.memo(bB),SB=typeof window<"u"?M.useLayoutEffect:M.useEffect,xB=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function EB(t){var e;const[n]=M.useState(()=>new xB(t.editor)),r=gC.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:fB);return SB(()=>n.watch(t.editor),[t.editor,n]),M.useDebugValue(r),r}var TB=!1,Vg=typeof window>"u",wB=Vg||!!(typeof window<"u"&&window.next),CB=class yC{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Vg||wB?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var o,l;return(l=(o=this.options.current).onBeforeCreate)==null?void 0:l.call(o,...r)},onBlur:(...r)=>{var o,l;return(l=(o=this.options.current).onBlur)==null?void 0:l.call(o,...r)},onCreate:(...r)=>{var o,l;return(l=(o=this.options.current).onCreate)==null?void 0:l.call(o,...r)},onDestroy:(...r)=>{var o,l;return(l=(o=this.options.current).onDestroy)==null?void 0:l.call(o,...r)},onFocus:(...r)=>{var o,l;return(l=(o=this.options.current).onFocus)==null?void 0:l.call(o,...r)},onSelectionUpdate:(...r)=>{var o,l;return(l=(o=this.options.current).onSelectionUpdate)==null?void 0:l.call(o,...r)},onTransaction:(...r)=>{var o,l;return(l=(o=this.options.current).onTransaction)==null?void 0:l.call(o,...r)},onUpdate:(...r)=>{var o,l;return(l=(o=this.options.current).onUpdate)==null?void 0:l.call(o,...r)},onContentError:(...r)=>{var o,l;return(l=(o=this.options.current).onContentError)==null?void 0:l.call(o,...r)},onDrop:(...r)=>{var o,l;return(l=(o=this.options.current).onDrop)==null?void 0:l.call(o,...r)},onPaste:(...r)=>{var o,l;return(l=(o=this.options.current).onPaste)==null?void 0:l.call(o,...r)},onDelete:(...r)=>{var o,l;return(l=(o=this.options.current).onDelete)==null?void 0:l.call(o,...r)}};return new Lz(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((o,l)=>{var a;return o===((a=n.extensions)==null?void 0:a[l])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?yC.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,o)=>r===e[o]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function MB(t={},e=[]){const n=M.useRef(t);n.current=t;const[r]=M.useState(()=>new CB(n)),o=qy.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return M.useDebugValue(o),M.useEffect(r.onRender(e)),EB({editor:o,selector:({transactionNumber:l})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&l===0?0:l+1}),o}var kB=M.createContext({editor:null});kB.Consumer;var AB=M.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),OB=()=>M.useContext(AB);wo.forwardRef((t,e)=>{const{onDragStart:n}=OB(),r=t.as||"div";return oe.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});wo.createContext({markViewContentRef:()=>{}});const Fy={clip:"rect(0 0 0 0)",overflow:"hidden",whiteSpace:"nowrap",position:"fixed",top:0,left:0,border:0,padding:0,width:1,height:1,margin:-1},Ux={};function Gr(t,e){const n=M.useRef(Ux);return n.current===Ux&&(n.current=t(e)),n}function Ao(t,e,n,r){const o=Gr(bC).current;return NB(o,t,e,n,r)&&vC(o,[t,e,n,r]),o.callback}function RB(t){const e=Gr(bC).current;return DB(e,t)&&vC(e,t),e.callback}function bC(){return{callback:null,cleanup:null,refs:[]}}function NB(t,e,n,r,o){return t.refs[0]!==e||t.refs[1]!==n||t.refs[2]!==r||t.refs[3]!==o}function DB(t,e){return t.refs.length!==e.length||t.refs.some((n,r)=>n!==e[r])}function vC(t,e){if(t.refs=e,e.every(n=>n==null)){t.callback=null;return}t.callback=n=>{if(t.cleanup&&(t.cleanup(),t.cleanup=null),n!=null){const r=Array(e.length).fill(null);for(let o=0;o<e.length;o+=1){const l=e[o];if(l!=null)switch(typeof l){case"function":{const a=l(n);typeof a=="function"&&(r[o]=a);break}case"object":{l.current=n;break}}}t.cleanup=()=>{for(let o=0;o<e.length;o+=1){const l=e[o];if(l!=null)switch(typeof l){case"function":{const a=r[o];typeof a=="function"?a():l(null);break}case"object":{l.current=null;break}}}}}}}function zB(t){const e=M.useRef(!0);e.current&&(e.current=!1,t())}function pd({controlled:t,default:e,name:n,state:r="value"}){const{current:o}=M.useRef(t!==void 0),[l,a]=M.useState(e),u=o?t:l,d=M.useCallback(h=>{o||a(h)},[]);return[u,d]}const LB=()=>{},Le=typeof document<"u"?M.useLayoutEffect:LB,Jm=DE[`useInsertionEffect${Math.random().toFixed(1)}`.slice(0,-3)],BB=Jm&&Jm!==M.useLayoutEffect?Jm:t=>t();function _e(t){const e=Gr(_B).current;return e.next=t,BB(e.effect),e.trampoline}function _B(){const t={next:void 0,callback:IB,trampoline:(...e)=>t.callback?.(...e),effect:()=>{t.callback=t.next}};return t}function IB(){}function En(t){const e=Gr(HB,t).current;return e.next=t,Le(e.effect),e}function HB(t){const e={current:t,next:t,effect:()=>{e.current=e.next}};return e}function Oi(t,...e){const n=new URL(`https://base-ui.com/production-error/${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Base UI error #${t}; visit ${n} for the full message.`}var md=Symbol("NOT_FOUND");function VB(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function jB(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function UB(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var Px=t=>Array.isArray(t)?t:[t];function PB(t){const e=Array.isArray(t[0])?t[0]:t;return UB(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function qB(t,e){const n=[],{length:r}=t;for(let o=0;o<r;o++)n.push(t[o].apply(null,e));return n}function FB(t){let e;return{get(n){return e&&t(e.key,n)?e.value:md},put(n,r){e={key:n,value:r}},getEntries(){return e?[e]:[]},clear(){e=void 0}}}function $B(t,e){let n=[];function r(u){const d=n.findIndex(h=>e(u,h.key));if(d>-1){const h=n[d];return d>0&&(n.splice(d,1),n.unshift(h)),h.value}return md}function o(u,d){r(u)===md&&(n.unshift({key:u,value:d}),n.length>t&&n.pop())}function l(){return n}function a(){n=[]}return{get:r,put:o,getEntries:l,clear:a}}var GB=(t,e)=>t===e;function KB(t){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;const{length:o}=n;for(let l=0;l<o;l++)if(!t(n[l],r[l]))return!1;return!0}}function YB(t,e){const n=typeof e=="object"?e:{equalityCheck:e},{equalityCheck:r=GB,maxSize:o=1,resultEqualityCheck:l}=n,a=KB(r);let u=0;const d=o<=1?FB(a):$B(o,a);function h(){let p=d.get(arguments);if(p===md){if(p=t.apply(null,arguments),u++,l){const b=d.getEntries().find(v=>l(v.value,p));b&&(p=b.value,u!==0&&u--)}d.put(arguments,p)}return p}return h.clearCache=()=>{d.clear(),h.resetResultsCount()},h.resultsCount=()=>u,h.resetResultsCount=()=>{u=0},h}var XB=class{constructor(t){this.value=t}deref(){return this.value}},WB=typeof WeakRef<"u"?WeakRef:XB,JB=0,qx=1;function nf(){return{s:JB,v:void 0,o:null,p:null}}function SC(t,e={}){let n=nf();const{resultEqualityCheck:r}=e;let o,l=0;function a(){let u=n;const{length:d}=arguments;for(let g=0,b=d;g<b;g++){const v=arguments[g];if(typeof v=="function"||typeof v=="object"&&v!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const E=S.get(v);E===void 0?(u=nf(),S.set(v,u)):u=E}else{let S=u.p;S===null&&(u.p=S=new Map);const E=S.get(v);E===void 0?(u=nf(),S.set(v,u)):u=E}}const h=u;let p;if(u.s===qx)p=u.v;else if(p=t.apply(null,arguments),l++,r){const g=o?.deref?.()??o;g!=null&&r(g,p)&&(p=g,l!==0&&l--),o=typeof p=="object"&&p!==null||typeof p=="function"?new WB(p):p}return h.s=qx,h.v=p,p}return a.clearCache=()=>{n=nf(),a.resetResultsCount()},a.resultsCount=()=>l,a.resetResultsCount=()=>{l=0},a}function xC(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...o)=>{let l=0,a=0,u,d={},h=o.pop();typeof h=="object"&&(d=h,h=o.pop()),VB(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...d},{memoize:g,memoizeOptions:b=[],argsMemoize:v=SC,argsMemoizeOptions:S=[]}=p,E=Px(b),T=Px(S),w=PB(o),k=g(function(){return l++,h.apply(null,arguments)},...E),A=v(function(){a++;const N=qB(w,arguments);return u=k.apply(null,N),u},...T);return Object.assign(A,{resultFunc:h,memoizedResultFunc:k,dependencies:w,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>u,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:g,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var QB=xC(SC),ZB=Object.assign((t,e=QB)=>{jB(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(l=>t[l]);return e(r,(...l)=>l.reduce((a,u,d)=>(a[n[d]]=u,a),{}))},{withTypes:()=>ZB});xC({memoize:YB,memoizeOptions:{maxSize:1,equalityCheck:Object.is}});const lt=(t,e,n,r,o,l,...a)=>{if(a.length>0)throw new Error(Oi(1));let u;if(t)u=t;else throw new Error("Missing arguments");return u},e_=parseInt(M.version,10);function $y(t){return e_>=t}const t_=$y(19),n_=t_?r_:i_;function qe(t,e,n,r,o){return n_(t,e,n,r,o)}function r_(t,e,n,r,o){const l=M.useCallback(()=>e(t.getSnapshot(),n,r,o),[t,e,n,r,o]);return qy.useSyncExternalStore(t.subscribe,l,l)}function i_(t,e,n,r,o){return gC.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getSnapshot,l=>e(l,n,r,o))}class El{constructor(e){this.state=e,this.listeners=new Set,this.updateTick=0}subscribe=e=>(this.listeners.add(e),()=>{this.listeners.delete(e)});getSnapshot=()=>this.state;setState(e){if(this.state===e)return;this.state=e,this.updateTick+=1;const n=this.updateTick;for(const r of this.listeners){if(n!==this.updateTick)return;r(e)}}update(e){for(const n in e)if(!Object.is(this.state[n],e[n])){El.prototype.setState.call(this,{...this.state,...e});return}}set(e,n){Object.is(this.state[e],n)||El.prototype.setState.call(this,{...this.state,[e]:n})}notifyAll(){const e={...this.state};El.prototype.setState.call(this,e)}}function ir(){}const Ss=Object.freeze([]),Kn=Object.freeze({});class o_ extends El{constructor(e,n={},r){super(e),this.context=n,this.selectors=r}controlledValues=new Map;useSyncedValue(e,n){M.useDebugValue(e),Le(()=>{this.state[e]!==n&&this.set(e,n)},[e,n])}useSyncedValueWithCleanup(e,n){Le(()=>(this.state[e]!==n&&this.set(e,n),()=>{this.set(e,void 0)}),[e,n])}useSyncedValues(e){const n=Object.values(e);Le(()=>{this.update(e)},n)}useControlledProp(e,n,r){M.useDebugValue(e);const o=n!==void 0;this.controlledValues.has(e)||(this.controlledValues.set(e,o),!o&&!Object.is(this.state[e],r)&&super.setState({...this.state,[e]:r})),Le(()=>{o&&!Object.is(this.state[e],n)&&super.setState({...this.state,[e]:n})},[e,n,r,o])}set(e,n){this.controlledValues.get(e)!==!0&&super.set(e,n)}update(e){const n={...e};for(const r in n)if(Object.hasOwn(n,r)&&this.controlledValues.get(r)===!0){delete n[r];continue}super.update(n)}setState(e){const n={...e};for(const r in n)if(Object.hasOwn(n,r)&&this.controlledValues.get(r)===!0){delete n[r];continue}super.setState({...this.state,...n})}select=(e,n,r,o)=>{const l=this.selectors[e];return l(this.state,n,r,o)};useState=(e,n,r,o)=>{M.useDebugValue(e);const l=this.selectors[e];return qe(this,l,n,r,o)};useContextCallback(e,n){M.useDebugValue(e);const r=_e(n??ir);this.context[e]=r}useStateSetter(e){const n=M.useRef(void 0);return n.current===void 0&&(n.current=r=>{this.set(e,r)}),n.current}observe(e,n){let r;typeof e=="function"?r=e:r=this.selectors[e];let o=r(this.state);return n(o,o,this),this.subscribe(l=>{const a=r(l);if(!Object.is(o,a)){const u=o;o=a,n(a,u,this)}})}}const s_=[];function EC(t){M.useEffect(t,s_)}const rf=null;class l_{callbacks=[];callbacksCount=0;nextId=1;startId=1;isScheduled=!1;tick=e=>{this.isScheduled=!1;const n=this.callbacks,r=this.callbacksCount;if(this.callbacks=[],this.callbacksCount=0,this.startId=this.nextId,r>0)for(let o=0;o<n.length;o+=1)n[o]?.(e)};request(e){const n=this.nextId;return this.nextId+=1,this.callbacks.push(e),this.callbacksCount+=1,!this.isScheduled&&(requestAnimationFrame(this.tick),this.isScheduled=!0),n}cancel(e){const n=e-this.startId;n<0||n>=this.callbacks.length||(this.callbacks[n]=null,this.callbacksCount-=1)}}const of=new l_;class Pr{static create(){return new Pr}static request(e){return of.request(e)}static cancel(e){return of.cancel(e)}currentId=rf;request(e){this.cancel(),this.currentId=of.request(()=>{this.currentId=rf,e()})}cancel=()=>{this.currentId!==rf&&(of.cancel(this.currentId),this.currentId=rf)};disposeEffect=()=>this.cancel}function $d(){const t=Gr(Pr.create).current;return EC(t.disposeEffect),t}const ja=0;class _l{static create(){return new _l}currentId=ja;start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=ja,n()},e)}isStarted(){return this.currentId!==ja}clear=()=>{this.currentId!==ja&&(clearTimeout(this.currentId),this.currentId=ja)};disposeEffect=()=>this.clear}function or(){const t=Gr(_l.create).current;return EC(t.disposeEffect),t}function Gd(){return typeof window<"u"}function Lo(t){return Gy(t)?(t.nodeName||"").toLowerCase():"#document"}function tn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Kr(t){var e;return(e=(Gy(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Gy(t){return Gd()?t instanceof Node||t instanceof tn(t).Node:!1}function Mt(t){return Gd()?t instanceof Element||t instanceof tn(t).Element:!1}function Ht(t){return Gd()?t instanceof HTMLElement||t instanceof tn(t).HTMLElement:!1}function jg(t){return!Gd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof tn(t).ShadowRoot}const a_=new Set(["inline","contents"]);function Cs(t){const{overflow:e,overflowX:n,overflowY:r,display:o}=ar(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!a_.has(o)}const c_=new Set(["table","td","th"]);function u_(t){return c_.has(Lo(t))}const f_=[":popover-open",":modal"];function Kd(t){return f_.some(e=>{try{return t.matches(e)}catch{return!1}})}const d_=["transform","translate","scale","rotate","perspective"],h_=["transform","translate","scale","rotate","perspective","filter"],p_=["paint","layout","strict","content"];function Ky(t){const e=Yd(),n=Mt(t)?ar(t):t;return d_.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||h_.some(r=>(n.willChange||"").includes(r))||p_.some(r=>(n.contain||"").includes(r))}function m_(t){let e=Mi(t);for(;Ht(e)&&!Ci(e);){if(Ky(e))return e;if(Kd(e))return null;e=Mi(e)}return null}function Yd(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const g_=new Set(["html","body","#document"]);function Ci(t){return g_.has(Lo(t))}function ar(t){return tn(t).getComputedStyle(t)}function Xd(t){return Mt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Mi(t){if(Lo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||jg(t)&&t.host||Kr(t);return jg(e)?e.host:e}function TC(t){const e=Mi(t);return Ci(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ht(e)&&Cs(e)?e:TC(e)}function So(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=TC(t),l=o===((r=t.ownerDocument)==null?void 0:r.body),a=tn(o);if(l){const u=Ug(a);return e.concat(a,a.visualViewport||[],Cs(o)?o:[],u&&n?So(u):[])}return e.concat(o,So(o,[],n))}function Ug(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Ul=typeof navigator<"u",Qm=S_(),wC=E_(),CC=x_(),MC=typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter:none"),y_=Qm.platform==="MacIntel"&&Qm.maxTouchPoints>1?!0:/iP(hone|ad|od)|iOS/.test(Qm.platform),b_=Ul&&/apple/i.test(navigator.vendor),Pg=Ul&&/android/i.test(wC)||/android/i.test(CC);Ul&&wC.toLowerCase().startsWith("mac")&&navigator.maxTouchPoints;const v_=CC.includes("jsdom/");function S_(){if(!Ul)return{platform:"",maxTouchPoints:-1};const t=navigator.userAgentData;return t?.platform?{platform:t.platform,maxTouchPoints:navigator.maxTouchPoints}:{platform:navigator.platform??"",maxTouchPoints:navigator.maxTouchPoints??-1}}function x_(){if(!Ul)return"";const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(({brand:e,version:n})=>`${e}/${n}`).join(" "):navigator.userAgent}function E_(){if(!Ul)return"";const t=navigator.userAgentData;return t?.platform?t.platform:navigator.platform??""}const qg="data-base-ui-focusable",kC="active",AC="selected",T_="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])",xo="ArrowLeft",Eo="ArrowRight",Yy="ArrowUp",Cc="ArrowDown";function co(t){let e=t.activeElement;for(;e?.shadowRoot?.activeElement!=null;)e=e.shadowRoot.activeElement;return e}function Nt(t,e){if(!t||!e)return!1;const n=e.getRootNode?.();if(t.contains(e))return!0;if(n&&jg(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function Dr(t){return"composedPath"in t?t.composedPath()[0]:t.target}function Nr(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function w_(t){return t.matches("html,body")}function Ln(t){return t?.ownerDocument||document}function OC(t){return Ht(t)&&t.matches(T_)}function Fg(t){return t?t.getAttribute("role")==="combobox"&&OC(t):!1}function gd(t){return t?t.hasAttribute(qg)?t:t.querySelector(`[${qg}]`)||t:null}function Tl(t,e,n=!0){return t.filter(o=>o.parentId===e&&(!n||o.context?.open)).flatMap(o=>[o,...Tl(t,o.id,n)])}function Fx(t,e){let n=[],r=t.find(o=>o.id===e)?.parentId;for(;r;){const o=t.find(l=>l.id===r);r=o?.parentId,o&&(n=n.concat(o))}return n}function An(t){t.preventDefault(),t.stopPropagation()}function C_(t){return"nativeEvent"in t}function RC(t){return t.mozInputSource===0&&t.isTrusted?!0:Pg&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function NC(t){return v_?!1:!Pg&&t.width===0&&t.height===0||Pg&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function $x(t,e){return["mouse","pen"].includes(t)}function DC(t){const e=t.type;return e==="click"||e==="mousedown"||e==="keydown"||e==="keyup"}const M_=["top","right","bottom","left"],Il=Math.min,nr=Math.max,yd=Math.round,vl=Math.floor,qr=t=>({x:t,y:t}),k_={left:"right",right:"left",bottom:"top",top:"bottom"},A_={start:"end",end:"start"};function $g(t,e,n){return nr(t,Il(e,n))}function ki(t,e){return typeof t=="function"?t(e):t}function lr(t){return t.split("-")[0]}function Bo(t){return t.split("-")[1]}function Xy(t){return t==="x"?"y":"x"}function Wy(t){return t==="y"?"height":"width"}const O_=new Set(["top","bottom"]);function Cr(t){return O_.has(lr(t))?"y":"x"}function Jy(t){return Xy(Cr(t))}function R_(t,e,n){n===void 0&&(n=!1);const r=Bo(t),o=Jy(t),l=Wy(o);let a=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(a=bd(a)),[a,bd(a)]}function N_(t){const e=bd(t);return[Gg(t),e,Gg(e)]}function Gg(t){return t.replace(/start|end/g,e=>A_[e])}const Gx=["left","right"],Kx=["right","left"],D_=["top","bottom"],z_=["bottom","top"];function L_(t,e,n){switch(t){case"top":case"bottom":return n?e?Kx:Gx:e?Gx:Kx;case"left":case"right":return e?D_:z_;default:return[]}}function B_(t,e,n,r){const o=Bo(t);let l=L_(lr(t),n==="start",r);return o&&(l=l.map(a=>a+"-"+o),e&&(l=l.concat(l.map(Gg)))),l}function bd(t){return t.replace(/left|right|bottom|top/g,e=>k_[e])}function __(t){return{top:0,right:0,bottom:0,left:0,...t}}function zC(t){return typeof t!="number"?__(t):{top:t,right:t,bottom:t,left:t}}function vd(t){const{x:e,y:n,width:r,height:o}=t;return{width:r,height:o,top:n,left:e,right:e+r,bottom:n+o,x:e,y:n}}function sf(t,e,n){return Math.floor(t/e)!==n}function wl(t,e){return e<0||e>=t.current.length}function xf(t,e){return vn(t,{disabledIndices:e})}function Kg(t,e){return vn(t,{decrement:!0,startingIndex:t.current.length,disabledIndices:e})}function vn(t,{startingIndex:e=-1,decrement:n=!1,disabledIndices:r,amount:o=1}={}){let l=e;do l+=n?-o:o;while(l>=0&&l<=t.current.length-1&&To(t,l,r));return l}function LC(t,{event:e,orientation:n,loopFocus:r,rtl:o,cols:l,disabledIndices:a,minIndex:u,maxIndex:d,prevIndex:h,stopEvent:p=!1}){let g=h;const b=[],v={};let S=!1;{let w=null,k=-1;t.current.forEach((A,O)=>{if(A==null)return;const N=A.closest('[role="row"]');N&&(S=!0),(N!==w||k===-1)&&(w=N,k+=1,b[k]=[]),b[k].push(O),v[O]=k})}const E=S&&b.length>0&&b.some(w=>w.length!==l);function T(w){if(!E||h===-1)return;const k=v[h];if(k==null)return;const A=b[k].indexOf(h);let O=w==="up"?k-1:k+1;r&&(O<0?O=b.length-1:O>=b.length&&(O=0));const N=new Set;for(;O>=0&&O<b.length&&!N.has(O);){N.add(O);const H=b[O];if(H.length===0){O=w==="up"?O-1:O+1;continue}const z=Math.min(A,H.length-1);for(let I=z;I>=0;I-=1){const K=H[I];if(!To(t,K,a))return K}O=w==="up"?O-1:O+1,r&&(O<0?O=b.length-1:O>=b.length&&(O=0))}}if(e.key===Yy){const w=T("up");if(w!==void 0)p&&An(e),g=w;else{if(p&&An(e),h===-1)g=d;else if(g=vn(t,{startingIndex:g,amount:l,decrement:!0,disabledIndices:a}),r&&(h-l<u||g<0)){const k=h%l,A=d%l,O=d-(A-k);A===k?g=d:g=A>k?O:O-l}wl(t,g)&&(g=h)}}if(e.key===Cc){const w=T("down");w!==void 0?(p&&An(e),g=w):(p&&An(e),h===-1?g=u:(g=vn(t,{startingIndex:h,amount:l,disabledIndices:a}),r&&h+l>d&&(g=vn(t,{startingIndex:h%l-l,amount:l,disabledIndices:a}))),wl(t,g)&&(g=h))}if(n==="both"){const w=vl(h/l);e.key===(o?xo:Eo)&&(p&&An(e),h%l!==l-1?(g=vn(t,{startingIndex:h,disabledIndices:a}),r&&sf(g,l,w)&&(g=vn(t,{startingIndex:h-h%l-1,disabledIndices:a}))):r&&(g=vn(t,{startingIndex:h-h%l-1,disabledIndices:a})),sf(g,l,w)&&(g=h)),e.key===(o?Eo:xo)&&(p&&An(e),h%l!==0?(g=vn(t,{startingIndex:h,decrement:!0,disabledIndices:a}),r&&sf(g,l,w)&&(g=vn(t,{startingIndex:h+(l-h%l),decrement:!0,disabledIndices:a}))):r&&(g=vn(t,{startingIndex:h+(l-h%l),decrement:!0,disabledIndices:a})),sf(g,l,w)&&(g=h));const k=vl(d/l)===w;wl(t,g)&&(r&&k?g=e.key===(o?Eo:xo)?d:vn(t,{startingIndex:h-h%l-1,disabledIndices:a}):g=h)}return g}function BC(t,e,n){const r=[];let o=0;return t.forEach(({width:l,height:a},u)=>{let d=!1;for(n&&(o=0);!d;){const h=[];for(let p=0;p<l;p+=1)for(let g=0;g<a;g+=1)h.push(o+p+g*e);o%e+l<=e&&h.every(p=>r[p]==null)?(h.forEach(p=>{r[p]=u}),d=!0):o+=1}}),[...r]}function _C(t,e,n,r,o){if(t===-1)return-1;const l=n.indexOf(t),a=e[t];switch(o){case"tl":return l;case"tr":return a?l+a.width-1:l;case"bl":return a?l+(a.height-1)*r:l;case"br":return n.lastIndexOf(t);default:return-1}}function IC(t,e){return e.flatMap((n,r)=>t.includes(n)?[r]:[])}function To(t,e,n){if(typeof n=="function")return n(e);if(n)return n.includes(e);const r=t.current[e];return r?r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true":!1}var I_=["input:not([inert]):not([inert] *)","select:not([inert]):not([inert] *)","textarea:not([inert]):not([inert] *)","a[href]:not([inert]):not([inert] *)","button:not([inert]):not([inert] *)","[tabindex]:not(slot):not([inert]):not([inert] *)","audio[controls]:not([inert]):not([inert] *)","video[controls]:not([inert]):not([inert] *)",'[contenteditable]:not([contenteditable="false"]):not([inert]):not([inert] *)',"details>summary:first-of-type:not([inert]):not([inert] *)","details:not([inert]):not([inert] *)"],Sd=I_.join(","),HC=typeof Element>"u",Hl=HC?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,xd=!HC&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},Ed=function(e,n){var r;n===void 0&&(n=!0);var o=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),l=o===""||o==="true",a=l||n&&e&&(typeof e.closest=="function"?e.closest("[inert]"):Ed(e.parentNode));return a},H_=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},VC=function(e,n,r){if(Ed(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(Sd));return n&&Hl.call(e,Sd)&&o.unshift(e),o=o.filter(r),o},Td=function(e,n,r){for(var o=[],l=Array.from(e);l.length;){var a=l.shift();if(!Ed(a,!1))if(a.tagName==="SLOT"){var u=a.assignedElements(),d=u.length?u:a.children,h=Td(d,!0,r);r.flatten?o.push.apply(o,h):o.push({scopeParent:a,candidates:h})}else{var p=Hl.call(a,Sd);p&&r.filter(a)&&(n||!e.includes(a))&&o.push(a);var g=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),b=!Ed(g,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(g&&b){var v=Td(g===!0?a.children:g.children,!0,r);r.flatten?o.push.apply(o,v):o.push({scopeParent:a,candidates:v})}else l.unshift.apply(l,a.children)}}return o},jC=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},UC=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||H_(e))&&!jC(e)?0:e.tabIndex},V_=function(e,n){var r=UC(e);return r<0&&n&&!jC(e)?0:r},j_=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},PC=function(e){return e.tagName==="INPUT"},U_=function(e){return PC(e)&&e.type==="hidden"},P_=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},q_=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},F_=function(e){if(!e.name)return!0;var n=e.form||xd(e),r=function(u){return n.querySelectorAll('input[type="radio"][name="'+u+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(e.name));else try{o=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var l=q_(o,e.form);return!l||l===e},$_=function(e){return PC(e)&&e.type==="radio"},G_=function(e){return $_(e)&&!F_(e)},K_=function(e){var n,r=e&&xd(e),o=(n=r)===null||n===void 0?void 0:n.host,l=!1;if(r&&r!==e){var a,u,d;for(l=!!((a=o)!==null&&a!==void 0&&(u=a.ownerDocument)!==null&&u!==void 0&&u.contains(o)||e!=null&&(d=e.ownerDocument)!==null&&d!==void 0&&d.contains(e));!l&&o;){var h,p,g;r=xd(o),o=(h=r)===null||h===void 0?void 0:h.host,l=!!((p=o)!==null&&p!==void 0&&(g=p.ownerDocument)!==null&&g!==void 0&&g.contains(o))}}return l},Yx=function(e){var n=e.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},Y_=function(e,n){var r=n.displayCheck,o=n.getShadowRoot;if(r==="full-native"&&"checkVisibility"in e){var l=e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!l}if(getComputedStyle(e).visibility==="hidden")return!0;var a=Hl.call(e,"details>summary:first-of-type"),u=a?e.parentElement:e;if(Hl.call(u,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="full-native"||r==="legacy-full"){if(typeof o=="function"){for(var d=e;e;){var h=e.parentElement,p=xd(e);if(h&&!h.shadowRoot&&o(h)===!0)return Yx(e);e.assignedSlot?e=e.assignedSlot:!h&&p!==e.ownerDocument?e=p.host:e=h}e=d}if(K_(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Yx(e);return!1},X_=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return Hl.call(n,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}n=n.parentElement}return!1},Yg=function(e,n){return!(n.disabled||U_(n)||Y_(n,e)||P_(n)||X_(n))},Xg=function(e,n){return!(G_(n)||UC(n)<0||!Yg(e,n))},W_=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},qC=function(e){var n=[],r=[];return e.forEach(function(o,l){var a=!!o.scopeParent,u=a?o.scopeParent:o,d=V_(u,a),h=a?qC(o.candidates):u;d===0?a?n.push.apply(n,h):n.push(u):r.push({documentOrder:l,tabIndex:d,item:o,isScope:a,content:h})}),r.sort(j_).reduce(function(o,l){return l.isScope?o.push.apply(o,l.content):o.push(l.content),o},[]).concat(n)},Wd=function(e,n){n=n||{};var r;return n.getShadowRoot?r=Td([e],n.includeContainer,{filter:Xg.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:W_}):r=VC(e,n.includeContainer,Xg.bind(null,n)),qC(r)},J_=function(e,n){n=n||{};var r;return n.getShadowRoot?r=Td([e],n.includeContainer,{filter:Yg.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=VC(e,n.includeContainer,Yg.bind(null,n)),r},FC=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Hl.call(e,Sd)===!1?!1:Xg(n,e)};const Mc=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function $C(t,e){const n=Wd(t,Mc()),r=n.length;if(r===0)return;const o=co(Ln(t)),l=n.indexOf(o),a=l===-1?e===1?0:r-1:l+e;return n[a]}function GC(t){return $C(Ln(t).body,1)||t}function KC(t){return $C(Ln(t).body,-1)||t}function ic(t,e){const n=e||t.currentTarget,r=t.relatedTarget;return!r||!Nt(n,r)}function Q_(t){Wd(t,Mc()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function Xx(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const Z_={...DE};let Wx=0;function eI(t,e="mui"){const[n,r]=M.useState(t),o=t||n;return M.useEffect(()=>{n==null&&(Wx+=1,r(`${e}-${Wx}`))},[n,e]),o}const Jx=Z_.useId;function Qy(t,e){if(Jx!==void 0){const n=Jx();return t??(e?`${e}-${n}`:n)}return eI(t,e)}function tI(){const t=new Map;return{emit(e,n){t.get(e)?.forEach(r=>r(n))},on(e,n){t.has(e)||t.set(e,new Set),t.get(e).add(n)},off(e,n){t.get(e)?.delete(n)}}}const nI=M.createContext(null),rI=M.createContext(null),YC=()=>M.useContext(nI)?.id||null,Jd=t=>{const e=M.useContext(rI);return t??e},iI={style:{transition:"none"}},oI="data-base-ui-click-trigger",sI={fallbackAxisSide:"none"},lI={clipPath:"inset(50%)",position:"fixed",top:0,left:0},Qd="none",oc="trigger-press",aI="trigger-hover",XC="outside-press",Zm="item-press",Zd="focus-out",cI="escape-key",eg="list-navigation",uI="cancel-open",fI="window-resize";function kt(t,e,n,r){let o=!1,l=!1;const a=Kn;return{reason:t,event:e??new Event("base-ui"),cancel(){o=!0},allowPropagation(){l=!0},get isCanceled(){return o},get isPropagationAllowed(){return l},trigger:n,...a}}function wd(t){return`data-base-ui-${t}`}function Oo(t){return t?.ownerDocument||document}const Cd=M.forwardRef(function(e,n){const[r,o]=M.useState();Le(()=>{b_&&o("button")},[]);const l={tabIndex:0,role:r};return oe.jsx("span",{...e,ref:n,style:Fy,"aria-hidden":r?void 0:!0,...l,"data-base-ui-focus-guard":""})});let Qx=0;function Ef(t,e={}){const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=e;r&&cancelAnimationFrame(Qx);const l=()=>t?.focus({preventScroll:n});o?l():Qx=requestAnimationFrame(l)}const Cl={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};function Zx(t){return t==="inert"?Cl.inert:t==="aria-hidden"?Cl["aria-hidden"]:Cl.none}let lf=new WeakSet,af={},tg=0;const WC=t=>t&&(t.host||WC(t.parentNode)),dI=(t,e)=>e.map(n=>{if(t.contains(n))return n;const r=WC(n);return t.contains(r)?r:null}).filter(n=>n!=null);function hI(t,e,n,r){const o="data-base-ui-inert",l=r?"inert":n?"aria-hidden":null,a=dI(e,t),u=new Set,d=new Set(a),h=[];af[o]||(af[o]=new WeakMap);const p=af[o];a.forEach(g),b(e),u.clear();function g(v){!v||u.has(v)||(u.add(v),v.parentNode&&g(v.parentNode))}function b(v){!v||d.has(v)||[].forEach.call(v.children,S=>{if(Lo(S)!=="script")if(u.has(S))b(S);else{const E=l?S.getAttribute(l):null,T=E!==null&&E!=="false",w=Zx(l),k=(w.get(S)||0)+1,A=(p.get(S)||0)+1;w.set(S,k),p.set(S,A),h.push(S),k===1&&T&&lf.add(S),A===1&&S.setAttribute(o,""),!T&&l&&S.setAttribute(l,l==="inert"?"":"true")}})}return tg+=1,()=>{h.forEach(v=>{const S=Zx(l),T=(S.get(v)||0)-1,w=(p.get(v)||0)-1;S.set(v,T),p.set(v,w),T||(!lf.has(v)&&l&&v.removeAttribute(l),lf.delete(v)),w||v.removeAttribute(o)}),tg-=1,tg||(Cl.inert=new WeakMap,Cl["aria-hidden"]=new WeakMap,Cl.none=new WeakMap,lf=new WeakSet,af={})}}function pI(t,e=!1,n=!1){const r=Ln(t[0]).body;return hI(t.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,n)}function eE(t){if(!M.isValidElement(t))return null;const e=t,n=e.props;return($y(19)?n?.ref:e.ref)??null}function Wg(t,e){if(t&&!e)return t;if(!t&&e)return e;if(t||e)return{...t,...e}}function mI(t,e){const n={};for(const r in t){const o=t[r];if(e?.hasOwnProperty(r)){const l=e[r](o);l!=null&&Object.assign(n,l);continue}o===!0?n[`data-${r.toLowerCase()}`]="":o&&(n[`data-${r.toLowerCase()}`]=o.toString())}return n}function gI(t,e){return typeof t=="function"?t(e):t}function yI(t,e){return typeof t=="function"?t(e):t}const sc={};function eh(t,e,n,r,o){let l={...Jg(t,sc)};return e&&(l=Ga(l,e)),n&&(l=Ga(l,n)),r&&(l=Ga(l,r)),o&&(l=Ga(l,o)),l}function bI(t){if(t.length===0)return sc;if(t.length===1)return Jg(t[0],sc);let e={...Jg(t[0],sc)};for(let n=1;n<t.length;n+=1)e=Ga(e,t[n]);return e}function Ga(t,e){return JC(e)?e(t):vI(t,e)}function vI(t,e){if(!e)return t;for(const n in e){const r=e[n];switch(n){case"style":{t[n]=Wg(t.style,r);break}case"className":{t[n]=QC(t.className,r);break}default:SI(n,r)?t[n]=xI(t[n],r):t[n]=r}}return t}function SI(t,e){const n=t.charCodeAt(0),r=t.charCodeAt(1),o=t.charCodeAt(2);return n===111&&r===110&&o>=65&&o<=90&&(typeof e=="function"||typeof e>"u")}function JC(t){return typeof t=="function"}function Jg(t,e){return JC(t)?t(e):t??sc}function xI(t,e){return e?t?n=>{if(EI(n)){const o=n;Qg(o);const l=e(o);return o.baseUIHandlerPrevented||t?.(o),l}const r=e(n);return t?.(n),r}:e:t}function Qg(t){return t.preventBaseUIHandler=()=>{t.baseUIHandlerPrevented=!0},t}function QC(t,e){return e?t?e+" "+t:e:t}function EI(t){return t!=null&&typeof t=="object"&&"nativeEvent"in t}function Nn(t,e,n={}){const r=e.render,o=TI(e,n);if(n.enabled===!1)return null;const l=n.state??Kn;return wI(t,r,o,l)}function TI(t,e={}){const{className:n,style:r,render:o}=t,{state:l=Kn,ref:a,props:u,stateAttributesMapping:d,enabled:h=!0}=e,p=h?gI(n,l):void 0,g=h?yI(r,l):void 0,b=h?mI(l,d):Kn,v=h?Wg(b,Array.isArray(u)?bI(u):u)??Kn:Kn;return typeof document<"u"&&(h?Array.isArray(a)?v.ref=RB([v.ref,eE(o),...a]):v.ref=Ao(v.ref,eE(o),a):Ao(null,null)),h?(p!==void 0&&(v.className=QC(v.className,p)),g!==void 0&&(v.style=Wg(v.style,g)),v):Kn}function wI(t,e,n,r){if(e){if(typeof e=="function")return e(n,r);const o=eh(n,e.props);return o.ref=n.ref,M.cloneElement(e,o)}if(t&&typeof t=="string")return CI(t,n);throw new Error(Oi(8))}function CI(t,e){return t==="button"?M.createElement("button",{type:"button",...e,key:e.key}):t==="img"?M.createElement("img",{alt:"",...e,key:e.key}):M.createElement(t,e)}const ZC=M.createContext(null),eM=()=>M.useContext(ZC),MI=wd("portal");function kI(t={}){const{ref:e,container:n,componentProps:r=Kn,elementProps:o,elementState:l}=t,a=Qy(),d=eM()?.portalNode,[h,p]=M.useState(null),[g,b]=M.useState(null),v=M.useRef(null);Le(()=>{if(n===null){v.current&&(v.current=null,b(null),p(null));return}if(a==null)return;const T=(n&&(Gy(n)?n:n.current))??d??document.body;if(T==null){v.current&&(v.current=null,b(null),p(null));return}v.current!==T&&(v.current=T,b(null),p(T))},[n,d,a]);const S=Nn("div",r,{ref:[e,b],state:l,props:[{id:a,[MI]:""},o]});return{portalNode:g,portalSubtree:h&&S?ko.createPortal(S,h):null}}const AI=M.forwardRef(function(e,n){const{children:r,container:o,className:l,render:a,renderGuards:u,...d}=e,{portalNode:h,portalSubtree:p}=kI({container:o,ref:n,componentProps:e,elementProps:d}),g=M.useRef(null),b=M.useRef(null),v=M.useRef(null),S=M.useRef(null),[E,T]=M.useState(null),w=E?.modal,k=E?.open,A=typeof u=="boolean"?u:!!E&&!E.modal&&E.open&&!!h;M.useEffect(()=>{if(!h||w)return;function N(H){h&&ic(H)&&(H.type==="focusin"?Xx:Q_)(h)}return h.addEventListener("focusin",N,!0),h.addEventListener("focusout",N,!0),()=>{h.removeEventListener("focusin",N,!0),h.removeEventListener("focusout",N,!0)}},[h,w]),M.useEffect(()=>{!h||k||Xx(h)},[k,h]);const O=M.useMemo(()=>({beforeOutsideRef:g,afterOutsideRef:b,beforeInsideRef:v,afterInsideRef:S,portalNode:h,setFocusManagerState:T}),[h]);return oe.jsxs(M.Fragment,{children:[p,oe.jsxs(ZC.Provider,{value:O,children:[A&&h&&oe.jsx(Cd,{"data-type":"outside",ref:g,onFocus:N=>{if(ic(N,h))v.current?.focus();else{const H=E?E.domReference:null;KC(H)?.focus()}}}),A&&h&&oe.jsx("span",{"aria-owns":h.id,style:lI}),h&&ko.createPortal(r,h),A&&h&&oe.jsx(Cd,{"data-type":"outside",ref:b,onFocus:N=>{if(ic(N,h))S.current?.focus();else{const H=E?E.domReference:null;GC(H)?.focus(),E?.closeOnFocusOut&&E?.onOpenChange(!1,kt(Zd,N.nativeEvent))}}})]})]})});function ns(t){return t==null?t:"current"in t?t.current:t}function OI(t,e){const n=tn(t.target);return t instanceof n.KeyboardEvent?"keyboard":t instanceof n.FocusEvent?e||"keyboard":"pointerType"in t?t.pointerType||"keyboard":"touches"in t?"touch":t instanceof n.MouseEvent?e||(t.detail===0?"keyboard":"mouse"):""}const tE=20;let po=[];function Zy(){po=po.filter(t=>t.isConnected)}function RI(t){Zy(),t&&Lo(t)!=="body"&&(po.push(t),po.length>tE&&(po=po.slice(-tE)))}function ng(){return Zy(),po[po.length-1]}function NI(t){if(!t)return null;const e=Mc();return FC(t,e)?t:Wd(t,e)[0]||t}function DI(t){return!t||!t.isConnected?!1:typeof t.checkVisibility=="function"?t.checkVisibility():ar(t).display!=="none"}function nE(t,e){if(!e.current.includes("floating")&&!t.getAttribute("role")?.includes("dialog"))return;const n=Mc(),o=J_(t,n).filter(a=>{const u=a.getAttribute("data-tabindex")||"";return FC(a,n)||a.hasAttribute("data-tabindex")&&!u.startsWith("-")}),l=t.getAttribute("tabindex");e.current.includes("floating")||o.length===0?l!=="0"&&t.setAttribute("tabindex","0"):(l!=="-1"||t.hasAttribute("data-tabindex")&&t.getAttribute("data-tabindex")!=="-1")&&(t.setAttribute("tabindex","-1"),t.setAttribute("data-tabindex","-1"))}function zI(t){const{context:e,children:n,disabled:r=!1,order:o=["content"],initialFocus:l=!0,returnFocus:a=!0,restoreFocus:u=!1,modal:d=!0,closeOnFocusOut:h=!0,openInteractionType:p="",getInsideElements:g=()=>[],nextFocusableElement:b,previousFocusableElement:v,beforeContentFocusGuardRef:S,externalTree:E}=t,T="rootStore"in e?e.rootStore:e,w=T.useState("open"),k=T.useState("domReferenceElement"),A=T.useState("floatingElement"),{events:O,dataRef:N}=T.context,H=_e(()=>N.current.floatingContext?.nodeId),z=_e(g),I=l===!1,K=Fg(k)&&I,se=En(o),ce=En(l),ue=En(a),me=En(p),ee=Jd(E),G=eM(),L=M.useRef(null),q=M.useRef(null),B=M.useRef(!1),X=M.useRef(!1),ne=M.useRef(!1),R=M.useRef(-1),F=M.useRef(""),j=M.useRef(""),Q=or(),he=or(),ae=$d(),J=G!=null,pe=gd(A),Ee=_e((fe=pe)=>fe?Wd(fe,Mc()):[]),Ue=_e(fe=>{const ve=Ee(fe);return se.current.map(()=>ve).filter(Boolean).flat()});M.useEffect(()=>{if(r||!d)return;function fe(je){je.key==="Tab"&&Nt(pe,co(Ln(pe)))&&Ee().length===0&&!K&&An(je)}const ve=Ln(pe);return ve.addEventListener("keydown",fe),()=>{ve.removeEventListener("keydown",fe)}},[r,k,pe,d,se,K,Ee,Ue]),M.useEffect(()=>{if(r||!A)return;function fe(ve){const je=Dr(ve),Re=Ee().indexOf(je);Re!==-1&&(R.current=Re)}return A.addEventListener("focusin",fe),()=>{A.removeEventListener("focusin",fe)}},[r,A,Ee]),M.useEffect(()=>{if(r||!w)return;const fe=Ln(pe);function ve(){ne.current=!1}function je(Re){const re=Dr(Re),Ne=Nt(A,re)||Nt(k,re)||Nt(G?.portalNode,re);ne.current=!Ne,j.current=Re.pointerType||"keyboard"}function Ae(){j.current="keyboard"}return fe.addEventListener("pointerdown",je,!0),fe.addEventListener("pointerup",ve,!0),fe.addEventListener("pointercancel",ve,!0),fe.addEventListener("keydown",Ae,!0),()=>{fe.removeEventListener("pointerdown",je,!0),fe.removeEventListener("pointerup",ve,!0),fe.removeEventListener("pointercancel",ve,!0),fe.removeEventListener("keydown",Ae,!0)}},[r,A,k,pe,w,G]),M.useEffect(()=>{if(r||!h)return;function fe(){X.current=!0,he.start(0,()=>{X.current=!1})}function ve(re){const Ne=re.relatedTarget,ge=re.currentTarget,Se=Dr(re);queueMicrotask(()=>{const ye=H(),Je=T.context.triggerElements,it=!(Nt(k,Ne)||Nt(A,Ne)||Nt(Ne,A)||Nt(G?.portalNode,Ne)||Ne!=null&&Je.hasElement(Ne)||Je.hasMatchingElement(Ge=>Nt(Ge,Ne))||Ne?.hasAttribute(wd("focus-guard"))||ee&&(Tl(ee.nodesRef.current,ye).find(Ge=>Nt(Ge.context?.elements.floating,Ne)||Nt(Ge.context?.elements.domReference,Ne))||Fx(ee.nodesRef.current,ye).find(Ge=>[Ge.context?.elements.floating,gd(Ge.context?.elements.floating)].includes(Ne)||Ge.context?.elements.domReference===Ne)));if(ge===k&&pe&&nE(pe,se),u&&ge!==k&&!DI(Se)&&co(Ln(pe))===Ln(pe).body){if(Ht(pe)&&(pe.focus(),u==="popup")){ae.request(()=>{pe.focus()});return}const Ge=R.current,Dt=Ee(),Ot=Dt[Ge]||Dt[Dt.length-1]||pe;Ht(Ot)&&Ot.focus()}if(N.current.insideReactTree){N.current.insideReactTree=!1;return}(K||!d)&&Ne&&it&&!X.current&&(K||Ne!==ng())&&(B.current=!0,T.setOpen(!1,kt(Zd,re)))})}function je(){ne.current||(N.current.insideReactTree=!0,Q.start(0,()=>{N.current.insideReactTree=!1}))}const Ae=Ht(k)?k:null,Re=[];if(!(!A&&!Ae))return Ae&&(Ae.addEventListener("focusout",ve),Ae.addEventListener("pointerdown",fe),Re.push(()=>{Ae.removeEventListener("focusout",ve),Ae.removeEventListener("pointerdown",fe)})),A&&(A.addEventListener("focusout",ve),G&&(A.addEventListener("focusout",je,!0),Re.push(()=>{A.removeEventListener("focusout",je,!0)})),Re.push(()=>{A.removeEventListener("focusout",ve)})),()=>{Re.forEach(re=>{re()})}},[r,k,A,pe,d,ee,G,T,h,u,Ee,K,H,se,N,Q,he,ae]);const ie=M.useRef(null),Te=M.useRef(null),be=Ao(ie,S,G?.beforeInsideRef),We=Ao(Te,G?.afterInsideRef);M.useEffect(()=>{if(r||!A||!w)return;const fe=Array.from(G?.portalNode?.querySelectorAll(`[${wd("portal")}]`)||[]),je=(ee?Fx(ee.nodesRef.current,H()):[]).find(re=>Fg(re.context?.elements.domReference||null))?.context?.elements.domReference,Ae=[A,je,...fe,...z(),L.current,q.current,ie.current,Te.current,G?.beforeOutsideRef.current,G?.afterOutsideRef.current,ns(v),ns(b),K?k:null].filter(re=>re!=null),Re=pI(Ae,d||K);return()=>{Re()}},[w,r,k,A,d,se,G,K,ee,H,z,b,v]),Le(()=>{if(!w||r||!Ht(pe))return;const fe=Ln(pe),ve=co(fe);queueMicrotask(()=>{const je=Ue(pe),Ae=ce.current,Re=typeof Ae=="function"?Ae(me.current||""):Ae;if(Re===void 0||Re===!1)return;let re;Re===!0||Re===null?re=je[0]||pe:re=ns(Re),re=re||je[0]||pe,!Nt(pe,ve)&&Ef(re,{preventScroll:re===pe})})},[r,w,pe,I,Ue,ce,me]),Le(()=>{if(r||!pe)return;const fe=Ln(pe),ve=co(fe);RI(ve);function je(re){if(re.open||(F.current=OI(re.nativeEvent,j.current)),re.reason===aI&&re.nativeEvent.type==="mouseleave"&&(B.current=!0),re.reason===XC)if(re.nested)B.current=!1;else if(RC(re.nativeEvent)||NC(re.nativeEvent))B.current=!1;else{let Ne=!1;document.createElement("div").focus({get preventScroll(){return Ne=!0,!1}}),Ne?B.current=!1:B.current=!0}}O.on("openchange",je);const Ae=fe.createElement("span");Ae.setAttribute("tabindex","-1"),Ae.setAttribute("aria-hidden","true"),Object.assign(Ae.style,Fy),J&&k&&k.insertAdjacentElement("afterend",Ae);function Re(){const re=ue.current;let Ne=typeof re=="function"?re(F.current):re;if(Ne===void 0||Ne===!1)return null;if(Ne===null&&(Ne=!0),typeof Ne=="boolean"){const Se=k||ng();return Se&&Se.isConnected?Se:Ae}const ge=k||ng()||Ae;return ns(Ne)||ge}return()=>{O.off("openchange",je);const re=co(fe),Ne=Nt(A,re)||ee&&Tl(ee.nodesRef.current,H(),!1).some(Se=>Nt(Se.context?.elements.floating,re)),ge=Re();queueMicrotask(()=>{const Se=NI(ge),ye=typeof ue.current!="boolean";ue.current&&!B.current&&Ht(Se)&&(!(!ye&&Se!==re&&re!==fe.body)||Ne)&&Se.focus({preventScroll:!0}),Ae.remove()})}},[r,A,pe,ue,N,O,ee,J,k,H]),M.useEffect(()=>{queueMicrotask(()=>{B.current=!1})},[r]),M.useEffect(()=>{if(r||!w)return;function fe(je){Dr(je)?.closest(`[${oI}]`)&&(X.current=!0)}const ve=Ln(pe);return ve.addEventListener("pointerdown",fe,!0),()=>{ve.removeEventListener("pointerdown",fe,!0)}},[r,w,pe]),Le(()=>{if(!r&&G)return G.setFocusManagerState({modal:d,closeOnFocusOut:h,open:w,onOpenChange:T.setOpen,domReference:k}),()=>{G.setFocusManagerState(null)}},[r,G,d,w,T,h,k]),Le(()=>{if(!(r||!pe))return nE(pe,se),()=>{queueMicrotask(Zy)}},[r,pe,se]);const Oe=!r&&(d?!K:!0)&&(J||d);return oe.jsxs(M.Fragment,{children:[Oe&&oe.jsx(Cd,{"data-type":"inside",ref:be,onFocus:fe=>{if(d){const ve=Ue();Ef(ve[ve.length-1])}else G?.portalNode&&(B.current=!1,ic(fe,G.portalNode)?GC(k)?.focus():ns(v??G.beforeOutsideRef)?.focus())}}),n,Oe&&oe.jsx(Cd,{"data-type":"inside",ref:We,onFocus:fe=>{d?Ef(Ue()[0]):G?.portalNode&&(h&&(B.current=!0),ic(fe,G.portalNode)?KC(k)?.focus():ns(b??G.afterOutsideRef)?.focus())}})]})}function LI(t,e={}){const n="rootStore"in t?t.rootStore:t,r=n.context.dataRef,{enabled:o=!0,event:l="click",toggle:a=!0,ignoreMouse:u=!1,stickIfOpen:d=!0,touchOpenDelay:h=0}=e,p=M.useRef(void 0),g=$d(),b=or(),v=M.useMemo(()=>({onPointerDown(S){p.current=S.pointerType},onMouseDown(S){const E=p.current,T=S.nativeEvent,w=n.select("open");if(S.button!==0||l==="click"||$x(E)&&u)return;const k=r.current.openEvent,A=k?.type,O=n.select("domReferenceElement")!==S.currentTarget,N=w&&O||!(w&&a&&(!(k&&d)||A==="click"||A==="mousedown"));if(OC(T.target)){const z=kt(oc,T,T.target);N&&E==="touch"&&h>0?b.start(h,()=>{n.setOpen(!0,z)}):n.setOpen(N,z);return}const H=S.currentTarget;g.request(()=>{const z=kt(oc,T,H);N&&E==="touch"&&h>0?b.start(h,()=>{n.setOpen(!0,z)}):n.setOpen(N,z)})},onClick(S){if(l==="mousedown-only")return;const E=p.current;if(l==="mousedown"&&E){p.current=void 0;return}if($x(E)&&u)return;const T=n.select("open"),w=r.current.openEvent,k=n.select("domReferenceElement")!==S.currentTarget,A=T&&k||!(T&&a&&(!(w&&d)||DC(w))),O=kt(oc,S.nativeEvent,S.currentTarget);A&&E==="touch"&&h>0?b.start(h,()=>{n.setOpen(!0,O)}):n.setOpen(A,O)},onKeyDown(){p.current=void 0}}),[r,l,u,n,d,a,g,b,h]);return M.useMemo(()=>o?{reference:v}:Kn,[o,v])}function rE(t,e,n){let{reference:r,floating:o}=t;const l=Cr(e),a=Jy(e),u=Wy(a),d=lr(e),h=l==="y",p=r.x+r.width/2-o.width/2,g=r.y+r.height/2-o.height/2,b=r[u]/2-o[u]/2;let v;switch(d){case"top":v={x:p,y:r.y-o.height};break;case"bottom":v={x:p,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:g};break;case"left":v={x:r.x-o.width,y:g};break;default:v={x:r.x,y:r.y}}switch(Bo(e)){case"start":v[a]-=b*(n&&h?-1:1);break;case"end":v[a]+=b*(n&&h?-1:1);break}return v}const BI=async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:l=[],platform:a}=n,u=l.filter(Boolean),d=await(a.isRTL==null?void 0:a.isRTL(e));let h=await a.getElementRects({reference:t,floating:e,strategy:o}),{x:p,y:g}=rE(h,r,d),b=r,v={},S=0;for(let E=0;E<u.length;E++){const{name:T,fn:w}=u[E],{x:k,y:A,data:O,reset:N}=await w({x:p,y:g,initialPlacement:r,placement:b,strategy:o,middlewareData:v,rects:h,platform:a,elements:{reference:t,floating:e}});p=k??p,g=A??g,v={...v,[T]:{...v[T],...O}},N&&S<=50&&(S++,typeof N=="object"&&(N.placement&&(b=N.placement),N.rects&&(h=N.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:o}):N.rects),{x:p,y:g}=rE(h,b,d)),E=-1)}return{x:p,y:g,placement:b,strategy:o,middlewareData:v}};async function bc(t,e){var n;e===void 0&&(e={});const{x:r,y:o,platform:l,rects:a,elements:u,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:b=!1,padding:v=0}=ki(e,t),S=zC(v),T=u[b?g==="floating"?"reference":"floating":g],w=vd(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(T)))==null||n?T:T.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:h,rootBoundary:p,strategy:d})),k=g==="floating"?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,A=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),O=await(l.isElement==null?void 0:l.isElement(A))?await(l.getScale==null?void 0:l.getScale(A))||{x:1,y:1}:{x:1,y:1},N=vd(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:k,offsetParent:A,strategy:d}):k);return{top:(w.top-N.top+S.top)/O.y,bottom:(N.bottom-w.bottom+S.bottom)/O.y,left:(w.left-N.left+S.left)/O.x,right:(N.right-w.right+S.right)/O.x}}const _I=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:o,middlewareData:l,rects:a,initialPlacement:u,platform:d,elements:h}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:E=!0,...T}=ki(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const w=lr(o),k=Cr(u),A=lr(u)===u,O=await(d.isRTL==null?void 0:d.isRTL(h.floating)),N=b||(A||!E?[bd(u)]:N_(u)),H=S!=="none";!b&&H&&N.push(...B_(u,E,S,O));const z=[u,...N],I=await bc(e,T),K=[];let se=((r=l.flip)==null?void 0:r.overflows)||[];if(p&&K.push(I[w]),g){const ee=R_(o,a,O);K.push(I[ee[0]],I[ee[1]])}if(se=[...se,{placement:o,overflows:K}],!K.every(ee=>ee<=0)){var ce,ue;const ee=(((ce=l.flip)==null?void 0:ce.index)||0)+1,G=z[ee];if(G&&(!(g==="alignment"?k!==Cr(G):!1)||se.every(B=>Cr(B.placement)===k?B.overflows[0]>0:!0)))return{data:{index:ee,overflows:se},reset:{placement:G}};let L=(ue=se.filter(q=>q.overflows[0]<=0).sort((q,B)=>q.overflows[1]-B.overflows[1])[0])==null?void 0:ue.placement;if(!L)switch(v){case"bestFit":{var me;const q=(me=se.filter(B=>{if(H){const X=Cr(B.placement);return X===k||X==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(X=>X>0).reduce((X,ne)=>X+ne,0)]).sort((B,X)=>B[1]-X[1])[0])==null?void 0:me[0];q&&(L=q);break}case"initialPlacement":L=u;break}if(o!==L)return{reset:{placement:L}}}return{}}}};function iE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function oE(t){return M_.some(e=>t[e]>=0)}const II=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...o}=ki(t,e);switch(r){case"referenceHidden":{const l=await bc(e,{...o,elementContext:"reference"}),a=iE(l,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:oE(a)}}}case"escaped":{const l=await bc(e,{...o,altBoundary:!0}),a=iE(l,n.floating);return{data:{escapedOffsets:a,escaped:oE(a)}}}default:return{}}}}},tM=new Set(["left","top"]);async function HI(t,e){const{placement:n,platform:r,elements:o}=t,l=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=lr(n),u=Bo(n),d=Cr(n)==="y",h=tM.has(a)?-1:1,p=l&&d?-1:1,g=ki(e,t);let{mainAxis:b,crossAxis:v,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof S=="number"&&(v=u==="end"?S*-1:S),d?{x:v*p,y:b*h}:{x:b*h,y:v*p}}const VI=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:o,y:l,placement:a,middlewareData:u}=e,d=await HI(e,t);return a===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:o+d.x,y:l+d.y,data:{...d,placement:a}}}}},jI=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:o}=e,{mainAxis:l=!0,crossAxis:a=!1,limiter:u={fn:T=>{let{x:w,y:k}=T;return{x:w,y:k}}},...d}=ki(t,e),h={x:n,y:r},p=await bc(e,d),g=Cr(lr(o)),b=Xy(g);let v=h[b],S=h[g];if(l){const T=b==="y"?"top":"left",w=b==="y"?"bottom":"right",k=v+p[T],A=v-p[w];v=$g(k,v,A)}if(a){const T=g==="y"?"top":"left",w=g==="y"?"bottom":"right",k=S+p[T],A=S-p[w];S=$g(k,S,A)}const E=u.fn({...e,[b]:v,[g]:S});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[b]:l,[g]:a}}}}}},UI=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:o,rects:l,middlewareData:a}=e,{offset:u=0,mainAxis:d=!0,crossAxis:h=!0}=ki(t,e),p={x:n,y:r},g=Cr(o),b=Xy(g);let v=p[b],S=p[g];const E=ki(u,e),T=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(d){const A=b==="y"?"height":"width",O=l.reference[b]-l.floating[A]+T.mainAxis,N=l.reference[b]+l.reference[A]-T.mainAxis;v<O?v=O:v>N&&(v=N)}if(h){var w,k;const A=b==="y"?"width":"height",O=tM.has(lr(o)),N=l.reference[g]-l.floating[A]+(O&&((w=a.offset)==null?void 0:w[g])||0)+(O?0:T.crossAxis),H=l.reference[g]+l.reference[A]+(O?0:((k=a.offset)==null?void 0:k[g])||0)-(O?T.crossAxis:0);S<N?S=N:S>H&&(S=H)}return{[b]:v,[g]:S}}}},PI=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:o,rects:l,platform:a,elements:u}=e,{apply:d=()=>{},...h}=ki(t,e),p=await bc(e,h),g=lr(o),b=Bo(o),v=Cr(o)==="y",{width:S,height:E}=l.floating;let T,w;g==="top"||g==="bottom"?(T=g,w=b===(await(a.isRTL==null?void 0:a.isRTL(u.floating))?"start":"end")?"left":"right"):(w=g,T=b==="end"?"top":"bottom");const k=E-p.top-p.bottom,A=S-p.left-p.right,O=Il(E-p[T],k),N=Il(S-p[w],A),H=!e.middlewareData.shift;let z=O,I=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=A),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(z=k),H&&!b){const se=nr(p.left,0),ce=nr(p.right,0),ue=nr(p.top,0),me=nr(p.bottom,0);v?I=S-2*(se!==0||ce!==0?se+ce:nr(p.left,p.right)):z=E-2*(ue!==0||me!==0?ue+me:nr(p.top,p.bottom))}await d({...e,availableWidth:I,availableHeight:z});const K=await a.getDimensions(u.floating);return S!==K.width||E!==K.height?{reset:{rects:!0}}:{}}}};function nM(t){const e=ar(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=Ht(t),l=o?t.offsetWidth:n,a=o?t.offsetHeight:r,u=yd(n)!==l||yd(r)!==a;return u&&(n=l,r=a),{width:n,height:r,$:u}}function eb(t){return Mt(t)?t:t.contextElement}function Ml(t){const e=eb(t);if(!Ht(e))return qr(1);const n=e.getBoundingClientRect(),{width:r,height:o,$:l}=nM(e);let a=(l?yd(n.width):n.width)/r,u=(l?yd(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!u||!Number.isFinite(u))&&(u=1),{x:a,y:u}}const qI=qr(0);function rM(t){const e=tn(t);return!Yd()||!e.visualViewport?qI:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function FI(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==tn(t)?!1:e}function xs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),l=eb(t);let a=qr(1);e&&(r?Mt(r)&&(a=Ml(r)):a=Ml(t));const u=FI(l,n,r)?rM(l):qr(0);let d=(o.left+u.x)/a.x,h=(o.top+u.y)/a.y,p=o.width/a.x,g=o.height/a.y;if(l){const b=tn(l),v=r&&Mt(r)?tn(r):r;let S=b,E=Ug(S);for(;E&&r&&v!==S;){const T=Ml(E),w=E.getBoundingClientRect(),k=ar(E),A=w.left+(E.clientLeft+parseFloat(k.paddingLeft))*T.x,O=w.top+(E.clientTop+parseFloat(k.paddingTop))*T.y;d*=T.x,h*=T.y,p*=T.x,g*=T.y,d+=A,h+=O,S=tn(E),E=Ug(S)}}return vd({width:p,height:g,x:d,y:h})}function th(t,e){const n=Xd(t).scrollLeft;return e?e.left+n:xs(Kr(t)).left+n}function iM(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-th(t,n),o=n.top+e.scrollTop;return{x:r,y:o}}function $I(t){let{elements:e,rect:n,offsetParent:r,strategy:o}=t;const l=o==="fixed",a=Kr(r),u=e?Kd(e.floating):!1;if(r===a||u&&l)return n;let d={scrollLeft:0,scrollTop:0},h=qr(1);const p=qr(0),g=Ht(r);if((g||!g&&!l)&&((Lo(r)!=="body"||Cs(a))&&(d=Xd(r)),Ht(r))){const v=xs(r);h=Ml(r),p.x=v.x+r.clientLeft,p.y=v.y+r.clientTop}const b=a&&!g&&!l?iM(a,d):qr(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+p.x+b.x,y:n.y*h.y-d.scrollTop*h.y+p.y+b.y}}function GI(t){return Array.from(t.getClientRects())}function KI(t){const e=Kr(t),n=Xd(t),r=t.ownerDocument.body,o=nr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),l=nr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+th(t);const u=-n.scrollTop;return ar(r).direction==="rtl"&&(a+=nr(e.clientWidth,r.clientWidth)-o),{width:o,height:l,x:a,y:u}}const sE=25;function YI(t,e){const n=tn(t),r=Kr(t),o=n.visualViewport;let l=r.clientWidth,a=r.clientHeight,u=0,d=0;if(o){l=o.width,a=o.height;const p=Yd();(!p||p&&e==="fixed")&&(u=o.offsetLeft,d=o.offsetTop)}const h=th(r);if(h<=0){const p=r.ownerDocument,g=p.body,b=getComputedStyle(g),v=p.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,S=Math.abs(r.clientWidth-g.clientWidth-v);S<=sE&&(l-=S)}else h<=sE&&(l+=h);return{width:l,height:a,x:u,y:d}}const XI=new Set(["absolute","fixed"]);function WI(t,e){const n=xs(t,!0,e==="fixed"),r=n.top+t.clientTop,o=n.left+t.clientLeft,l=Ht(t)?Ml(t):qr(1),a=t.clientWidth*l.x,u=t.clientHeight*l.y,d=o*l.x,h=r*l.y;return{width:a,height:u,x:d,y:h}}function lE(t,e,n){let r;if(e==="viewport")r=YI(t,n);else if(e==="document")r=KI(Kr(t));else if(Mt(e))r=WI(e,n);else{const o=rM(t);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return vd(r)}function oM(t,e){const n=Mi(t);return n===e||!Mt(n)||Ci(n)?!1:ar(n).position==="fixed"||oM(n,e)}function JI(t,e){const n=e.get(t);if(n)return n;let r=So(t,[],!1).filter(u=>Mt(u)&&Lo(u)!=="body"),o=null;const l=ar(t).position==="fixed";let a=l?Mi(t):t;for(;Mt(a)&&!Ci(a);){const u=ar(a),d=Ky(a);!d&&u.position==="fixed"&&(o=null),(l?!d&&!o:!d&&u.position==="static"&&!!o&&XI.has(o.position)||Cs(a)&&!d&&oM(t,a))?r=r.filter(p=>p!==a):o=u,a=Mi(a)}return e.set(t,r),r}function QI(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const a=[...n==="clippingAncestors"?Kd(e)?[]:JI(e,this._c):[].concat(n),r],u=a[0],d=a.reduce((h,p)=>{const g=lE(e,p,o);return h.top=nr(g.top,h.top),h.right=Il(g.right,h.right),h.bottom=Il(g.bottom,h.bottom),h.left=nr(g.left,h.left),h},lE(e,u,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function ZI(t){const{width:e,height:n}=nM(t);return{width:e,height:n}}function e4(t,e,n){const r=Ht(e),o=Kr(e),l=n==="fixed",a=xs(t,!0,l,e);let u={scrollLeft:0,scrollTop:0};const d=qr(0);function h(){d.x=th(o)}if(r||!r&&!l)if((Lo(e)!=="body"||Cs(o))&&(u=Xd(e)),r){const v=xs(e,!0,l,e);d.x=v.x+e.clientLeft,d.y=v.y+e.clientTop}else o&&h();l&&!r&&o&&h();const p=o&&!r&&!l?iM(o,u):qr(0),g=a.left+u.scrollLeft-d.x-p.x,b=a.top+u.scrollTop-d.y-p.y;return{x:g,y:b,width:a.width,height:a.height}}function rg(t){return ar(t).position==="static"}function aE(t,e){if(!Ht(t)||ar(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Kr(t)===n&&(n=n.ownerDocument.body),n}function sM(t,e){const n=tn(t);if(Kd(t))return n;if(!Ht(t)){let o=Mi(t);for(;o&&!Ci(o);){if(Mt(o)&&!rg(o))return o;o=Mi(o)}return n}let r=aE(t,e);for(;r&&u_(r)&&rg(r);)r=aE(r,e);return r&&Ci(r)&&rg(r)&&!Ky(r)?n:r||m_(t)||n}const t4=async function(t){const e=this.getOffsetParent||sM,n=this.getDimensions,r=await n(t.floating);return{reference:e4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function n4(t){return ar(t).direction==="rtl"}const r4={convertOffsetParentRelativeRectToViewportRelativeRect:$I,getDocumentElement:Kr,getClippingRect:QI,getOffsetParent:sM,getElementRects:t4,getClientRects:GI,getDimensions:ZI,getScale:Ml,isElement:Mt,isRTL:n4};function lM(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function i4(t,e){let n=null,r;const o=Kr(t);function l(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function a(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),l();const h=t.getBoundingClientRect(),{left:p,top:g,width:b,height:v}=h;if(u||e(),!b||!v)return;const S=vl(g),E=vl(o.clientWidth-(p+b)),T=vl(o.clientHeight-(g+v)),w=vl(p),A={rootMargin:-S+"px "+-E+"px "+-T+"px "+-w+"px",threshold:nr(0,Il(1,d))||1};let O=!0;function N(H){const z=H[0].intersectionRatio;if(z!==d){if(!O)return a();z?a(!1,z):r=setTimeout(()=>{a(!1,1e-7)},1e3)}z===1&&!lM(h,t.getBoundingClientRect())&&a(),O=!1}try{n=new IntersectionObserver(N,{...A,root:o.ownerDocument})}catch{n=new IntersectionObserver(N,A)}n.observe(t)}return a(!0),l}function cE(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=eb(t),p=o||l?[...h?So(h):[],...So(e)]:[];p.forEach(w=>{o&&w.addEventListener("scroll",n,{passive:!0}),l&&w.addEventListener("resize",n)});const g=h&&u?i4(h,n):null;let b=-1,v=null;a&&(v=new ResizeObserver(w=>{let[k]=w;k&&k.target===h&&v&&(v.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var A;(A=v)==null||A.observe(e)})),n()}),h&&!d&&v.observe(h),v.observe(e));let S,E=d?xs(t):null;d&&T();function T(){const w=xs(t);E&&!lM(E,w)&&n(),E=w,S=requestAnimationFrame(T)}return n(),()=>{var w;p.forEach(k=>{o&&k.removeEventListener("scroll",n),l&&k.removeEventListener("resize",n)}),g?.(),(w=v)==null||w.disconnect(),v=null,d&&cancelAnimationFrame(S)}}const o4=VI,s4=jI,l4=_I,a4=PI,c4=II,u4=UI,f4=(t,e,n)=>{const r=new Map,o={platform:r4,...n},l={...o.platform,_c:r};return BI(t,e,{...o,platform:l})};var d4=typeof document<"u",h4=function(){},Tf=d4?M.useLayoutEffect:h4;function Md(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Md(t[r],e[r]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=n;r--!==0;){const l=o[r];if(!(l==="_owner"&&t.$$typeof)&&!Md(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function aM(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function uE(t,e){const n=aM(t);return Math.round(e*n)/n}function ig(t){const e=M.useRef(t);return Tf(()=>{e.current=t}),e}function p4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:l,floating:a}={},transform:u=!0,whileElementsMounted:d,open:h}=t,[p,g]=M.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,v]=M.useState(r);Md(b,r)||v(r);const[S,E]=M.useState(null),[T,w]=M.useState(null),k=M.useCallback(B=>{B!==H.current&&(H.current=B,E(B))},[]),A=M.useCallback(B=>{B!==z.current&&(z.current=B,w(B))},[]),O=l||S,N=a||T,H=M.useRef(null),z=M.useRef(null),I=M.useRef(p),K=d!=null,se=ig(d),ce=ig(o),ue=ig(h),me=M.useCallback(()=>{if(!H.current||!z.current)return;const B={placement:e,strategy:n,middleware:b};ce.current&&(B.platform=ce.current),f4(H.current,z.current,B).then(X=>{const ne={...X,isPositioned:ue.current!==!1};ee.current&&!Md(I.current,ne)&&(I.current=ne,ko.flushSync(()=>{g(ne)}))})},[b,e,n,ce,ue]);Tf(()=>{h===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,g(B=>({...B,isPositioned:!1})))},[h]);const ee=M.useRef(!1);Tf(()=>(ee.current=!0,()=>{ee.current=!1}),[]),Tf(()=>{if(O&&(H.current=O),N&&(z.current=N),O&&N){if(se.current)return se.current(O,N,me);me()}},[O,N,me,se,K]);const G=M.useMemo(()=>({reference:H,floating:z,setReference:k,setFloating:A}),[k,A]),L=M.useMemo(()=>({reference:O,floating:N}),[O,N]),q=M.useMemo(()=>{const B={position:n,left:0,top:0};if(!L.floating)return B;const X=uE(L.floating,p.x),ne=uE(L.floating,p.y);return u?{...B,transform:"translate("+X+"px, "+ne+"px)",...aM(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:X,top:ne}},[n,u,L.floating,p.x,p.y]);return M.useMemo(()=>({...p,update:me,refs:G,elements:L,floatingStyles:q}),[p,me,G,L,q])}const m4=(t,e)=>({...o4(t),options:[t,e]}),g4=(t,e)=>({...s4(t),options:[t,e]}),y4=(t,e)=>({...u4(t),options:[t,e]}),b4=(t,e)=>({...l4(t),options:[t,e]}),v4=(t,e)=>({...a4(t),options:[t,e]}),S4=(t,e)=>({...c4(t),options:[t,e]}),x4={intentional:"onClick",sloppy:"onPointerDown"};function E4(t){return{escapeKey:typeof t=="boolean"?t:t?.escapeKey??!1,outsidePress:typeof t=="boolean"?t:t?.outsidePress??!0}}function T4(t,e={}){const n="rootStore"in t?t.rootStore:t,r=n.useState("open"),o=n.useState("floatingElement"),l=n.useState("referenceElement"),a=n.useState("domReferenceElement"),{onOpenChange:u,dataRef:d}=n.context,{enabled:h=!0,escapeKey:p=!0,outsidePress:g=!0,outsidePressEvent:b="sloppy",referencePress:v=!1,referencePressEvent:S="sloppy",ancestorScroll:E=!1,bubbles:T,externalTree:w}=e,k=Jd(w),A=_e(typeof g=="function"?g:()=>!1),O=typeof g=="function"?A:g,N=M.useRef(!1),{escapeKey:H,outsidePress:z}=E4(T),I=M.useRef(null),K=or(),se=or(),ce=_e(()=>{se.clear(),d.current.insideReactTree=!1}),ue=M.useRef(!1),me=M.useRef(""),ee=_e(ie=>{me.current=ie.pointerType}),G=_e(()=>{const ie=me.current,Te=ie==="pen"||!ie?"mouse":ie,be=typeof b=="function"?b():b;return typeof be=="string"?be:be[Te]}),L=_e(ie=>{if(!r||!h||!p||ie.key!=="Escape"||ue.current)return;const Te=d.current.floatingContext?.nodeId,be=k?Tl(k.nodesRef.current,Te):[];if(!H&&be.length>0){let fe=!0;if(be.forEach(ve=>{ve.context?.open&&!ve.context.dataRef.current.__escapeKeyBubbles&&(fe=!1)}),!fe)return}const We=C_(ie)?ie.nativeEvent:ie,Oe=kt(cI,We);n.setOpen(!1,Oe),!H&&!Oe.isPropagationAllowed&&ie.stopPropagation()}),q=_e(ie=>{const Te=G();return Te==="intentional"&&ie.type!=="click"||Te==="sloppy"&&ie.type==="click"}),B=_e(()=>{d.current.insideReactTree=!0,se.start(0,ce)}),X=_e((ie,Te=!1)=>{if(q(ie)){ce();return}if(d.current.insideReactTree){ce();return}if(G()==="intentional"&&Te||typeof O=="function"&&!O(ie))return;const be=Dr(ie),We=`[${wd("inert")}]`,Oe=Ln(n.select("floatingElement")).querySelectorAll(We),fe=n.context.triggerElements;if(be&&(fe.hasElement(be)||fe.hasMatchingElement(re=>Nt(re,be))))return;let ve=Mt(be)?be:null;for(;ve&&!Ci(ve);){const re=Mi(ve);if(Ci(re)||!Mt(re))break;ve=re}if(Oe.length&&Mt(be)&&!w_(be)&&!Nt(be,n.select("floatingElement"))&&Array.from(Oe).every(re=>!Nt(ve,re)))return;if(Ht(be)&&!("touches"in ie)){const re=Ci(be),Ne=ar(be),ge=/auto|scroll/,Se=re||ge.test(Ne.overflowX),ye=re||ge.test(Ne.overflowY),Je=Se&&be.clientWidth>0&&be.scrollWidth>be.clientWidth,it=ye&&be.clientHeight>0&&be.scrollHeight>be.clientHeight,Ge=Ne.direction==="rtl",Dt=it&&(Ge?ie.offsetX<=be.offsetWidth-be.clientWidth:ie.offsetX>be.clientWidth),Ot=Je&&ie.offsetY>be.clientHeight;if(Dt||Ot)return}const je=d.current.floatingContext?.nodeId,Ae=k&&Tl(k.nodesRef.current,je).some(re=>Nr(ie,re.context?.elements.floating));if(Nr(ie,n.select("floatingElement"))||Nr(ie,n.select("domReferenceElement"))||Ae)return;const Re=k?Tl(k.nodesRef.current,je):[];if(Re.length>0){let re=!0;if(Re.forEach(Ne=>{Ne.context?.open&&!Ne.context.dataRef.current.__outsidePressBubbles&&(re=!1)}),!re)return}n.setOpen(!1,kt(XC,ie)),ce()}),ne=_e(ie=>{G()!=="sloppy"||ie.pointerType==="touch"||!n.select("open")||!h||Nr(ie,n.select("floatingElement"))||Nr(ie,n.select("domReferenceElement"))||X(ie)}),R=_e(ie=>{if(G()!=="sloppy"||!n.select("open")||!h||Nr(ie,n.select("floatingElement"))||Nr(ie,n.select("domReferenceElement")))return;const Te=ie.touches[0];Te&&(I.current={startTime:Date.now(),startX:Te.clientX,startY:Te.clientY,dismissOnTouchEnd:!1,dismissOnMouseDown:!0},K.start(1e3,()=>{I.current&&(I.current.dismissOnTouchEnd=!1,I.current.dismissOnMouseDown=!1)}))}),F=_e(ie=>{const Te=Dr(ie);function be(){R(ie),Te?.removeEventListener(ie.type,be)}Te?.addEventListener(ie.type,be)}),j=_e(ie=>{const Te=N.current;if(N.current=!1,K.clear(),ie.type==="mousedown"&&I.current&&!I.current.dismissOnMouseDown)return;const be=Dr(ie);function We(){ie.type==="pointerdown"?ne(ie):X(ie,Te),be?.removeEventListener(ie.type,We)}be?.addEventListener(ie.type,We)}),Q=_e(ie=>{if(G()!=="sloppy"||!I.current||Nr(ie,n.select("floatingElement"))||Nr(ie,n.select("domReferenceElement")))return;const Te=ie.touches[0];if(!Te)return;const be=Math.abs(Te.clientX-I.current.startX),We=Math.abs(Te.clientY-I.current.startY),Oe=Math.sqrt(be*be+We*We);Oe>5&&(I.current.dismissOnTouchEnd=!0),Oe>10&&(X(ie),K.clear(),I.current=null)}),he=_e(ie=>{const Te=Dr(ie);function be(){Q(ie),Te?.removeEventListener(ie.type,be)}Te?.addEventListener(ie.type,be)}),ae=_e(ie=>{G()!=="sloppy"||!I.current||Nr(ie,n.select("floatingElement"))||Nr(ie,n.select("domReferenceElement"))||(I.current.dismissOnTouchEnd&&X(ie),K.clear(),I.current=null)}),J=_e(ie=>{const Te=Dr(ie);function be(){ae(ie),Te?.removeEventListener(ie.type,be)}Te?.addEventListener(ie.type,be)});M.useEffect(()=>{if(!r||!h)return;d.current.__escapeKeyBubbles=H,d.current.__outsidePressBubbles=z;const ie=new _l;function Te(ve){n.setOpen(!1,kt(Qd,ve))}function be(){ie.clear(),ue.current=!0}function We(){ie.start(Yd()?5:0,()=>{ue.current=!1})}const Oe=Ln(o);Oe.addEventListener("pointerdown",ee,!0),p&&(Oe.addEventListener("keydown",L),Oe.addEventListener("compositionstart",be),Oe.addEventListener("compositionend",We)),O&&(Oe.addEventListener("click",j,!0),Oe.addEventListener("pointerdown",j,!0),Oe.addEventListener("touchstart",F,!0),Oe.addEventListener("touchmove",he,!0),Oe.addEventListener("touchend",J,!0),Oe.addEventListener("mousedown",j,!0));let fe=[];return E&&(Mt(a)&&(fe=So(a)),Mt(o)&&(fe=fe.concat(So(o))),!Mt(l)&&l&&l.contextElement&&(fe=fe.concat(So(l.contextElement)))),fe=fe.filter(ve=>ve!==Oe.defaultView?.visualViewport),fe.forEach(ve=>{ve.addEventListener("scroll",Te,{passive:!0})}),()=>{Oe.removeEventListener("pointerdown",ee,!0),p&&(Oe.removeEventListener("keydown",L),Oe.removeEventListener("compositionstart",be),Oe.removeEventListener("compositionend",We)),O&&(Oe.removeEventListener("click",j,!0),Oe.removeEventListener("pointerdown",j,!0),Oe.removeEventListener("touchstart",F,!0),Oe.removeEventListener("touchmove",he,!0),Oe.removeEventListener("touchend",J,!0),Oe.removeEventListener("mousedown",j,!0)),fe.forEach(ve=>{ve.removeEventListener("scroll",Te)}),ie.clear()}},[d,o,l,a,p,O,r,u,E,h,H,z,L,X,j,ne,F,he,J,ee,n]),M.useEffect(ce,[O,ce]);const pe=M.useMemo(()=>({onKeyDown:L,...v&&{[x4[S]]:ie=>{n.setOpen(!1,kt(oc,ie.nativeEvent))},...S!=="intentional"&&{onClick(ie){n.setOpen(!1,kt(oc,ie.nativeEvent))}}}}),[L,n,v,S]),Ee=_e(ie=>{const Te=Dr(ie.nativeEvent);!Nt(n.select("floatingElement"),Te)||ie.button!==0||(N.current=!0)}),Ue=M.useMemo(()=>({onKeyDown:L,onPointerDown:Ee,onMouseDown:Ee,onMouseUp:Ee,onClickCapture:B,onMouseDownCapture:B,onPointerDownCapture:B,onMouseUpCapture:B,onTouchEndCapture:B,onTouchMoveCapture:B}),[L,Ee,B]);return M.useMemo(()=>h?{reference:pe,floating:Ue,trigger:pe}:{},[h,pe,Ue])}const w4={open:lt(t=>t.open),domReferenceElement:lt(t=>t.domReferenceElement),referenceElement:lt(t=>t.positionReference??t.referenceElement),floatingElement:lt(t=>t.floatingElement),floatingId:lt(t=>t.floatingId)};class C4 extends o_{constructor(e){const{nested:n,noEmit:r,onOpenChange:o,triggerElements:l,...a}=e;super({...a,positionReference:a.referenceElement,domReferenceElement:a.referenceElement},{onOpenChange:o,dataRef:{current:{}},events:tI(),nested:n,noEmit:r,triggerElements:l},w4)}setOpen=(e,n)=>{if((!e||!this.state.open||DC(n.event))&&(this.context.dataRef.current.openEvent=e?n.event:void 0),!this.context.noEmit){const r={open:e,reason:n.reason,nativeEvent:n.event,nested:this.context.nested,triggerElement:n.trigger};this.context.events.emit("openchange",r)}this.context.onOpenChange?.(e,n)}}function tb(t,e=!1,n=!1){const[r,o]=M.useState(t&&e?"idle":void 0),[l,a]=M.useState(t);return t&&!l&&(a(!0),o("starting")),!t&&l&&r!=="ending"&&!n&&o("ending"),!t&&!l&&r==="ending"&&o(void 0),Le(()=>{if(!t&&l&&r!=="ending"&&n){const u=Pr.request(()=>{o("ending")});return()=>{Pr.cancel(u)}}},[t,l,r,n]),Le(()=>{if(!t||e)return;const u=Pr.request(()=>{o(void 0)});return()=>{Pr.cancel(u)}},[e,t]),Le(()=>{if(!t||!e)return;t&&l&&r!=="idle"&&o("starting");const u=Pr.request(()=>{o("idle")});return()=>{Pr.cancel(u)}},[e,t,l,o,r]),M.useMemo(()=>({mounted:l,setMounted:a,transitionStatus:r}),[l,r])}function M4(t,e=!1,n=!0){const r=$d();return _e((o,l=null)=>{r.cancel();const a=ns(t);a!=null&&(typeof a.getAnimations!="function"||globalThis.BASE_UI_ANIMATIONS_DISABLED?o():r.request(()=>{function u(){a&&Promise.all(a.getAnimations().map(d=>d.finished)).then(()=>{l!=null&&l.aborted||ko.flushSync(o)}).catch(()=>{if(n){if(l!=null&&l.aborted)return;ko.flushSync(o)}else a.getAnimations().length>0&&a.getAnimations().some(d=>d.pending||d.playState!=="finished")&&u()})}e?r.request(u):u()}))})}function nh(t){const{enabled:e=!0,open:n,ref:r,onComplete:o}=t,l=En(n),a=_e(o),u=M4(r,n);M.useEffect(()=>{e&&u(()=>{n===l.current&&a()})},[e,n,a,u,l])}class k4{constructor(){this.elements=new Set,this.idMap=new Map}add(e,n){const r=this.idMap.get(e);r!==n&&(r!==void 0&&this.elements.delete(r),this.elements.add(n),this.idMap.set(e,n))}delete(e){const n=this.idMap.get(e);n&&(this.elements.delete(n),this.idMap.delete(e))}hasElement(e){return this.elements.has(e)}hasMatchingElement(e){for(const n of this.elements)if(e(n))return!0;return!1}getById(e){return this.idMap.get(e)}entries(){return this.idMap.entries()}get size(){return this.idMap.size}}function cM(t){const{open:e=!1,onOpenChange:n,elements:r={}}=t,o=Qy(),l=YC()!=null,a=Gr(()=>new C4({open:e,onOpenChange:n,referenceElement:r.reference??null,floatingElement:r.floating??null,triggerElements:r.triggers??new k4,floatingId:o,nested:l,noEmit:t.noEmit||!1})).current;return Le(()=>{const u={open:e,floatingId:o};r.reference!==void 0&&(u.referenceElement=r.reference,u.domReferenceElement=Mt(r.reference)?r.reference:null),r.floating!==void 0&&(u.floatingElement=r.floating),a.update(u)},[e,o,r.reference,r.floating,a]),a.context.onOpenChange=n,a.context.nested=l,a.context.noEmit=t.noEmit||!1,a}function A4(t={}){const{nodeId:e,externalTree:n}=t,r=cM(t),o=t.rootContext||r,l={reference:o.useState("referenceElement"),floating:o.useState("floatingElement"),domReference:o.useState("domReferenceElement")},[a,u]=M.useState(null),d=M.useRef(null),h=Jd(n);Le(()=>{l.domReference&&(d.current=l.domReference)},[l.domReference]);const p=p4({...t,elements:{...l,...a&&{reference:a}}}),g=M.useCallback(z=>{const I=Mt(z)?{getBoundingClientRect:()=>z.getBoundingClientRect(),getClientRects:()=>z.getClientRects(),contextElement:z}:z;u(I),p.refs.setReference(I)},[p.refs]),[b,v]=M.useState(null),[S,E]=M.useState(null);o.useSyncedValue("referenceElement",b),o.useSyncedValue("domReferenceElement",Mt(b)?b:null),o.useSyncedValue("floatingElement",S);const T=M.useCallback(z=>{(Mt(z)||z===null)&&(d.current=z,v(z)),(Mt(p.refs.reference.current)||p.refs.reference.current===null||z!==null&&!Mt(z))&&p.refs.setReference(z)},[p.refs,v]),w=M.useCallback(z=>{E(z),p.refs.setFloating(z)},[p.refs]),k=M.useMemo(()=>({...p.refs,setReference:T,setFloating:w,setPositionReference:g,domReference:d}),[p.refs,T,w,g]),A=M.useMemo(()=>({...p.elements,domReference:l.domReference}),[p.elements,l.domReference]),O=o.useState("open"),N=o.useState("floatingId"),H=M.useMemo(()=>({...p,dataRef:o.context.dataRef,open:O,onOpenChange:o.setOpen,events:o.context.events,floatingId:N,refs:k,elements:A,nodeId:e,rootStore:o}),[p,k,A,e,o,O,N]);return Le(()=>{o.context.dataRef.current.floatingContext=H;const z=h?.nodesRef.current.find(I=>I.id===e);z&&(z.context=H)}),M.useMemo(()=>({...p,context:H,refs:k,elements:A,rootStore:o}),[p,k,A,H,o])}function O4(t=[]){const e=t.map(h=>h?.reference),n=t.map(h=>h?.floating),r=t.map(h=>h?.item),o=t.map(h=>h?.trigger),l=M.useCallback(h=>cf(h,t,"reference"),e),a=M.useCallback(h=>cf(h,t,"floating"),n),u=M.useCallback(h=>cf(h,t,"item"),r),d=M.useCallback(h=>cf(h,t,"trigger"),o);return M.useMemo(()=>({getReferenceProps:l,getFloatingProps:a,getItemProps:u,getTriggerProps:d}),[l,a,u,d])}function cf(t,e,n){const r=new Map,o=n==="item",l={};n==="floating"&&(l.tabIndex=-1,l[qg]="");for(const a in t)o&&t&&(a===kC||a===AC)||(l[a]=t[a]);for(let a=0;a<e.length;a+=1){let u;const d=e[a]?.[n];typeof d=="function"?u=t?d(t):null:u=d,u&&fE(l,u,o,r)}return fE(l,t,o,r),l}function fE(t,e,n,r){for(const o in e){const l=e[o];n&&(o===kC||o===AC)||(o.startsWith("on")?(r.has(o)||r.set(o,[]),typeof l=="function"&&(r.get(o)?.push(l),t[o]=(...a)=>r.get(o)?.map(u=>u(...a)).find(u=>u!==void 0))):t[o]=l)}}const R4="Escape";function rh(t,e,n){switch(t){case"vertical":return e;case"horizontal":return n;default:return e||n}}function uf(t,e){return rh(e,t===Yy||t===Cc,t===xo||t===Eo)}function og(t,e,n){return rh(e,t===Cc,n?t===xo:t===Eo)||t==="Enter"||t===" "||t===""}function N4(t,e,n){return rh(e,n?t===xo:t===Eo,t===Cc)}function D4(t,e,n,r){const o=n?t===Eo:t===xo,l=t===Yy;return e==="both"||e==="horizontal"&&r&&r>1?t===R4:rh(e,o,l)}function z4(t,e){const n="rootStore"in t?t.rootStore:t,r=n.useState("open"),o=n.useState("floatingElement"),l=n.useState("domReferenceElement"),a=n.context.dataRef,{listRef:u,activeIndex:d,onNavigate:h=()=>{},enabled:p=!0,selectedIndex:g=null,allowEscape:b=!1,loopFocus:v=!1,nested:S=!1,rtl:E=!1,virtual:T=!1,focusItemOnOpen:w="auto",focusItemOnHover:k=!0,openOnArrowKeyDown:A=!0,disabledIndices:O=void 0,orientation:N="vertical",parentOrientation:H,cols:z=1,scrollItemIntoView:I=!0,itemSizes:K,dense:se=!1,id:ce,resetOnPointerLeave:ue=!0,externalTree:me}=e,ee=gd(o),G=En(ee),L=YC(),q=Jd(me);Le(()=>{a.current.orientation=N},[a,N]);const B=Fg(l),X=M.useRef(w),ne=M.useRef(g??-1),R=M.useRef(null),F=M.useRef(!0),j=_e(ge=>{h(ne.current===-1?null:ne.current,ge)}),Q=M.useRef(j),he=M.useRef(!!o),ae=M.useRef(r),J=M.useRef(!1),pe=M.useRef(!1),Ee=En(O),Ue=En(r),ie=En(I),Te=En(g),be=En(ue),We=_e(()=>{function ge(it){T?q?.events.emit("virtualfocus",it):Ef(it,{sync:J.current,preventScroll:!0})}const Se=u.current[ne.current],ye=pe.current;Se&&ge(Se),(J.current?it=>it():requestAnimationFrame)(()=>{const it=u.current[ne.current]||Se;if(!it)return;Se||ge(it);const Ge=ie.current;Ge&&fe&&(ye||!F.current)&&it.scrollIntoView?.(typeof Ge=="boolean"?{block:"nearest",inline:"nearest"}:Ge)})});Le(()=>{p&&(r&&o?(ne.current=g??-1,X.current&&g!=null&&(pe.current=!0,j())):he.current&&(ne.current=-1,Q.current()))},[p,r,o,g,j]),Le(()=>{if(p){if(!r){J.current=!1;return}if(o)if(d==null){if(J.current=!1,Te.current!=null)return;if(he.current&&(ne.current=-1,We()),(!ae.current||!he.current)&&X.current&&(R.current!=null||X.current===!0&&R.current==null)){let ge=0;const Se=()=>{u.current[0]==null?(ge<2&&(ge?requestAnimationFrame:queueMicrotask)(Se),ge+=1):(ne.current=R.current==null||og(R.current,N,E)||S?xf(u):Kg(u),R.current=null,j())};Se()}}else wl(u,d)||(ne.current=d,We(),pe.current=!1)}},[p,r,o,d,Te,S,u,N,E,j,We,Ee]),Le(()=>{if(!p||o||!q||T||!he.current)return;const ge=q.nodesRef.current,Se=ge.find(it=>it.id===L)?.context?.elements.floating,ye=co(Ln(o)),Je=ge.some(it=>it.context&&Nt(it.context.elements.floating,ye));Se&&!Je&&F.current&&Se.focus({preventScroll:!0})},[p,o,q,L,T]),Le(()=>{Q.current=j,ae.current=r,he.current=!!o}),Le(()=>{r||(R.current=null,X.current=w)},[r,w]);const Oe=d!=null,fe=M.useMemo(()=>{function ge(ye){if(!Ue.current)return;const Je=u.current.indexOf(ye.currentTarget);Je!==-1&&ne.current!==Je&&(ne.current=Je,j(ye))}return{onFocus(ye){J.current=!0,ge(ye)},onClick:({currentTarget:ye})=>ye.focus({preventScroll:!0}),onMouseMove(ye){J.current=!0,pe.current=!1,k&&ge(ye)},onPointerLeave(ye){if(!Ue.current||!F.current||ye.pointerType==="touch")return;J.current=!0;const Je=ye.relatedTarget;!k||u.current.includes(Je)||be.current&&(ne.current=-1,j(ye),T||G.current?.focus({preventScroll:!0}))}}},[Ue,G,k,u,j,be,T]),ve=M.useCallback(()=>H??q?.nodesRef.current.find(ge=>ge.id===L)?.context?.dataRef?.current.orientation,[L,q,H]),je=_e(ge=>{if(F.current=!1,J.current=!0,ge.which===229||!Ue.current&&ge.currentTarget===G.current)return;if(S&&D4(ge.key,N,E,z)){uf(ge.key,ve())||An(ge),n.setOpen(!1,kt(eg,ge.nativeEvent)),Ht(l)&&(T?q?.events.emit("virtualfocus",l):l.focus());return}const Se=ne.current,ye=xf(u,O),Je=Kg(u,O);if(B||(ge.key==="Home"&&(An(ge),ne.current=ye,j(ge)),ge.key==="End"&&(An(ge),ne.current=Je,j(ge))),z>1){const it=K||Array.from({length:u.current.length},()=>({width:1,height:1})),Ge=BC(it,z,se),Dt=Ge.findIndex(zt=>zt!=null&&!To(u,zt,O)),Ot=Ge.reduce((zt,vt,dt)=>vt!=null&&!To(u,vt,O)?dt:zt,-1),Qt=Ge[LC({current:Ge.map(zt=>zt!=null?u.current[zt]:null)},{event:ge,orientation:N,loopFocus:v,rtl:E,cols:z,disabledIndices:IC([...(typeof O!="function"?O:null)||u.current.map((zt,vt)=>To(u,vt,O)?vt:void 0),void 0],Ge),minIndex:Dt,maxIndex:Ot,prevIndex:_C(ne.current>Je?ye:ne.current,it,Ge,z,ge.key===Cc?"bl":ge.key===(E?xo:Eo)?"tr":"tl"),stopEvent:!0})];if(Qt!=null&&(ne.current=Qt,j(ge)),N==="both")return}if(uf(ge.key,N)){if(An(ge),r&&!T&&co(ge.currentTarget.ownerDocument)===ge.currentTarget){ne.current=og(ge.key,N,E)?ye:Je,j(ge);return}og(ge.key,N,E)?v?Se>=Je?b&&Se!==u.current.length?ne.current=-1:(J.current=!1,ne.current=ye):ne.current=vn(u,{startingIndex:Se,disabledIndices:O}):ne.current=Math.min(Je,vn(u,{startingIndex:Se,disabledIndices:O})):v?Se<=ye?b&&Se!==-1?ne.current=u.current.length:(J.current=!1,ne.current=Je):ne.current=vn(u,{startingIndex:Se,decrement:!0,disabledIndices:O}):ne.current=Math.max(ye,vn(u,{startingIndex:Se,decrement:!0,disabledIndices:O})),wl(u,ne.current)&&(ne.current=-1),j(ge)}}),Ae=M.useMemo(()=>T&&r&&Oe&&{"aria-activedescendant":`${ce}-${d}`},[T,r,Oe,ce,d]),Re=M.useMemo(()=>({"aria-orientation":N==="both"?void 0:N,...B?{}:Ae,onKeyDown(ge){if(ge.key==="Tab"&&ge.shiftKey&&r&&!T){const Se=Dr(ge.nativeEvent);if(Se&&!Nt(G.current,Se))return;An(ge),n.setOpen(!1,kt(Zd,ge.nativeEvent)),Ht(l)&&l.focus();return}je(ge)},onPointerMove(){F.current=!0}}),[Ae,je,G,N,B,n,r,T,l]),re=M.useMemo(()=>{function ge(ye){w==="auto"&&RC(ye.nativeEvent)&&(X.current=!T)}function Se(ye){X.current=w,w==="auto"&&NC(ye.nativeEvent)&&(X.current=!0)}return{onKeyDown(ye){const Je=n.select("open");F.current=!1;const it=ye.key.startsWith("Arrow"),Ge=N4(ye.key,ve(),E),Dt=uf(ye.key,N),Ot=(S?Ge:Dt)||ye.key==="Enter"||ye.key.trim()==="";if(T&&Je)return je(ye);if(!(!Je&&!A&&it)){if(Ot){const Qt=uf(ye.key,ve());R.current=S&&Qt?null:ye.key}if(S){Ge&&(An(ye),Je?(ne.current=xf(u,Ee.current),j(ye)):n.setOpen(!0,kt(eg,ye.nativeEvent,ye.currentTarget)));return}Dt&&(Te.current!=null&&(ne.current=Te.current),An(ye),!Je&&A?n.setOpen(!0,kt(eg,ye.nativeEvent,ye.currentTarget)):je(ye),Je&&j(ye))}},onFocus(ye){n.select("open")&&!T&&(ne.current=-1,j(ye))},onPointerDown:Se,onPointerEnter:Se,onMouseDown:ge,onClick:ge}},[je,Ee,w,u,S,j,n,A,N,ve,E,Te,T]),Ne=M.useMemo(()=>({...Ae,...re}),[Ae,re]);return M.useMemo(()=>p?{reference:Ne,floating:Re,item:fe,trigger:re}:{},[p,Ne,Re,re,fe])}function L4(t,e){const n="rootStore"in t?t.rootStore:t,r=n.useState("open"),o=n.context.dataRef,{listRef:l,activeIndex:a,onMatch:u,onTypingChange:d,enabled:h=!0,findMatch:p=null,resetMs:g=750,ignoreKeys:b=Ss,selectedIndex:v=null}=e,S=or(),E=M.useRef(""),T=M.useRef(v??a??-1),w=M.useRef(null);Le(()=>{r&&(S.clear(),w.current=null,E.current="")},[r,S]),Le(()=>{r&&E.current===""&&(T.current=v??a??-1)},[r,v,a]);const k=_e(H=>{H?o.current.typing||(o.current.typing=H,d?.(H)):o.current.typing&&(o.current.typing=H,d?.(H))}),A=_e(H=>{function z(ue,me,ee){const G=p?p(me,ee):me.find(L=>L?.toLocaleLowerCase().indexOf(ee.toLocaleLowerCase())===0);return G?ue.indexOf(G):-1}const I=l.current;if(E.current.length>0&&E.current[0]!==" "&&(z(I,I,E.current)===-1?k(!1):H.key===" "&&An(H)),I==null||b.includes(H.key)||H.key.length!==1||H.ctrlKey||H.metaKey||H.altKey)return;r&&H.key!==" "&&(An(H),k(!0)),I.every(ue=>ue?ue[0]?.toLocaleLowerCase()!==ue[1]?.toLocaleLowerCase():!0)&&E.current===H.key&&(E.current="",T.current=w.current),E.current+=H.key,S.start(g,()=>{E.current="",T.current=w.current,k(!1)});const se=T.current,ce=z(I,[...I.slice((se||0)+1),...I.slice(0,(se||0)+1)],E.current);ce!==-1?(u?.(ce),w.current=ce):H.key!==" "&&(E.current="",k(!1))}),O=M.useMemo(()=>({onKeyDown:A}),[A]),N=M.useMemo(()=>({onKeyDown:A,onKeyUp(H){H.key===" "&&k(!1)}}),[A,k]);return M.useMemo(()=>h?{reference:O,floating:N}:{},[h,O,N])}const uM=M.createContext(null),fM=M.createContext(null);function Yr(){const t=M.useContext(uM);if(t===null)throw new Error(Oi(60));return t}function dM(){const t=M.useContext(fM);if(t===null)throw new Error(Oi(61));return t}let dE=(function(t){return t.disabled="data-disabled",t.valid="data-valid",t.invalid="data-invalid",t.touched="data-touched",t.dirty="data-dirty",t.filled="data-filled",t.focused="data-focused",t})({});const B4={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:null,valueMissing:!1},_4={valid(t){return t===null?null:t?{[dE.valid]:""}:{[dE.invalid]:""}}},I4=M.createContext({invalid:void 0,name:void 0,validityData:{state:B4,errors:[],error:"",value:"",initialValue:null},setValidityData:ir,disabled:void 0,touched:!1,setTouched:ir,dirty:!1,setDirty:ir,filled:!1,setFilled:ir,focused:!1,setFocused:ir,validate:()=>null,validationMode:"onSubmit",validationDebounceTime:0,shouldValidateOnChange:()=>!1,state:{disabled:!1,valid:null,touched:!1,dirty:!1,filled:!1,focused:!1},markedDirtyRef:{current:!1},validation:{getValidationProps:(t=Kn)=>t,getInputValidationProps:(t=Kn)=>t,inputRef:{current:null},commit:async()=>{}}});function nb(t=!0){const e=M.useContext(I4);if(e.setValidityData===ir&&!t)throw new Error(Oi(28));return e}const H4=M.createContext({controlId:void 0,setControlId:ir,labelId:void 0,setLabelId:ir,messageIds:[],setMessageIds:ir,getDescriptionProps:t=>t});function rb(){return M.useContext(H4)}function hM(t){return Qy(t,"base-ui")}function V4(t={}){const{id:e,implicit:n=!1,controlRef:r}=t,{controlId:o,setControlId:l}=rb(),a=hM(e);return Le(()=>{if(!(!n&&!e||l===ir)){if(n){const u=r?.current;Mt(u)&&u.closest("label")!=null?l(e??null):l(o??a)}else e&&l(e);return()=>{e&&l(void 0)}}},[e,r,o,l,n,a]),o??a}const j4=(t,e)=>Object.is(t,e);function Vl(t,e,n){return t==null||e==null?Object.is(t,e):n(t,e)}function sg(t,e,n){return!t||t.length===0?!1:t.some(r=>r===void 0?!1:Vl(r,e,n))}function Zg(t,e,n){return!t||t.length===0?-1:t.findIndex(r=>r===void 0?!1:Vl(r,e,n))}function U4(t,e,n){return t.filter(r=>!Vl(r,e,n))}function ey(t){if(t==null)return"";if(typeof t=="string")return t;try{return JSON.stringify(t)}catch{return String(t)}}function P4(t){return t!=null&&t.length>0&&typeof t[0]=="object"&&t[0]!=null&&"items"in t[0]}function Ka(t,e){if(e&&t!=null)return e(t)??"";if(t&&typeof t=="object"){if("label"in t&&t.label!=null)return String(t.label);if("value"in t)return String(t.value)}return ey(t)}function yl(t,e){return e&&t!=null?e(t)??"":t&&typeof t=="object"&&"value"in t&&"label"in t?ey(t.value):ey(t)}function q4(t,e,n){if(n&&t!=null)return n(t);if(t&&typeof t=="object"&&"label"in t&&t.label!=null)return t.label;if(e&&!Array.isArray(e))return e[t]??Ka(t,n);if(Array.isArray(e)){const r=P4(e)?e.flatMap(o=>o.items):e;if(t==null){const o=r.find(l=>l.value==null);return o&&o.label!=null?o.label:Ka(t,n)}if(typeof t!="object"){const o=r.find(l=>l&&l.value===t);return o&&o.label!=null?o.label:Ka(t,n)}if("value"in t){const o=r.find(l=>l&&l.value===t.value);if(o&&o.label!=null)return o.label}}return Ka(t,n)}function F4(t,e){return!Array.isArray(t)||t.length===0?"":t.map(n=>Ka(n,e)).join(", ")}const He={id:lt(t=>t.id),modal:lt(t=>t.modal),multiple:lt(t=>t.multiple),items:lt(t=>t.items),itemToStringLabel:lt(t=>t.itemToStringLabel),itemToStringValue:lt(t=>t.itemToStringValue),isItemEqualToValue:lt(t=>t.isItemEqualToValue),value:lt(t=>t.value),open:lt(t=>t.open),mounted:lt(t=>t.mounted),forceMount:lt(t=>t.forceMount),transitionStatus:lt(t=>t.transitionStatus),openMethod:lt(t=>t.openMethod),activeIndex:lt(t=>t.activeIndex),selectedIndex:lt(t=>t.selectedIndex),isActive:lt((t,e)=>t.activeIndex===e),isSelected:lt((t,e,n)=>{const r=t.isItemEqualToValue,o=t.value;return t.multiple?Array.isArray(o)&&o.some(l=>Vl(l,n,r)):t.selectedIndex===e&&t.selectedIndex!==null?!0:Vl(o,n,r)}),isSelectedByFocus:lt((t,e)=>t.selectedIndex===e),popupProps:lt(t=>t.popupProps),triggerProps:lt(t=>t.triggerProps),triggerElement:lt(t=>t.triggerElement),positionerElement:lt(t=>t.positionerElement),listElement:lt(t=>t.listElement),scrollUpArrowVisible:lt(t=>t.scrollUpArrowVisible),scrollDownArrowVisible:lt(t=>t.scrollDownArrowVisible),hasScrollArrows:lt(t=>t.hasScrollArrows),serializedValue:lt(t=>{const{multiple:e,value:n,itemToStringValue:r}=t;return e&&Array.isArray(n)&&n.length===0?"":yl(n,r)})},$4=M.createContext({formRef:{current:{fields:new Map}},errors:{},clearErrors:ir,validationMode:"onSubmit",submitAttemptedRef:{current:!1}});function pM(){return M.useContext($4)}function G4(t,e){return{...t,state:{...t.state,valid:!e&&t.state.valid}}}function K4(t){const{enabled:e=!0,value:n,id:r,name:o,controlRef:l,commit:a}=t,{formRef:u}=pM(),{invalid:d,markedDirtyRef:h,validityData:p,setValidityData:g}=nb(),b=_e(t.getValue);Le(()=>{if(!e)return;let v=n;v===void 0&&(v=b()),p.initialValue===null&&v!==null&&g(S=>({...S,initialValue:v}))},[e,g,n,p.initialValue,b]),Le(()=>{!e||!r||u.current.fields.set(r,{getValue:b,name:o,controlRef:l,validityData:G4(p,d),validate(){let v=n;v===void 0&&(v=b()),h.current=!0,ko.flushSync(()=>a(v))}})},[a,l,e,u,b,r,d,h,o,p,n]),Le(()=>{const v=u.current.fields;return()=>{r&&v.delete(r)}},[u,r])}function Y4(t,e){const n=M.useRef(t),r=_e(e);Le(()=>{n.current!==t&&r(n.current)},[t,r]),Le(()=>{n.current=t},[t])}function X4(t){const e=M.useRef(""),n=M.useCallback(o=>{o.defaultPrevented||(e.current=o.pointerType,t(o,o.pointerType))},[t]);return{onClick:M.useCallback(o=>{if(o.detail===0){t(o,"keyboard");return}"pointerType"in o&&t(o,o.pointerType),t(o,e.current),e.current=""},[t]),onPointerDown:n}}function W4(t){const[e,n]=M.useState(null),r=_e((u,d)=>{t||n(d)}),o=M.useCallback(()=>{n(null)},[]),{onClick:l,onPointerDown:a}=X4(r);return M.useMemo(()=>({openMethod:e,reset:o,triggerProps:{onClick:l,onPointerDown:a}}),[e,o,l,a])}function J4(t){const{id:e,value:n,defaultValue:r=null,onValueChange:o,open:l,defaultOpen:a=!1,onOpenChange:u,name:d,disabled:h=!1,readOnly:p=!1,required:g=!1,modal:b=!0,actionsRef:v,inputRef:S,onOpenChangeComplete:E,items:T,multiple:w=!1,itemToStringLabel:k,itemToStringValue:A,isItemEqualToValue:O=j4,highlightItemOnHover:N=!0,children:H}=t,{clearErrors:z}=pM(),{setDirty:I,shouldValidateOnChange:K,validityData:se,setFilled:ce,name:ue,disabled:me,validation:ee}=nb(),{controlId:G}=rb(),L=V4({id:e}),q=me||h,B=ue??d,[X,ne]=pd({controlled:n,default:w?r??Ss:r,name:"Select",state:"value"}),[R,F]=pd({controlled:l,default:a,name:"Select",state:"open"}),j=M.useRef([]),Q=M.useRef([]),he=M.useRef(null),ae=M.useRef(null),J=M.useRef(0),pe=M.useRef(null),Ee=M.useRef([]),Ue=M.useRef(!1),ie=M.useRef(!1),Te=M.useRef(null),be=M.useRef({allowSelectedMouseUp:!1,allowUnselectedMouseUp:!1}),We=M.useRef(!1),{mounted:Oe,setMounted:fe,transitionStatus:ve}=tb(R),{openMethod:je,triggerProps:Ae,reset:Re}=W4(R),re=Gr(()=>new El({id:L,modal:b,multiple:w,itemToStringLabel:k,itemToStringValue:A,isItemEqualToValue:O,value:X,open:R,mounted:Oe,transitionStatus:ve,items:T,forceMount:!1,openMethod:null,activeIndex:null,selectedIndex:null,popupProps:{},triggerProps:{},triggerElement:null,positionerElement:null,listElement:null,scrollUpArrowVisible:!1,scrollDownArrowVisible:!1,hasScrollArrows:!1})).current,Ne=qe(re,He.activeIndex),ge=qe(re,He.selectedIndex),Se=qe(re,He.triggerElement),ye=qe(re,He.positionerElement),Je=M.useMemo(()=>w&&Array.isArray(X)&&X.length===0?"":yl(X,A),[w,X,A]),it=M.useMemo(()=>w&&Array.isArray(X)?X.map(et=>yl(et,A)):yl(X,A),[w,X,A]),Ge=En(re.state.triggerElement);K4({id:L,commit:ee.commit,value:X,controlRef:Ge,name:B,getValue:()=>it});const Dt=M.useRef(X);Le(()=>{X!==Dt.current&&re.set("forceMount",!0)},[re,X]),Le(()=>{ce(X!==null)},[X,ce]),Le(function(){if(R)return;const Rt=Ee.current;if(w){const Hn=Array.isArray(X)?X:[];if(Hn.length===0){re.set("selectedIndex",null);return}const Dn=Hn[Hn.length-1],Xr=Zg(Rt,Dn,O);re.set("selectedIndex",Xr===-1?null:Xr);return}const Cn=Zg(Rt,X,O);re.set("selectedIndex",Cn===-1?null:Cn)},[w,R,X,Ee,O,re]),Y4(X,()=>{z(B),I(X!==se.initialValue),K()?ee.commit(X):ee.commit(X,!0)});const Ot=_e((et,Rt)=>{if(u?.(et,Rt),!Rt.isCanceled&&(F(et),!et&&re.state.activeIndex!==null)){const Cn=j.current[re.state.activeIndex];queueMicrotask(()=>{Cn?.setAttribute("tabindex","-1")})}}),Qt=_e(()=>{fe(!1),re.set("activeIndex",null),Re(),E?.(!1)});nh({enabled:!v,open:R,ref:he,onComplete(){R||Qt()}}),M.useImperativeHandle(v,()=>({unmount:Qt}),[Qt]);const zt=_e((et,Rt)=>{o?.(et,Rt),!Rt.isCanceled&&ne(et)}),vt=_e(()=>{const et=re.state.listElement||he.current;if(!et)return;const Rt=et.scrollTop,Cn=et.scrollTop+et.clientHeight,Hn=Rt>1,Dn=Cn<et.scrollHeight-1;re.state.scrollUpArrowVisible!==Hn&&re.set("scrollUpArrowVisible",Hn),re.state.scrollDownArrowVisible!==Dn&&re.set("scrollDownArrowVisible",Dn)}),dt=cM({open:R,onOpenChange:Ot,elements:{reference:Se,floating:ye}}),fn=LI(dt,{enabled:!p&&!q,event:"mousedown"}),jt=T4(dt,{bubbles:!1}),bt=z4(dt,{enabled:!p&&!q,listRef:j,activeIndex:Ne,selectedIndex:ge,disabledIndices:Ss,onNavigate(et){et===null&&!R||re.set("activeIndex",et)},focusItemOnHover:!1}),qt=L4(dt,{enabled:!p&&!q&&(R||!w),listRef:Q,activeIndex:Ne,selectedIndex:ge,onMatch(et){R?re.set("activeIndex",et):zt(Ee.current[et],kt("none"))},onTypingChange(et){Ue.current=et}}),{getReferenceProps:rn,getFloatingProps:Tt,getItemProps:wn}=O4([fn,jt,bt,qt]),dn=M.useMemo(()=>eh(rn(),Ae),[rn,Ae]);zB(()=>{re.update({popupProps:Tt(),triggerProps:dn})}),Le(()=>{re.update({id:L,modal:b,multiple:w,value:X,open:R,mounted:Oe,transitionStatus:ve,popupProps:Tt(),triggerProps:dn,items:T,itemToStringLabel:k,itemToStringValue:A,isItemEqualToValue:O,openMethod:je})},[re,L,b,w,X,R,Oe,ve,Tt,dn,T,k,A,O,je]);const Ft=M.useMemo(()=>({store:re,name:B,required:g,disabled:q,readOnly:p,multiple:w,itemToStringLabel:k,itemToStringValue:A,highlightItemOnHover:N,setValue:zt,setOpen:Ot,listRef:j,popupRef:he,scrollHandlerRef:ae,handleScrollArrowVisibility:vt,scrollArrowsMountedCountRef:J,getItemProps:wn,events:dt.context.events,valueRef:pe,valuesRef:Ee,labelsRef:Q,typingRef:Ue,selectionRef:be,selectedItemTextRef:Te,validation:ee,onOpenChangeComplete:E,keyboardActiveRef:ie,alignItemWithTriggerActiveRef:We,initialValueRef:Dt}),[re,B,g,q,p,w,k,A,N,zt,Ot,wn,dt.context.events,ee,E,vt]),In=Ao(S,ee.inputRef),ur=w&&Array.isArray(X)&&X.length>0,_o=M.useMemo(()=>!w||!Array.isArray(X)||!B?null:X.map(et=>{const Rt=yl(et,A);return oe.jsx("input",{type:"hidden",name:B,value:Rt},Rt)}),[w,X,B,A]);return oe.jsx(uM.Provider,{value:Ft,children:oe.jsxs(fM.Provider,{value:dt,children:[H,oe.jsx("input",{...ee.getInputValidationProps({onFocus(){re.state.triggerElement?.focus()},onChange(et){if(et.nativeEvent.defaultPrevented)return;const Rt=et.target.value,Cn=kt(Qd,et.nativeEvent);function Hn(){if(w)return;const Dn=Ee.current.find(Xr=>yl(Xr,A).toLowerCase()===Rt.toLowerCase());Dn!=null&&(I(Dn!==se.initialValue),zt(Dn,Cn),K()&&ee.commit(Dn))}re.set("forceMount",!0),queueMicrotask(Hn)}}),id:e||G||void 0,name:w?void 0:B,value:Je,disabled:q,required:g&&!ur,readOnly:p,ref:In,style:Fy,tabIndex:-1,"aria-hidden":!0}),_o]})})}let kd=(function(t){return t.startingStyle="data-starting-style",t.endingStyle="data-ending-style",t})({});const Q4={[kd.startingStyle]:""},Z4={[kd.endingStyle]:""},mM={transitionStatus(t){return t==="starting"?Q4:t==="ending"?Z4:null}};let ib=(function(t){return t.open="data-open",t.closed="data-closed",t[t.startingStyle=kd.startingStyle]="startingStyle",t[t.endingStyle=kd.endingStyle]="endingStyle",t.anchorHidden="data-anchor-hidden",t})({}),ty=(function(t){return t.popupOpen="data-popup-open",t.pressed="data-pressed",t})({});const eH={[ty.popupOpen]:""},tH={[ty.popupOpen]:"",[ty.pressed]:""},nH={[ib.open]:""},rH={[ib.closed]:""},iH={[ib.anchorHidden]:""},oH={open(t){return t?eH:null}},sH={open(t){return t?tH:null}},gM={open(t){return t?nH:rH},anchorHidden(t){return t?iH:null}};function lH(t){const e=t.getBoundingClientRect(),n=window.getComputedStyle(t,"::before"),r=window.getComputedStyle(t,"::after");if(!(n.content!=="none"||r.content!=="none"))return e;const l=parseFloat(n.width)||0,a=parseFloat(n.height)||0,u=parseFloat(r.width)||0,d=parseFloat(r.height)||0,h=Math.max(e.width,l,u),p=Math.max(e.height,a,d),g=h-e.width,b=p-e.height;return{left:e.left-g/2,right:e.right+g/2,top:e.top-b/2,bottom:e.bottom+b/2}}const yM=M.createContext(void 0);function bM(t=!1){const e=M.useContext(yM);if(e===void 0&&!t)throw new Error(Oi(16));return e}function aH(t){const{focusableWhenDisabled:e,disabled:n,composite:r=!1,tabIndex:o=0,isNativeButton:l}=t,a=r&&e!==!1,u=r&&e===!1;return{props:M.useMemo(()=>{const h={onKeyDown(p){n&&e&&p.key!=="Tab"&&p.preventDefault()}};return r||(h.tabIndex=o,!l&&n&&(h.tabIndex=e?o:-1)),(l&&(e||a)||!l&&n)&&(h["aria-disabled"]=n),l&&(!e||u)&&(h.disabled=n),h},[r,n,e,a,u,l,o])}}function ih(t={}){const{disabled:e=!1,focusableWhenDisabled:n,tabIndex:r=0,native:o=!0}=t,l=M.useRef(null),a=bM(!0)!==void 0,u=_e(()=>{const b=l.current;return!!(b?.tagName==="A"&&b?.href)}),{props:d}=aH({focusableWhenDisabled:n,disabled:e,composite:a,tabIndex:r,isNativeButton:o}),h=M.useCallback(()=>{const b=l.current;cH(b)&&a&&e&&d.disabled===void 0&&b.disabled&&(b.disabled=!1)},[e,d.disabled,a]);Le(h,[h]);const p=M.useCallback((b={})=>{const{onClick:v,onMouseDown:S,onKeyUp:E,onKeyDown:T,onPointerDown:w,...k}=b;return eh({type:o?"button":void 0,onClick(O){if(e){O.preventDefault();return}v?.(O)},onMouseDown(O){e||S?.(O)},onKeyDown(O){if(e||(Qg(O),T?.(O)),O.baseUIHandlerPrevented)return;const N=O.target===O.currentTarget&&!o&&!u()&&!e,H=O.key==="Enter",z=O.key===" ";N&&((z||H)&&O.preventDefault(),H&&v?.(O))},onKeyUp(O){e||(Qg(O),E?.(O)),!O.baseUIHandlerPrevented&&O.target===O.currentTarget&&!o&&!e&&O.key===" "&&v?.(O)},onPointerDown(O){if(e){O.preventDefault();return}w?.(O)}},o?void 0:{role:"button"},d,k)},[e,d,o,u]),g=_e(b=>{l.current=b,h()});return{getButtonProps:p,buttonRef:g}}function cH(t){return Ht(t)&&t.tagName==="BUTTON"}const ff=2,uH={...sH,..._4,value:()=>null},fH=M.forwardRef(function(e,n){const{render:r,className:o,disabled:l=!1,nativeButton:a=!0,...u}=e,{setTouched:d,setFocused:h,validationMode:p,state:g,disabled:b}=nb(),{labelId:v}=rb(),{store:S,setOpen:E,selectionRef:T,validation:w,readOnly:k,alignItemWithTriggerActiveRef:A,disabled:O,keyboardActiveRef:N}=Yr(),H=b||O||l,z=qe(S,He.open),I=qe(S,He.value),K=qe(S,He.triggerProps),se=qe(S,He.positionerElement),ce=qe(S,He.listElement),ue=qe(S,He.serializedValue),me=En(se),ee=M.useRef(null),G=or(),L=or(),{getButtonProps:q,buttonRef:B}=ih({disabled:H,native:a}),X=_e(ae=>{S.set("triggerElement",ae)}),ne=Ao(n,ee,B,X),R=or(),F=or();M.useEffect(()=>{if(z)return F.start(200,()=>{T.current.allowUnselectedMouseUp=!0,R.start(200,()=>{T.current.allowSelectedMouseUp=!0})}),()=>{R.clear(),F.clear()};T.current={allowSelectedMouseUp:!1,allowUnselectedMouseUp:!1},L.clear()},[z,T,L,R,F]);const j=M.useMemo(()=>ce?.id??gd(se)?.id,[ce,se]),Q=eh(K,{role:"combobox","aria-expanded":z?"true":"false","aria-haspopup":"listbox","aria-controls":z?j:void 0,"aria-labelledby":v,"aria-readonly":k||void 0,tabIndex:H?-1:0,ref:ne,onFocus(ae){h(!0),z&&A.current&&E(!1,kt(Zd,ae.nativeEvent)),G.start(0,()=>{S.set("forceMount",!0)})},onBlur(){d(!0),h(!1),p==="onBlur"&&w.commit(I)},onPointerMove(){N.current=!1},onKeyDown(){N.current=!0},onMouseDown(ae){if(z)return;const J=Oo(ae.currentTarget);function pe(Ee){if(!ee.current)return;const Ue=Ee.target;if(Nt(ee.current,Ue)||Nt(me.current,Ue)||Ue===ee.current)return;const ie=lH(ee.current);Ee.clientX>=ie.left-ff&&Ee.clientX<=ie.right+ff&&Ee.clientY>=ie.top-ff&&Ee.clientY<=ie.bottom+ff||E(!1,kt(uI,Ee))}L.start(0,()=>{J.addEventListener("mouseup",pe,{once:!0})})}},w.getValidationProps,u,q);Q.role="combobox";const he=M.useMemo(()=>({...g,open:z,disabled:H,value:I,readOnly:k,placeholder:!ue}),[g,z,H,I,k,ue]);return Nn("button",e,{ref:[n,ee],state:he,stateAttributesMapping:uH,props:Q})}),dH={value:()=>null},hH=M.forwardRef(function(e,n){const{className:r,render:o,children:l,...a}=e,{store:u,valueRef:d}=Yr(),h=qe(u,He.value),p=qe(u,He.items),g=qe(u,He.itemToStringLabel),b=qe(u,He.serializedValue),v=M.useMemo(()=>({value:h,placeholder:!b}),[h,b]),S=typeof l=="function"?l(h):l??(Array.isArray(h)?F4(h,g):q4(h,p,g));return Nn("span",e,{state:v,ref:[n,d],props:[{children:S},a],stateAttributesMapping:dH})}),pH=M.forwardRef(function(e,n){const{className:r,render:o,...l}=e,{store:a}=Yr(),u=qe(a,He.open),d=M.useMemo(()=>({open:u}),[u]);return Nn("span",e,{state:d,ref:n,props:[{"aria-hidden":!0,children:""},l],stateAttributesMapping:oH})}),mH=M.createContext(void 0),gH=M.forwardRef(function(e,n){const{store:r}=Yr(),o=qe(r,He.mounted),l=qe(r,He.forceMount);return o||l?oe.jsx(mH.Provider,{value:!0,children:oe.jsx(AI,{ref:n,...e})}):null});function yH(t){return $y(19)?t:t?"true":void 0}let hE={},pE={},mE="";function bH(t){if(typeof document>"u")return!1;const e=Oo(t);return tn(e).innerWidth-e.documentElement.clientWidth>0}function vH(t){const e=Oo(t),n=e.documentElement,r=e.body,o=Cs(n)?n:r,l=o.style.overflow;return o.style.overflow="hidden",()=>{o.style.overflow=l}}function SH(t){const e=Oo(t),n=e.documentElement,r=e.body,o=tn(n);let l=0,a=0;const u=Pr.create(),d=typeof CSS<"u"&&CSS.supports?.("scrollbar-gutter","stable");if(MC&&(o.visualViewport?.scale??1)!==1)return()=>{};function h(){const b=o.getComputedStyle(n),v=o.getComputedStyle(r),T=(b.scrollbarGutter||"").includes("both-edges")?"stable both-edges":"stable";l=n.scrollTop,a=n.scrollLeft,hE={scrollbarGutter:n.style.scrollbarGutter,overflowY:n.style.overflowY,overflowX:n.style.overflowX},mE=n.style.scrollBehavior,pE={position:r.style.position,height:r.style.height,width:r.style.width,boxSizing:r.style.boxSizing,overflowY:r.style.overflowY,overflowX:r.style.overflowX,scrollBehavior:r.style.scrollBehavior};const w=n.scrollHeight>n.clientHeight,k=n.scrollWidth>n.clientWidth,A=b.overflowY==="scroll"||v.overflowY==="scroll",O=b.overflowX==="scroll"||v.overflowX==="scroll",N=Math.max(0,o.innerWidth-n.clientWidth),H=Math.max(0,o.innerHeight-n.clientHeight),z=parseFloat(v.marginTop)+parseFloat(v.marginBottom),I=parseFloat(v.marginLeft)+parseFloat(v.marginRight),K=Cs(n)?n:r;if(d){n.style.scrollbarGutter=T,K.style.overflowY="hidden",K.style.overflowX="hidden";return}Object.assign(n.style,{scrollbarGutter:T,overflowY:"hidden",overflowX:"hidden"}),(w||A)&&(n.style.overflowY="scroll"),(k||O)&&(n.style.overflowX="scroll"),Object.assign(r.style,{position:"relative",height:z||H?`calc(100dvh - ${z+H}px)`:"100dvh",width:I||N?`calc(100vw - ${I+N}px)`:"100vw",boxSizing:"border-box",overflow:"hidden",scrollBehavior:"unset"}),r.scrollTop=l,r.scrollLeft=a,n.setAttribute("data-base-ui-scroll-locked",""),n.style.scrollBehavior="unset"}function p(){Object.assign(n.style,hE),Object.assign(r.style,pE),d||(n.scrollTop=l,n.scrollLeft=a,n.removeAttribute("data-base-ui-scroll-locked"),n.style.scrollBehavior=mE)}function g(){p(),u.request(h)}return h(),o.addEventListener("resize",g),()=>{u.cancel(),p(),typeof o.removeEventListener=="function"&&o.removeEventListener("resize",g)}}class xH{lockCount=0;restore=null;timeoutLock=_l.create();timeoutUnlock=_l.create();acquire(e){return this.lockCount+=1,this.lockCount===1&&this.restore===null&&this.timeoutLock.start(0,()=>this.lock(e)),this.release}release=()=>{this.lockCount-=1,this.lockCount===0&&this.restore&&this.timeoutUnlock.start(0,this.unlock)};unlock=()=>{this.lockCount===0&&this.restore&&(this.restore?.(),this.restore=null)};lock(e){if(this.lockCount===0||this.restore!==null)return;const r=Oo(e).documentElement,o=tn(r).getComputedStyle(r).overflowY;if(o==="hidden"||o==="clip"){this.restore=ir;return}const l=y_||!bH(e);this.restore=l?vH(e):SH(e)}}const EH=new xH;function TH(t=!0,e=null){Le(()=>{if(t)return EH.acquire(e)},[t,e])}const vM=M.createContext({register:()=>{},unregister:()=>{},subscribeMapChange:()=>()=>{},elementsRef:{current:[]},nextIndexRef:{current:0}});function wH(){return M.useContext(vM)}function SM(t){const{children:e,elementsRef:n,labelsRef:r,onMapChange:o}=t,l=_e(o),a=M.useRef(0),u=Gr(MH).current,d=Gr(CH).current,[h,p]=M.useState(0),g=M.useRef(h),b=_e((w,k)=>{d.set(w,k??null),g.current+=1,p(g.current)}),v=_e(w=>{d.delete(w),g.current+=1,p(g.current)}),S=M.useMemo(()=>{const w=new Map;return Array.from(d.keys()).filter(A=>A.isConnected).sort(kH).forEach((A,O)=>{const N=d.get(A)??{};w.set(A,{...N,index:O})}),w},[d,h]);Le(()=>{if(typeof MutationObserver!="function"||S.size===0)return;const w=new MutationObserver(k=>{const A=new Set,O=N=>A.has(N)?A.delete(N):A.add(N);k.forEach(N=>{N.removedNodes.forEach(O),N.addedNodes.forEach(O)}),A.size===0&&(g.current+=1,p(g.current))});return S.forEach((k,A)=>{A.parentElement&&w.observe(A.parentElement,{childList:!0})}),()=>{w.disconnect()}},[S]),Le(()=>{g.current===h&&(n.current.length!==S.size&&(n.current.length=S.size),r&&r.current.length!==S.size&&(r.current.length=S.size),a.current=S.size),l(S)},[l,S,n,r,h]),Le(()=>()=>{n.current=[]},[n]),Le(()=>()=>{r&&(r.current=[])},[r]);const E=_e(w=>(u.add(w),()=>{u.delete(w)}));Le(()=>{u.forEach(w=>w(S))},[u,S]);const T=M.useMemo(()=>({register:b,unregister:v,subscribeMapChange:E,elementsRef:n,labelsRef:r,nextIndexRef:a}),[b,v,E,n,r,a]);return oe.jsx(vM.Provider,{value:T,children:e})}function CH(){return new Map}function MH(){return new Set}function kH(t,e){const n=t.compareDocumentPosition(e);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}const AH=M.createContext(void 0);function xM(){return M.useContext(AH)?.direction??"ltr"}const OH=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:o,rects:l,platform:a,elements:u,middlewareData:d}=e,{element:h,padding:p=0,offsetParent:g="real"}=ki(t,e)||{};if(h==null)return{};const b=zC(p),v={x:n,y:r},S=Jy(o),E=Wy(S),T=await a.getDimensions(h),w=S==="y",k=w?"top":"left",A=w?"bottom":"right",O=w?"clientHeight":"clientWidth",N=l.reference[E]+l.reference[S]-v[S]-l.floating[E],H=v[S]-l.reference[S],z=g==="real"?await a.getOffsetParent?.(h):u.floating;let I=u.floating[O]||l.floating[E];(!I||!await a.isElement?.(z))&&(I=u.floating[O]||l.floating[E]);const K=N/2-H/2,se=I/2-T[E]/2-1,ce=Math.min(b[k],se),ue=Math.min(b[A],se),me=ce,ee=I-T[E]-ue,G=I/2-T[E]/2+K,L=$g(me,G,ee),q=!d.arrow&&Bo(o)!=null&&G!==L&&l.reference[E]/2-(G<me?ce:ue)-T[E]/2<0,B=q?G<me?G-me:G-ee:0;return{[S]:v[S]+B,data:{[S]:L,centerOffset:G-L-B,...q&&{alignmentOffset:B}},reset:q}}}),RH=(t,e)=>({...OH(t),options:[t,e]}),NH={name:"hide",async fn(t){const{width:e,height:n,x:r,y:o}=t.rects.reference,l=e===0&&n===0&&r===0&&o===0;return{data:{referenceHidden:(await S4().fn(t)).data?.referenceHidden||l}}}},DH={sideX:"left",sideY:"top"};function EM(t,e,n){const r=t==="inline-start"||t==="inline-end";return{top:"top",right:r?n?"inline-start":"inline-end":"right",bottom:"bottom",left:r?n?"inline-end":"inline-start":"left"}[e]}function gE(t,e,n){const{rects:r,placement:o}=t;return{side:EM(e,lr(o),n),align:Bo(o)||"center",anchor:{width:r.reference.width,height:r.reference.height},positioner:{width:r.floating.width,height:r.floating.height}}}function zH(t){const{anchor:e,positionMethod:n="absolute",side:r="bottom",sideOffset:o=0,align:l="center",alignOffset:a=0,collisionBoundary:u,collisionPadding:d=5,sticky:h=!1,arrowPadding:p=5,disableAnchorTracking:g=!1,keepMounted:b=!1,floatingRootContext:v,mounted:S,collisionAvoidance:E,shiftCrossAxis:T=!1,nodeId:w,adaptiveOrigin:k,lazyFlip:A=!1,externalTree:O}=t,[N,H]=M.useState(null);!S&&N!==null&&H(null);const z=E.side||"flip",I=E.align||"flip",K=E.fallbackAxisSide||"end",se=typeof e=="function"?e:void 0,ce=_e(se),ue=se?ce:e,me=En(e),G=xM()==="rtl",L=N||{top:"top",right:"right",bottom:"bottom",left:"left","inline-end":G?"left":"right","inline-start":G?"right":"left"}[r],q=l==="center"?L:`${L}-${l}`;let B=d;const X=1,ne=r==="bottom"?X:0,R=r==="top"?X:0,F=r==="right"?X:0,j=r==="left"?X:0;typeof B=="number"?B={top:B+ne,right:B+j,bottom:B+R,left:B+F}:B&&(B={top:(B.top||0)+ne,right:(B.right||0)+j,bottom:(B.bottom||0)+R,left:(B.left||0)+F});const Q={boundary:u==="clipping-ancestors"?"clippingAncestors":u,padding:B},he=M.useRef(null),ae=En(o),J=En(a),Ue=[m4(bt=>{const qt=gE(bt,r,G),rn=typeof ae.current=="function"?ae.current(qt):ae.current,Tt=typeof J.current=="function"?J.current(qt):J.current;return{mainAxis:rn,crossAxis:Tt,alignmentAxis:Tt}},[typeof o!="function"?o:0,typeof a!="function"?a:0,G,r])],ie=I==="none"&&z!=="shift",Te=!ie&&(h||T||z==="shift"),be=z==="none"?null:b4({...Q,padding:{top:B.top+X,right:B.right+X,bottom:B.bottom+X,left:B.left+X},mainAxis:!T&&z==="flip",crossAxis:I==="flip"?"alignment":!1,fallbackAxisSideDirection:K}),We=ie?null:g4(bt=>{const qt=Oo(bt.elements.floating).documentElement;return{...Q,rootBoundary:T?{x:0,y:0,width:qt.clientWidth,height:qt.clientHeight}:void 0,mainAxis:I!=="none",crossAxis:Te,limiter:h||T?void 0:y4(rn=>{if(!he.current)return{};const{width:Tt,height:wn}=he.current.getBoundingClientRect(),dn=Cr(lr(rn.placement)),Ft=dn==="y"?Tt:wn,In=dn==="y"?B.left+B.right:B.top+B.bottom;return{offset:Ft/2+In/2}})}},[Q,h,T,B,I]);z==="shift"||I==="shift"||l==="center"?Ue.push(We,be):Ue.push(be,We),Ue.push(v4({...Q,apply({elements:{floating:bt},rects:{reference:qt},availableWidth:rn,availableHeight:Tt}){Object.entries({"--available-width":`${rn}px`,"--available-height":`${Tt}px`,"--anchor-width":`${qt.width}px`,"--anchor-height":`${qt.height}px`}).forEach(([wn,dn])=>{bt.style.setProperty(wn,dn)})}}),RH(()=>({element:he.current||document.createElement("div"),padding:p,offsetParent:"floating"}),[p]),{name:"transformOrigin",fn(bt){const{elements:qt,middlewareData:rn,placement:Tt,rects:wn,y:dn}=bt,Ft=lr(Tt),In=Cr(Ft),ur=he.current,_o=rn.arrow?.x||0,et=rn.arrow?.y||0,Rt=ur?.clientWidth||0,Cn=ur?.clientHeight||0,Hn=_o+Rt/2,Dn=et+Cn/2,Xr=Math.abs(rn.shift?.y||0),Fl=wn.reference.height/2,Wr=typeof o=="function"?o(gE(bt,r,G)):o,$l=Xr>Wr,Oc={top:`${Hn}px calc(100% + ${Wr}px)`,bottom:`${Hn}px ${-Wr}px`,left:`calc(100% + ${Wr}px) ${Dn}px`,right:`${-Wr}px ${Dn}px`}[Ft],Rc=`${Hn}px ${wn.reference.y+Fl-dn}px`;return qt.floating.style.setProperty("--transform-origin",Te&&In==="y"&&$l?Rc:Oc),{}}},NH,k),Le(()=>{!S&&v&&v.update({referenceElement:null,floatingElement:null,domReferenceElement:null})},[S,v]);const Oe=M.useMemo(()=>({elementResize:!g&&typeof ResizeObserver<"u",layoutShift:!g&&typeof IntersectionObserver<"u"}),[g]),{refs:fe,elements:ve,x:je,y:Ae,middlewareData:Re,update:re,placement:Ne,context:ge,isPositioned:Se,floatingStyles:ye}=A4({rootContext:v,placement:q,middleware:Ue,strategy:n,whileElementsMounted:b?void 0:(...bt)=>cE(...bt,Oe),nodeId:w,externalTree:O}),{sideX:Je,sideY:it}=Re.adaptiveOrigin||DH,Ge=Se?n:"fixed",Dt=M.useMemo(()=>k?{position:Ge,[Je]:je,[it]:Ae}:{position:Ge,...ye},[k,Ge,Je,je,it,Ae,ye]),Ot=M.useRef(null);Le(()=>{if(!S)return;const bt=me.current,qt=typeof bt=="function"?bt():bt,Tt=(yE(qt)?qt.current:qt)||null||null;Tt!==Ot.current&&(fe.setPositionReference(Tt),Ot.current=Tt)},[S,fe,ue,me]),M.useEffect(()=>{if(!S)return;const bt=me.current;typeof bt!="function"&&yE(bt)&&bt.current!==Ot.current&&(fe.setPositionReference(bt.current),Ot.current=bt.current)},[S,fe,ue,me]),M.useEffect(()=>{if(b&&S&&ve.domReference&&ve.floating)return cE(ve.domReference,ve.floating,re,Oe)},[b,S,ve,re,Oe]);const Qt=lr(Ne),zt=EM(r,Qt,G),vt=Bo(Ne)||"center",dt=!!Re.hide?.referenceHidden;Le(()=>{A&&S&&Se&&H(Qt)},[A,S,Se,Qt]);const fn=M.useMemo(()=>({position:"absolute",top:Re.arrow?.y,left:Re.arrow?.x}),[Re.arrow]),jt=Re.arrow?.centerOffset!==0;return M.useMemo(()=>({positionerStyles:Dt,arrowStyles:fn,arrowRef:he,arrowUncentered:jt,side:zt,align:vt,physicalSide:Qt,anchorHidden:dt,refs:fe,context:ge,isPositioned:Se,update:re}),[Dt,fn,he,jt,zt,vt,Qt,dt,fe,ge,Se,re])}function yE(t){return t!=null&&"current"in t}const TM=M.createContext(void 0);function ob(){const t=M.useContext(TM);if(!t)throw new Error(Oi(59));return t}const LH=M.forwardRef(function(e,n){const{cutout:r,...o}=e;let l;if(r){const a=r?.getBoundingClientRect();l=`polygon(
      0% 0%,
      100% 0%,
      100% 100%,
      0% 100%,
      0% 0%,
      ${a.left}px ${a.top}px,
      ${a.left}px ${a.bottom}px,
      ${a.right}px ${a.bottom}px,
      ${a.right}px ${a.top}px,
      ${a.left}px ${a.top}px
    )`}return oe.jsx("div",{ref:n,role:"presentation","data-base-ui-inert":"",...o,style:{position:"fixed",inset:0,userSelect:"none",WebkitUserSelect:"none",clipPath:l}})});function Ad(t,e){t&&Object.assign(t.style,e)}const wM={position:"relative",maxHeight:"100%",overflowX:"hidden",overflowY:"auto"},BH={position:"fixed"},_H=M.forwardRef(function(e,n){const{anchor:r,positionMethod:o="absolute",className:l,render:a,side:u="bottom",align:d="center",sideOffset:h=0,alignOffset:p=0,collisionBoundary:g="clipping-ancestors",collisionPadding:b,arrowPadding:v=5,sticky:S=!1,disableAnchorTracking:E,alignItemWithTrigger:T=!0,collisionAvoidance:w=sI,...k}=e,{store:A,listRef:O,labelsRef:N,alignItemWithTriggerActiveRef:H,selectedItemTextRef:z,valuesRef:I,initialValueRef:K,popupRef:se,setValue:ce}=Yr(),ue=dM(),me=qe(A,He.open),ee=qe(A,He.mounted),G=qe(A,He.modal),L=qe(A,He.value),q=qe(A,He.openMethod),B=qe(A,He.positionerElement),X=qe(A,He.triggerElement),ne=qe(A,He.isItemEqualToValue),R=M.useRef(null),F=M.useRef(null),[j,Q]=M.useState(T),he=ee&&j&&q!=="touch";!ee&&j!==T&&Q(T),Le(()=>{ee||(He.scrollUpArrowVisible(A.state)&&A.set("scrollUpArrowVisible",!1),He.scrollDownArrowVisible(A.state)&&A.set("scrollDownArrowVisible",!1))},[A,ee]),M.useImperativeHandle(H,()=>he),TH((he||G)&&me&&q!=="touch",X);const ae=zH({anchor:r,floatingRootContext:ue,positionMethod:o,mounted:ee,side:u,sideOffset:h,align:d,alignOffset:p,arrowPadding:v,collisionBoundary:g,collisionPadding:b,sticky:S,disableAnchorTracking:E??he,collisionAvoidance:w,keepMounted:!0}),J=he?"none":ae.side,pe=he?BH:ae.positionerStyles,Ee=M.useMemo(()=>{const fe={};return me||(fe.pointerEvents="none"),{role:"presentation",hidden:!ee,style:{...pe,...fe}}},[me,ee,pe]),Ue=M.useMemo(()=>({open:me,side:J,align:ae.align,anchorHidden:ae.anchorHidden}),[me,J,ae.align,ae.anchorHidden]),ie=_e(fe=>{A.set("positionerElement",fe)}),Te=Nn("div",e,{ref:[n,ie],state:Ue,stateAttributesMapping:gM,props:[Ee,k]}),be=M.useRef(0),We=_e(fe=>{if(fe.size===0&&be.current===0||I.current.length===0)return;const ve=be.current;if(be.current=fe.size,fe.size===ve)return;const je=kt(Qd);if(ve!==0&&!A.state.multiple&&L!==null&&Zg(I.current,L,ne)===-1){const Re=K.current,Ne=Re!=null&&sg(I.current,Re,ne)?Re:null;ce(Ne,je),Ne===null&&(A.set("selectedIndex",null),z.current=null)}if(ve!==0&&A.state.multiple&&Array.isArray(L)){const Ae=L.filter(Re=>sg(I.current,Re,ne));(Ae.length!==L.length||Ae.some(Re=>!sg(L,Re,ne)))&&(ce(Ae,je),Ae.length===0&&(A.set("selectedIndex",null),z.current=null))}if(me&&he){A.update({scrollUpArrowVisible:!1,scrollDownArrowVisible:!1});const Ae={height:""};Ad(B,Ae),Ad(se.current,Ae)}}),Oe=M.useMemo(()=>({...ae,side:J,alignItemWithTriggerActive:he,setControlledAlignItemWithTrigger:Q,scrollUpArrowRef:R,scrollDownArrowRef:F}),[ae,J,he,Q]);return oe.jsx(SM,{elementsRef:O,labelsRef:N,onMapChange:We,children:oe.jsxs(TM.Provider,{value:Oe,children:[ee&&G&&oe.jsx(LH,{inert:yH(!me),cutout:X}),Te]})})});function CM(t){const e=t.currentTarget.getBoundingClientRect();return e.top+1<=t.clientY&&t.clientY<=e.bottom-1&&e.left+1<=t.clientX&&t.clientX<=e.right-1}const df="base-ui-disable-scrollbar",ny={className:df,element:oe.jsx("style",{href:df,precedence:"base-ui:low",children:`.${df}{scrollbar-width:none}.${df}::-webkit-scrollbar{display:none}`})},IH=M.createContext(void 0);function MM(t){return M.useContext(IH)}const kl="ArrowUp",cs="ArrowDown",vc="ArrowLeft",Al="ArrowRight",kc="Home",Ac="End",kM=new Set([vc,Al]),HH=new Set([vc,Al,kc,Ac]),AM=new Set([kl,cs]),VH=new Set([kl,cs,kc,Ac]),OM=new Set([...kM,...AM]),jH=new Set([...OM,kc,Ac]),UH=new Set([kl,cs,vc,Al,kc,Ac]),PH="Shift",qH="Control",FH="Alt",$H="Meta",GH=new Set([PH,qH,FH,$H]);function KH(t){return Ht(t)&&t.tagName==="INPUT"}function bE(t){return!!(KH(t)&&t.selectionStart!=null||Ht(t)&&t.tagName==="TEXTAREA")}function vE(t,e,n,r){if(!t||!e||!e.scrollTo)return;let o=t.scrollLeft,l=t.scrollTop;const a=t.clientWidth<t.scrollWidth,u=t.clientHeight<t.scrollHeight;if(a&&r!=="vertical"){const d=SE(t,e,"left"),h=hf(t),p=hf(e);n==="ltr"&&(d+e.offsetWidth+p.scrollMarginRight>t.scrollLeft+t.clientWidth-h.scrollPaddingRight?o=d+e.offsetWidth+p.scrollMarginRight-t.clientWidth+h.scrollPaddingRight:d-p.scrollMarginLeft<t.scrollLeft+h.scrollPaddingLeft&&(o=d-p.scrollMarginLeft-h.scrollPaddingLeft)),n==="rtl"&&(d-p.scrollMarginRight<t.scrollLeft+h.scrollPaddingLeft?o=d-p.scrollMarginLeft-h.scrollPaddingLeft:d+e.offsetWidth+p.scrollMarginRight>t.scrollLeft+t.clientWidth-h.scrollPaddingRight&&(o=d+e.offsetWidth+p.scrollMarginRight-t.clientWidth+h.scrollPaddingRight))}if(u&&r!=="horizontal"){const d=SE(t,e,"top"),h=hf(t),p=hf(e);d-p.scrollMarginTop<t.scrollTop+h.scrollPaddingTop?l=d-p.scrollMarginTop-h.scrollPaddingTop:d+e.offsetHeight+p.scrollMarginBottom>t.scrollTop+t.clientHeight-h.scrollPaddingBottom&&(l=d+e.offsetHeight+p.scrollMarginBottom-t.clientHeight+h.scrollPaddingBottom)}t.scrollTo({left:o,top:l,behavior:"auto"})}function SE(t,e,n){const r=n==="left"?"offsetLeft":"offsetTop";let o=0;for(;e.offsetParent&&(o+=e[r],e.offsetParent!==t);)e=e.offsetParent;return o}function hf(t){const e=getComputedStyle(t);return{scrollMarginTop:parseFloat(e.scrollMarginTop)||0,scrollMarginRight:parseFloat(e.scrollMarginRight)||0,scrollMarginBottom:parseFloat(e.scrollMarginBottom)||0,scrollMarginLeft:parseFloat(e.scrollMarginLeft)||0,scrollPaddingTop:parseFloat(e.scrollPaddingTop)||0,scrollPaddingRight:parseFloat(e.scrollPaddingRight)||0,scrollPaddingBottom:parseFloat(e.scrollPaddingBottom)||0,scrollPaddingLeft:parseFloat(e.scrollPaddingLeft)||0}}function YH(t){return t==="starting"?iI:Kn}const XH={...gM,...mM},WH=M.forwardRef(function(e,n){const{render:r,className:o,...l}=e,{store:a,popupRef:u,onOpenChangeComplete:d,setOpen:h,valueRef:p,selectedItemTextRef:g,keyboardActiveRef:b,multiple:v,handleScrollArrowVisibility:S,scrollHandlerRef:E}=Yr(),{side:T,align:w,alignItemWithTriggerActive:k,setControlledAlignItemWithTrigger:A,scrollDownArrowRef:O,scrollUpArrowRef:N}=ob(),H=MM()!=null,z=dM(),I=or(),K=qe(a,He.id),se=qe(a,He.open),ce=qe(a,He.mounted),ue=qe(a,He.popupProps),me=qe(a,He.transitionStatus),ee=qe(a,He.triggerElement),G=qe(a,He.positionerElement),L=qe(a,He.listElement),q=M.useRef(0),B=M.useRef(!1),X=M.useRef(0),ne=M.useRef(!1),R=M.useRef({}),F=$d(),j=_e(J=>{if(!G||!u.current||!ne.current)return;if(B.current||!k){S();return}const pe=G.style.top==="0px",Ee=G.style.bottom==="0px",Ue=G.getBoundingClientRect().height,ie=Oo(G),Te=getComputedStyle(G),be=parseFloat(Te.marginTop),We=parseFloat(Te.marginBottom),Oe=ie.documentElement.clientHeight-be-We,fe=J.scrollTop,ve=J.scrollHeight,je=J.clientHeight,Ae=ve-je;let Re=null,re=null,Ne=!1;if(pe){const ge=Ae-fe,Se=Ue+ge,ye=Math.min(Se,Oe);Re=ye,ye!==Oe?re=Ae:Ne=!0}else if(Ee){const ge=fe-0,Se=Ue+ge,ye=Math.min(Se,Oe),Je=Se-Oe;Re=ye,ye!==Oe?re=0:(Ne=!0,fe<Ae&&(re=fe-(ge-Je)))}Re!=null&&(G.style.height=`${Re}px`),re!=null&&(J.scrollTop=re),Ne&&(B.current=!0),S()});M.useImperativeHandle(E,()=>j,[j]),nh({open:se,ref:u,onComplete(){se&&d?.(!0)}});const Q=M.useMemo(()=>({open:se,transitionStatus:me,side:T,align:w}),[se,me,T,w]);Le(()=>{!G||!u.current||Object.keys(R.current).length||(R.current={top:G.style.top||"0",left:G.style.left||"0",right:G.style.right,height:G.style.height,bottom:G.style.bottom,minHeight:G.style.minHeight,maxHeight:G.style.maxHeight,marginTop:G.style.marginTop,marginBottom:G.style.marginBottom})},[u,G]),Le(()=>{ce||k||(ne.current=!1,B.current=!1,q.current=0,X.current=0,Ad(G,R.current))},[ce,k,G,u]),Le(()=>{const J=u.current;if(!(!ce||!ee||!G||!J)){if(!k){ne.current=!0,F.request(S);return}queueMicrotask(()=>{const pe=getComputedStyle(G),Ee=getComputedStyle(J),Ue=Oo(ee),ie=tn(G),Te=ee.getBoundingClientRect(),be=G.getBoundingClientRect(),We=Te.left,Oe=Te.height,fe=L||J,ve=fe.scrollHeight,je=parseFloat(Ee.borderBottomWidth),Ae=parseFloat(pe.marginTop)||10,Re=parseFloat(pe.marginBottom)||10,re=parseFloat(pe.minHeight)||100,Ne=5,ge=5,Se=20,ye=Ue.documentElement.clientHeight-Ae-Re,Je=Ue.documentElement.clientWidth,it=ye-Te.bottom+Oe,Ge=g.current,Dt=p.current;let Ot=0,Qt=0;if(Ge&&Dt){const Ft=Dt.getBoundingClientRect(),In=Ge.getBoundingClientRect(),ur=Ft.left-We,_o=In.left-be.left,et=Ft.top-Te.top+Ft.height/2,Rt=In.top-be.top+In.height/2;Ot=ur-_o,Qt=Rt-et}const zt=it+Qt+Re+je;let vt=Math.min(ye,zt);const dt=ye-Ae-Re,fn=zt-vt,jt=Math.max(Ne,We+Ot),bt=Je-ge,qt=Math.max(0,jt+be.width-bt);G.style.left=`${jt-qt}px`,G.style.height=`${vt}px`,G.style.maxHeight="auto",G.style.marginTop=`${Ae}px`,G.style.marginBottom=`${Re}px`,J.style.height="100%";const rn=fe.scrollHeight-fe.clientHeight,Tt=fn>=rn;Tt&&(vt=Math.min(ye,be.height)-(fn-rn));const wn=Te.top<Se||Te.bottom>ye-Se||vt<Math.min(ve,re),dn=(ie.visualViewport?.scale??1)!==1&&MC;if(wn||dn){ne.current=!0,Ad(G,R.current),ko.flushSync(()=>A(!1));return}if(Tt){const Ft=Math.max(0,ye-zt);G.style.top=be.height>=dt?"0":`${Ft}px`,G.style.height=`${vt}px`,fe.scrollTop=fe.scrollHeight-fe.clientHeight,q.current=Math.max(re,vt)}else G.style.bottom="0",q.current=Math.max(re,vt),fe.scrollTop=fn;q.current===ye&&(B.current=!0),S(),setTimeout(()=>{ne.current=!0})})}},[a,ce,G,ee,p,g,u,S,k,A,F,O,N,L]),M.useEffect(()=>{if(!k||!G||!ce)return;const J=tn(G);function pe(Ee){h(!1,kt(fI,Ee))}return J.addEventListener("resize",pe),()=>{J.removeEventListener("resize",pe)}},[h,k,G,ce]);const he={...L?{role:"presentation","aria-orientation":void 0}:{role:"listbox","aria-multiselectable":v||void 0,id:`${K}-list`},onKeyDown(J){b.current=!0,H&&UH.has(J.key)&&J.stopPropagation()},onMouseMove(){b.current=!1},onPointerLeave(J){if(CM(J)||J.pointerType==="touch")return;const pe=J.currentTarget;I.start(0,()=>{a.set("activeIndex",null),pe.focus({preventScroll:!0})})},onScroll(J){L||E.current?.(J.currentTarget)},...k&&{style:L?{height:"100%"}:wM}},ae=Nn("div",e,{ref:[n,u],state:Q,stateAttributesMapping:XH,props:[ue,he,YH(me),{className:!L&&k?ny.className:void 0},l]});return oe.jsxs(M.Fragment,{children:[ny.element,oe.jsx(zI,{context:z,modal:!1,disabled:!ce,restoreFocus:!0,children:ae})]})}),JH=M.forwardRef(function(e,n){const{className:r,render:o,...l}=e,{store:a,scrollHandlerRef:u}=Yr(),{alignItemWithTriggerActive:d}=ob(),h=qe(a,He.hasScrollArrows),p=qe(a,He.openMethod),g=qe(a,He.multiple),v={id:`${qe(a,He.id)}-list`,role:"listbox","aria-multiselectable":g||void 0,onScroll(E){u.current?.(E.currentTarget)},...d&&{style:wM},className:h&&p!=="touch"?ny.className:void 0},S=_e(E=>{a.set("listElement",E)});return Nn("div",e,{ref:[n,S],props:[v,l]})});let RM=(function(t){return t[t.None=0]="None",t[t.GuessFromOrder=1]="GuessFromOrder",t})({});function NM(t={}){const{label:e,metadata:n,textRef:r,indexGuessBehavior:o,index:l}=t,{register:a,unregister:u,subscribeMapChange:d,elementsRef:h,labelsRef:p,nextIndexRef:g}=wH(),b=M.useRef(-1),[v,S]=M.useState(l??(o===RM.GuessFromOrder?()=>{if(b.current===-1){const w=g.current;g.current+=1,b.current=w}return b.current}:-1)),E=M.useRef(null),T=M.useCallback(w=>{if(E.current=w,v!==-1&&w!==null&&(h.current[v]=w,p)){const k=e!==void 0;p.current[v]=k?e:r?.current?.textContent??w.textContent}},[v,h,p,e,r]);return Le(()=>{if(l!=null)return;const w=E.current;if(w)return a(w,n),()=>{u(w)}},[l,a,u,n]),Le(()=>{if(l==null)return d(w=>{const k=E.current?w.get(E.current)?.index:null;k!=null&&S(k)})},[l,d,S]),M.useMemo(()=>({ref:T,index:v}),[v,T])}const DM=M.createContext(void 0);function sb(){const t=M.useContext(DM);if(!t)throw new Error(Oi(57));return t}const QH=M.memo(M.forwardRef(function(e,n){const{render:r,className:o,value:l=null,label:a,disabled:u=!1,nativeButton:d=!1,...h}=e,p=M.useRef(null),g=NM({label:a,textRef:p,indexGuessBehavior:RM.GuessFromOrder}),{store:b,getItemProps:v,setOpen:S,setValue:E,selectionRef:T,typingRef:w,valuesRef:k,keyboardActiveRef:A,multiple:O,highlightItemOnHover:N}=Yr(),H=or(),z=qe(b,He.isActive,g.index),I=qe(b,He.isSelected,g.index,l),K=qe(b,He.isSelectedByFocus,g.index),se=qe(b,He.isItemEqualToValue),ce=g.index,ue=ce!==-1,me=M.useRef(null),ee=En(ce);Le(()=>{if(!ue)return;const ae=k.current;return ae[ce]=l,()=>{delete ae[ce]}},[ue,ce,l,k]),Le(()=>{if(!ue)return;const ae=b.state.value;let J=ae;O&&Array.isArray(ae)&&ae.length>0&&(J=ae[ae.length-1]),J!==void 0&&Vl(J,l,se)&&b.set("selectedIndex",ce)},[ue,ce,O,se,b,l]);const G=M.useMemo(()=>({disabled:u,selected:I,highlighted:z}),[u,I,z]),L=v({active:z,selected:I});L.onFocus=void 0,L.id=void 0;const q=M.useRef(null),B=M.useRef("mouse"),X=M.useRef(!1),{getButtonProps:ne,buttonRef:R}=ih({disabled:u,focusableWhenDisabled:!0,native:d});function F(ae){const J=b.state.value;if(O){const pe=Array.isArray(J)?J:[],Ee=I?U4(pe,l,se):[...pe,l];E(Ee,kt(Zm,ae))}else E(l,kt(Zm,ae)),S(!1,kt(Zm,ae))}const j={role:"option","aria-selected":I,"aria-disabled":u||void 0,tabIndex:z?0:-1,onFocus(){b.set("activeIndex",ce)},onMouseEnter(){!A.current&&b.state.selectedIndex===null&&b.set("activeIndex",ce)},onMouseMove(){N&&b.set("activeIndex",ce)},onMouseLeave(ae){!N||A.current||CM(ae)||H.start(0,()=>{b.state.activeIndex===ce&&b.set("activeIndex",null)})},onTouchStart(){T.current={allowSelectedMouseUp:!1,allowUnselectedMouseUp:!1}},onKeyDown(ae){q.current=ae.key,b.set("activeIndex",ce)},onClick(ae){X.current=!1,!(ae.type==="keydown"&&q.current===null)&&(u||q.current===" "&&w.current||B.current!=="touch"&&!z||(q.current=null,F(ae.nativeEvent)))},onPointerEnter(ae){B.current=ae.pointerType},onPointerDown(ae){B.current=ae.pointerType,X.current=!0},onMouseUp(ae){if(u)return;if(X.current){X.current=!1;return}const J=!T.current.allowSelectedMouseUp&&I,pe=!T.current.allowUnselectedMouseUp&&!I;J||pe||B.current!=="touch"&&!z||F(ae.nativeEvent)}},Q=Nn("div",e,{ref:[R,n,g.ref,me],state:G,props:[L,j,h,ne]}),he=M.useMemo(()=>({selected:I,indexRef:ee,textRef:p,selectedByFocus:K,hasRegistered:ue}),[I,ee,p,K,ue]);return oe.jsx(DM.Provider,{value:he,children:Q})})),ZH=M.forwardRef(function(e,n){const r=e.keepMounted??!1,{selected:o}=sb();return r||o?oe.jsx(e5,{...e,ref:n}):null}),e5=M.memo(M.forwardRef((t,e)=>{const{render:n,className:r,keepMounted:o,...l}=t,{selected:a}=sb(),u=M.useRef(null),{transitionStatus:d,setMounted:h}=tb(a),p=M.useMemo(()=>({selected:a,transitionStatus:d}),[a,d]),g=Nn("span",t,{ref:[e,u],state:p,props:[{"aria-hidden":!0,children:""},l],stateAttributesMapping:mM});return nh({open:a,ref:u,onComplete(){a||h(!1)}}),g})),t5=M.memo(M.forwardRef(function(e,n){const{indexRef:r,textRef:o,selectedByFocus:l,hasRegistered:a}=sb(),{selectedItemTextRef:u}=Yr(),{className:d,render:h,...p}=e,g=M.useCallback(v=>{if(!v||!a)return;const S=u.current===null||!u.current.isConnected;(l||S&&r.current===0)&&(u.current=v)},[u,r,l,a]);return Nn("div",e,{ref:[g,n,o],props:p})})),zM=M.forwardRef(function(e,n){const{render:r,className:o,direction:l,keepMounted:a=!1,...u}=e,{store:d,popupRef:h,listRef:p,handleScrollArrowVisibility:g,scrollArrowsMountedCountRef:b}=Yr(),{side:v,scrollDownArrowRef:S,scrollUpArrowRef:E}=ob(),T=l==="up"?He.scrollUpArrowVisible:He.scrollDownArrowVisible,w=qe(d,T),k=qe(d,He.openMethod),A=w&&k!=="touch",O=or(),N=l==="up"?E:S,{transitionStatus:H,setMounted:z}=tb(A);Le(()=>(b.current+=1,d.state.hasScrollArrows||d.set("hasScrollArrows",!0),()=>{b.current=Math.max(0,b.current-1),b.current===0&&d.state.hasScrollArrows&&d.set("hasScrollArrows",!1)}),[d,b]),nh({open:A,ref:N,onComplete(){A||z(!1)}});const I=M.useMemo(()=>({direction:l,visible:A,side:v,transitionStatus:H}),[l,A,v,H]),se=Nn("div",e,{ref:[n,N],state:I,props:[{"aria-hidden":!0,children:l==="up"?"":"",style:{position:"absolute"},onMouseMove(ue){if(ue.movementX===0&&ue.movementY===0||O.isStarted())return;d.set("activeIndex",null);function me(){const ee=d.state.listElement??h.current;if(!ee)return;d.set("activeIndex",null),g();const G=ee.scrollTop===0,L=Math.round(ee.scrollTop+ee.clientHeight)>=ee.scrollHeight;if(p.current.length===0&&(l==="up"?d.set("scrollUpArrowVisible",!G):d.set("scrollDownArrowVisible",!L)),l==="up"&&G||l==="down"&&L){O.clear();return}if((d.state.listElement||h.current)&&p.current&&p.current.length>0){const B=p.current,X=N.current?.offsetHeight||0;if(l==="up"){let ne=0;const R=ee.scrollTop+X;for(let j=0;j<B.length;j+=1){const Q=B[j];if(Q&&Q.offsetTop>=R){ne=j;break}}const F=Math.max(0,ne-1);if(F<ne){const j=B[F];j&&(ee.scrollTop=Math.max(0,j.offsetTop-X))}else ee.scrollTop=0}else{let ne=B.length-1;const R=ee.scrollTop+ee.clientHeight-X;for(let j=0;j<B.length;j+=1){const Q=B[j];if(Q&&Q.offsetTop+Q.offsetHeight>R){ne=Math.max(0,j-1);break}}const F=Math.min(B.length-1,ne+1);if(F>ne){const j=B[F];j&&(ee.scrollTop=j.offsetTop+j.offsetHeight-ee.clientHeight+X)}else ee.scrollTop=ee.scrollHeight-ee.clientHeight}}O.start(40,me)}O.start(40,me)},onMouseLeave(){O.clear()}},u]});return A||a?se:null}),n5=M.forwardRef(function(e,n){return oe.jsx(zM,{...e,ref:n,direction:"down"})}),r5=M.forwardRef(function(e,n){return oe.jsx(zM,{...e,ref:n,direction:"up"})});function LM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=LM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function BM(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=LM(t))&&(r&&(r+=" "),r+=e);return r}const i5=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},o5=(t,e)=>({classGroupId:t,validator:e}),_M=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Od="-",xE=[],s5="arbitrary..",l5=t=>{const e=c5(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]"))return a5(a);const u=a.split(Od),d=u[0]===""&&u.length>1?1:0;return IM(u,d,e)},getConflictingClassGroupIds:(a,u)=>{if(u){const d=r[a],h=n[a];return d?h?i5(h,d):d:h||xE}return n[a]||xE}}},IM=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const o=t[e],l=n.nextPart.get(o);if(l){const h=IM(t,e+1,l);if(h)return h}const a=n.validators;if(a===null)return;const u=e===0?t.join(Od):t.slice(e).join(Od),d=a.length;for(let h=0;h<d;h++){const p=a[h];if(p.validator(u))return p.classGroupId}},a5=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?s5+r:void 0})(),c5=t=>{const{theme:e,classGroups:n}=t;return u5(n,e)},u5=(t,e)=>{const n=_M();for(const r in t){const o=t[r];lb(o,n,r,e)}return n},lb=(t,e,n,r)=>{const o=t.length;for(let l=0;l<o;l++){const a=t[l];f5(a,e,n,r)}},f5=(t,e,n,r)=>{if(typeof t=="string"){d5(t,e,n);return}if(typeof t=="function"){h5(t,e,n,r);return}p5(t,e,n,r)},d5=(t,e,n)=>{const r=t===""?e:HM(e,t);r.classGroupId=n},h5=(t,e,n,r)=>{if(m5(t)){lb(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(o5(n,t))},p5=(t,e,n,r)=>{const o=Object.entries(t),l=o.length;for(let a=0;a<l;a++){const[u,d]=o[a];lb(d,HM(e,u),n,r)}},HM=(t,e)=>{let n=t;const r=e.split(Od),o=r.length;for(let l=0;l<o;l++){const a=r[l];let u=n.nextPart.get(a);u||(u=_M(),n.nextPart.set(a,u)),n=u}return n},m5=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,g5=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const o=(l,a)=>{n[l]=a,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(l){let a=n[l];if(a!==void 0)return a;if((a=r[l])!==void 0)return o(l,a),a},set(l,a){l in n?n[l]=a:o(l,a)}}},ry="!",EE=":",y5=[],TE=(t,e,n,r,o)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:o}),b5=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=o=>{const l=[];let a=0,u=0,d=0,h;const p=o.length;for(let E=0;E<p;E++){const T=o[E];if(a===0&&u===0){if(T===EE){l.push(o.slice(d,E)),d=E+1;continue}if(T==="/"){h=E;continue}}T==="["?a++:T==="]"?a--:T==="("?u++:T===")"&&u--}const g=l.length===0?o:o.slice(d);let b=g,v=!1;g.endsWith(ry)?(b=g.slice(0,-1),v=!0):g.startsWith(ry)&&(b=g.slice(1),v=!0);const S=h&&h>d?h-d:void 0;return TE(l,v,b,S)};if(e){const o=e+EE,l=r;r=a=>a.startsWith(o)?l(a.slice(o.length)):TE(y5,!1,a,void 0,!0)}if(n){const o=r;r=l=>n({className:l,parseClassName:o})}return r},v5=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let o=[];for(let l=0;l<n.length;l++){const a=n[l],u=a[0]==="[",d=e.has(a);u||d?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(a)):o.push(a)}return o.length>0&&(o.sort(),r.push(...o)),r}},S5=t=>({cache:g5(t.cacheSize),parseClassName:b5(t),sortModifiers:v5(t),...l5(t)}),x5=/\s+/,E5=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:l}=e,a=[],u=t.trim().split(x5);let d="";for(let h=u.length-1;h>=0;h-=1){const p=u[h],{isExternal:g,modifiers:b,hasImportantModifier:v,baseClassName:S,maybePostfixModifierPosition:E}=n(p);if(g){d=p+(d.length>0?" "+d:d);continue}let T=!!E,w=r(T?S.substring(0,E):S);if(!w){if(!T){d=p+(d.length>0?" "+d:d);continue}if(w=r(S),!w){d=p+(d.length>0?" "+d:d);continue}T=!1}const k=b.length===0?"":b.length===1?b[0]:l(b).join(":"),A=v?k+ry:k,O=A+w;if(a.indexOf(O)>-1)continue;a.push(O);const N=o(w,T);for(let H=0;H<N.length;++H){const z=N[H];a.push(A+z)}d=p+(d.length>0?" "+d:d)}return d},T5=(...t)=>{let e=0,n,r,o="";for(;e<t.length;)(n=t[e++])&&(r=VM(n))&&(o&&(o+=" "),o+=r);return o},VM=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=VM(t[r]))&&(n&&(n+=" "),n+=e);return n},w5=(t,...e)=>{let n,r,o,l;const a=d=>{const h=e.reduce((p,g)=>g(p),t());return n=S5(h),r=n.cache.get,o=n.cache.set,l=u,u(d)},u=d=>{const h=r(d);if(h)return h;const p=E5(d,n);return o(d,p),p};return l=a,(...d)=>l(T5(...d))},C5=[],en=t=>{const e=n=>n[t]||C5;return e.isThemeGetter=!0,e},jM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,UM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,M5=/^\d+\/\d+$/,k5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,A5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,O5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,R5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,N5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,dl=t=>M5.test(t),Xe=t=>!!t&&!Number.isNaN(Number(t)),no=t=>!!t&&Number.isInteger(Number(t)),lg=t=>t.endsWith("%")&&Xe(t.slice(0,-1)),bi=t=>k5.test(t),D5=()=>!0,z5=t=>A5.test(t)&&!O5.test(t),PM=()=>!1,L5=t=>R5.test(t),B5=t=>N5.test(t),_5=t=>!Ce(t)&&!Me(t),I5=t=>Pl(t,$M,PM),Ce=t=>jM.test(t),ts=t=>Pl(t,GM,z5),ag=t=>Pl(t,P5,Xe),wE=t=>Pl(t,qM,PM),H5=t=>Pl(t,FM,B5),pf=t=>Pl(t,KM,L5),Me=t=>UM.test(t),Ua=t=>ql(t,GM),V5=t=>ql(t,q5),CE=t=>ql(t,qM),j5=t=>ql(t,$M),U5=t=>ql(t,FM),mf=t=>ql(t,KM,!0),Pl=(t,e,n)=>{const r=jM.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},ql=(t,e,n=!1)=>{const r=UM.exec(t);return r?r[1]?e(r[1]):n:!1},qM=t=>t==="position"||t==="percentage",FM=t=>t==="image"||t==="url",$M=t=>t==="length"||t==="size"||t==="bg-size",GM=t=>t==="length",P5=t=>t==="number",q5=t=>t==="family-name",KM=t=>t==="shadow",F5=()=>{const t=en("color"),e=en("font"),n=en("text"),r=en("font-weight"),o=en("tracking"),l=en("leading"),a=en("breakpoint"),u=en("container"),d=en("spacing"),h=en("radius"),p=en("shadow"),g=en("inset-shadow"),b=en("text-shadow"),v=en("drop-shadow"),S=en("blur"),E=en("perspective"),T=en("aspect"),w=en("ease"),k=en("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...O(),Me,Ce],H=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],I=()=>[Me,Ce,d],K=()=>[dl,"full","auto",...I()],se=()=>[no,"none","subgrid",Me,Ce],ce=()=>["auto",{span:["full",no,Me,Ce]},no,Me,Ce],ue=()=>[no,"auto",Me,Ce],me=()=>["auto","min","max","fr",Me,Ce],ee=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...I()],q=()=>[dl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],B=()=>[t,Me,Ce],X=()=>[...O(),CE,wE,{position:[Me,Ce]}],ne=()=>["no-repeat",{repeat:["","x","y","space","round"]}],R=()=>["auto","cover","contain",j5,I5,{size:[Me,Ce]}],F=()=>[lg,Ua,ts],j=()=>["","none","full",h,Me,Ce],Q=()=>["",Xe,Ua,ts],he=()=>["solid","dashed","dotted","double"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>[Xe,lg,CE,wE],pe=()=>["","none",S,Me,Ce],Ee=()=>["none",Xe,Me,Ce],Ue=()=>["none",Xe,Me,Ce],ie=()=>[Xe,Me,Ce],Te=()=>[dl,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[bi],breakpoint:[bi],color:[D5],container:[bi],"drop-shadow":[bi],ease:["in","out","in-out"],font:[_5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[bi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[bi],shadow:[bi],spacing:["px",Xe],text:[bi],"text-shadow":[bi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",dl,Ce,Me,T]}],container:["container"],columns:[{columns:[Xe,Ce,Me,u]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:K()}],"inset-x":[{"inset-x":K()}],"inset-y":[{"inset-y":K()}],start:[{start:K()}],end:[{end:K()}],top:[{top:K()}],right:[{right:K()}],bottom:[{bottom:K()}],left:[{left:K()}],visibility:["visible","invisible","collapse"],z:[{z:[no,"auto",Me,Ce]}],basis:[{basis:[dl,"full","auto",u,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Xe,dl,"auto","initial","none",Ce]}],grow:[{grow:["",Xe,Me,Ce]}],shrink:[{shrink:["",Xe,Me,Ce]}],order:[{order:[no,"first","last","none",Me,Ce]}],"grid-cols":[{"grid-cols":se()}],"col-start-end":[{col:ce()}],"col-start":[{"col-start":ue()}],"col-end":[{"col-end":ue()}],"grid-rows":[{"grid-rows":se()}],"row-start-end":[{row:ce()}],"row-start":[{"row-start":ue()}],"row-end":[{"row-end":ue()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":me()}],"auto-rows":[{"auto-rows":me()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...ee(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...ee()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":ee()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[u,"screen",...q()]}],"min-w":[{"min-w":[u,"screen","none",...q()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[a]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",n,Ua,ts]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Me,ag]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",lg,Ce]}],"font-family":[{font:[V5,Ce,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Me,Ce]}],"line-clamp":[{"line-clamp":[Xe,"none",Me,ag]}],leading:[{leading:[l,...I()]}],"list-image":[{"list-image":["none",Me,Ce]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Me,Ce]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:B()}],"text-color":[{text:B()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[Xe,"from-font","auto",Me,ts]}],"text-decoration-color":[{decoration:B()}],"underline-offset":[{"underline-offset":[Xe,"auto",Me,Ce]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me,Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me,Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:X()}],"bg-repeat":[{bg:ne()}],"bg-size":[{bg:R()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},no,Me,Ce],radial:["",Me,Ce],conic:[no,Me,Ce]},U5,H5]}],"bg-color":[{bg:B()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:B()}],"gradient-via":[{via:B()}],"gradient-to":[{to:B()}],rounded:[{rounded:j()}],"rounded-s":[{"rounded-s":j()}],"rounded-e":[{"rounded-e":j()}],"rounded-t":[{"rounded-t":j()}],"rounded-r":[{"rounded-r":j()}],"rounded-b":[{"rounded-b":j()}],"rounded-l":[{"rounded-l":j()}],"rounded-ss":[{"rounded-ss":j()}],"rounded-se":[{"rounded-se":j()}],"rounded-ee":[{"rounded-ee":j()}],"rounded-es":[{"rounded-es":j()}],"rounded-tl":[{"rounded-tl":j()}],"rounded-tr":[{"rounded-tr":j()}],"rounded-br":[{"rounded-br":j()}],"rounded-bl":[{"rounded-bl":j()}],"border-w":[{border:Q()}],"border-w-x":[{"border-x":Q()}],"border-w-y":[{"border-y":Q()}],"border-w-s":[{"border-s":Q()}],"border-w-e":[{"border-e":Q()}],"border-w-t":[{"border-t":Q()}],"border-w-r":[{"border-r":Q()}],"border-w-b":[{"border-b":Q()}],"border-w-l":[{"border-l":Q()}],"divide-x":[{"divide-x":Q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:B()}],"border-color-x":[{"border-x":B()}],"border-color-y":[{"border-y":B()}],"border-color-s":[{"border-s":B()}],"border-color-e":[{"border-e":B()}],"border-color-t":[{"border-t":B()}],"border-color-r":[{"border-r":B()}],"border-color-b":[{"border-b":B()}],"border-color-l":[{"border-l":B()}],"divide-color":[{divide:B()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Xe,Me,Ce]}],"outline-w":[{outline:["",Xe,Ua,ts]}],"outline-color":[{outline:B()}],shadow:[{shadow:["","none",p,mf,pf]}],"shadow-color":[{shadow:B()}],"inset-shadow":[{"inset-shadow":["none",g,mf,pf]}],"inset-shadow-color":[{"inset-shadow":B()}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:B()}],"ring-offset-w":[{"ring-offset":[Xe,ts]}],"ring-offset-color":[{"ring-offset":B()}],"inset-ring-w":[{"inset-ring":Q()}],"inset-ring-color":[{"inset-ring":B()}],"text-shadow":[{"text-shadow":["none",b,mf,pf]}],"text-shadow-color":[{"text-shadow":B()}],opacity:[{opacity:[Xe,Me,Ce]}],"mix-blend":[{"mix-blend":[...ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Xe]}],"mask-image-linear-from-pos":[{"mask-linear-from":J()}],"mask-image-linear-to-pos":[{"mask-linear-to":J()}],"mask-image-linear-from-color":[{"mask-linear-from":B()}],"mask-image-linear-to-color":[{"mask-linear-to":B()}],"mask-image-t-from-pos":[{"mask-t-from":J()}],"mask-image-t-to-pos":[{"mask-t-to":J()}],"mask-image-t-from-color":[{"mask-t-from":B()}],"mask-image-t-to-color":[{"mask-t-to":B()}],"mask-image-r-from-pos":[{"mask-r-from":J()}],"mask-image-r-to-pos":[{"mask-r-to":J()}],"mask-image-r-from-color":[{"mask-r-from":B()}],"mask-image-r-to-color":[{"mask-r-to":B()}],"mask-image-b-from-pos":[{"mask-b-from":J()}],"mask-image-b-to-pos":[{"mask-b-to":J()}],"mask-image-b-from-color":[{"mask-b-from":B()}],"mask-image-b-to-color":[{"mask-b-to":B()}],"mask-image-l-from-pos":[{"mask-l-from":J()}],"mask-image-l-to-pos":[{"mask-l-to":J()}],"mask-image-l-from-color":[{"mask-l-from":B()}],"mask-image-l-to-color":[{"mask-l-to":B()}],"mask-image-x-from-pos":[{"mask-x-from":J()}],"mask-image-x-to-pos":[{"mask-x-to":J()}],"mask-image-x-from-color":[{"mask-x-from":B()}],"mask-image-x-to-color":[{"mask-x-to":B()}],"mask-image-y-from-pos":[{"mask-y-from":J()}],"mask-image-y-to-pos":[{"mask-y-to":J()}],"mask-image-y-from-color":[{"mask-y-from":B()}],"mask-image-y-to-color":[{"mask-y-to":B()}],"mask-image-radial":[{"mask-radial":[Me,Ce]}],"mask-image-radial-from-pos":[{"mask-radial-from":J()}],"mask-image-radial-to-pos":[{"mask-radial-to":J()}],"mask-image-radial-from-color":[{"mask-radial-from":B()}],"mask-image-radial-to-color":[{"mask-radial-to":B()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[Xe]}],"mask-image-conic-from-pos":[{"mask-conic-from":J()}],"mask-image-conic-to-pos":[{"mask-conic-to":J()}],"mask-image-conic-from-color":[{"mask-conic-from":B()}],"mask-image-conic-to-color":[{"mask-conic-to":B()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:X()}],"mask-repeat":[{mask:ne()}],"mask-size":[{mask:R()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Me,Ce]}],filter:[{filter:["","none",Me,Ce]}],blur:[{blur:pe()}],brightness:[{brightness:[Xe,Me,Ce]}],contrast:[{contrast:[Xe,Me,Ce]}],"drop-shadow":[{"drop-shadow":["","none",v,mf,pf]}],"drop-shadow-color":[{"drop-shadow":B()}],grayscale:[{grayscale:["",Xe,Me,Ce]}],"hue-rotate":[{"hue-rotate":[Xe,Me,Ce]}],invert:[{invert:["",Xe,Me,Ce]}],saturate:[{saturate:[Xe,Me,Ce]}],sepia:[{sepia:["",Xe,Me,Ce]}],"backdrop-filter":[{"backdrop-filter":["","none",Me,Ce]}],"backdrop-blur":[{"backdrop-blur":pe()}],"backdrop-brightness":[{"backdrop-brightness":[Xe,Me,Ce]}],"backdrop-contrast":[{"backdrop-contrast":[Xe,Me,Ce]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Xe,Me,Ce]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Xe,Me,Ce]}],"backdrop-invert":[{"backdrop-invert":["",Xe,Me,Ce]}],"backdrop-opacity":[{"backdrop-opacity":[Xe,Me,Ce]}],"backdrop-saturate":[{"backdrop-saturate":[Xe,Me,Ce]}],"backdrop-sepia":[{"backdrop-sepia":["",Xe,Me,Ce]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Me,Ce]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Xe,"initial",Me,Ce]}],ease:[{ease:["linear","initial",w,Me,Ce]}],delay:[{delay:[Xe,Me,Ce]}],animate:[{animate:["none",k,Me,Ce]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,Me,Ce]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:Ee()}],"rotate-x":[{"rotate-x":Ee()}],"rotate-y":[{"rotate-y":Ee()}],"rotate-z":[{"rotate-z":Ee()}],scale:[{scale:Ue()}],"scale-x":[{"scale-x":Ue()}],"scale-y":[{"scale-y":Ue()}],"scale-z":[{"scale-z":Ue()}],"scale-3d":["scale-3d"],skew:[{skew:ie()}],"skew-x":[{"skew-x":ie()}],"skew-y":[{"skew-y":ie()}],transform:[{transform:[Me,Ce,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Te()}],"translate-x":[{"translate-x":Te()}],"translate-y":[{"translate-y":Te()}],"translate-z":[{"translate-z":Te()}],"translate-none":["translate-none"],accent:[{accent:B()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:B()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me,Ce]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me,Ce]}],fill:[{fill:["none",...B()]}],"stroke-w":[{stroke:[Xe,Ua,ts,ag]}],stroke:[{stroke:["none",...B()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},$5=w5(F5);function Ri(...t){return $5(BM(t))}const G5=J4;function K5({className:t,...e}){return oe.jsx(hH,{"data-slot":"select-value",className:Ri("flex flex-1 text-left",t),...e})}function Y5({className:t,size:e="default",children:n,...r}){return oe.jsxs(fH,{"data-slot":"select-trigger","data-size":e,className:Ri("border-input data-[placeholder]:text-muted-foreground dark:bg-input/30 dark:hover:bg-input/50 focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:aria-invalid:border-destructive/50 gap-1.5 rounded-lg border bg-transparent py-2 pr-2 pl-2.5 text-sm transition-colors select-none focus-visible:ring-[3px] aria-invalid:ring-[3px] data-[size=default]:h-8 data-[size=sm]:h-7 data-[size=sm]:rounded-[min(var(--radius-md),10px)] *:data-[slot=select-value]:flex *:data-[slot=select-value]:gap-1.5 [&_svg:not([class*='size-'])]:size-4 flex w-fit items-center justify-between whitespace-nowrap outline-none disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center [&_svg]:pointer-events-none [&_svg]:shrink-0",t),...r,children:[n,oe.jsx(pH,{render:oe.jsx(BE,{className:"text-muted-foreground size-4 pointer-events-none"})})]})}function X5({className:t,children:e,side:n="bottom",sideOffset:r=4,align:o="center",alignOffset:l=0,alignItemWithTrigger:a=!0,...u}){return oe.jsx(gH,{children:oe.jsx(_H,{side:n,sideOffset:r,align:o,alignOffset:l,alignItemWithTrigger:a,className:"isolate z-50",children:oe.jsxs(WH,{"data-slot":"select-content",className:Ri("bg-popover text-popover-foreground data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 data-closed:zoom-out-95 data-open:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 ring-foreground/10 min-w-36 rounded-lg shadow-md ring-1 duration-100 relative isolate z-50 max-h-(--available-height) w-(--anchor-width) origin-(--transform-origin) overflow-x-hidden overflow-y-auto",t),...u,children:[oe.jsx(J5,{}),oe.jsx(JH,{children:e}),oe.jsx(Q5,{})]})})})}function W5({className:t,children:e,...n}){return oe.jsxs(QH,{"data-slot":"select-item",className:Ri("focus:bg-accent focus:text-accent-foreground not-data-[variant=destructive]:focus:**:text-accent-foreground gap-1.5 rounded-md py-1 pr-8 pl-1.5 text-sm [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2 relative flex w-full cursor-default items-center outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0",t),...n,children:[oe.jsx(t5,{className:"flex flex-1 gap-2 shrink-0 whitespace-nowrap",children:e}),oe.jsx(ZH,{render:oe.jsx("span",{className:"pointer-events-none absolute right-2 flex size-4 items-center justify-center"}),children:oe.jsx(kO,{className:"pointer-events-none"})})]})}function J5({className:t,...e}){return oe.jsx(r5,{"data-slot":"select-scroll-up-button",className:Ri("bg-popover z-10 flex cursor-default items-center justify-center py-1 [&_svg:not([class*='size-'])]:size-4 top-0 w-full",t),...e,children:oe.jsx(RO,{})})}function Q5({className:t,...e}){return oe.jsx(n5,{"data-slot":"select-scroll-down-button",className:Ri("bg-popover z-10 flex cursor-default items-center justify-center py-1 [&_svg:not([class*='size-'])]:size-4 bottom-0 w-full",t),...e,children:oe.jsx(BE,{})})}const Z5=M.forwardRef(function(e,n){const{render:r,className:o,disabled:l=!1,focusableWhenDisabled:a=!1,nativeButton:u=!0,...d}=e,h=!!l,{getButtonProps:p,buttonRef:g}=ih({disabled:h,focusableWhenDisabled:a,native:u}),b=M.useMemo(()=>({disabled:h}),[h]);return Nn("button",e,{state:b,ref:[n,g],props:[d,p]})}),ME=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,kE=BM,YM=(t,e)=>n=>{var r;if(e?.variants==null)return kE(t,n?.class,n?.className);const{variants:o,defaultVariants:l}=e,a=Object.keys(o).map(h=>{const p=n?.[h],g=l?.[h];if(p===null)return null;const b=ME(p)||ME(g);return o[h][b]}),u=n&&Object.entries(n).reduce((h,p)=>{let[g,b]=p;return b===void 0||(h[g]=b),h},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,p)=>{let{class:g,className:b,...v}=p;return Object.entries(v).every(S=>{let[E,T]=S;return Array.isArray(T)?T.includes({...l,...u}[E]):{...l,...u}[E]===T})?[...h,g,b]:h},[]);return kE(t,a,d,n?.class,n?.className)},eV=YM("focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:aria-invalid:border-destructive/50 rounded-lg border border-transparent bg-clip-padding text-sm font-medium focus-visible:ring-[3px] aria-invalid:ring-[3px] [&_svg:not([class*='size-'])]:size-4 inline-flex items-center justify-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none shrink-0 [&_svg]:shrink-0 outline-none group/button select-none",{variants:{variant:{default:"bg-primary text-primary-foreground [a]:hover:bg-primary/80",outline:"border-border bg-background hover:bg-muted hover:text-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 aria-expanded:bg-muted aria-expanded:text-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 aria-expanded:bg-secondary aria-expanded:text-secondary-foreground",ghost:"hover:bg-muted hover:text-foreground dark:hover:bg-muted/50 aria-expanded:bg-muted aria-expanded:text-foreground",destructive:"bg-destructive/10 hover:bg-destructive/20 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/20 text-destructive focus-visible:border-destructive/40 dark:hover:bg-destructive/30",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-8 gap-1.5 px-2.5 has-data-[icon=inline-end]:pr-2 has-data-[icon=inline-start]:pl-2",xs:"h-6 gap-1 rounded-[min(var(--radius-md),10px)] px-2 text-xs in-data-[slot=button-group]:rounded-lg has-data-[icon=inline-end]:pr-1.5 has-data-[icon=inline-start]:pl-1.5 [&_svg:not([class*='size-'])]:size-3",sm:"h-7 gap-1 rounded-[min(var(--radius-md),12px)] px-2.5 text-[0.8rem] in-data-[slot=button-group]:rounded-lg has-data-[icon=inline-end]:pr-1.5 has-data-[icon=inline-start]:pl-1.5 [&_svg:not([class*='size-'])]:size-3.5",lg:"h-9 gap-1.5 px-2.5 has-data-[icon=inline-end]:pr-3 has-data-[icon=inline-start]:pl-3",icon:"size-8","icon-xs":"size-6 rounded-[min(var(--radius-md),10px)] in-data-[slot=button-group]:rounded-lg [&_svg:not([class*='size-'])]:size-3","icon-sm":"size-7 rounded-[min(var(--radius-md),12px)] in-data-[slot=button-group]:rounded-lg","icon-lg":"size-9"}},defaultVariants:{variant:"default",size:"default"}});function tV({className:t,variant:e="default",size:n="default",...r}){return oe.jsx(Z5,{"data-slot":"button",className:Ri(eV({variant:e,size:n,className:t})),...r})}const XM=M.createContext(void 0);function nV(t=!0){const e=M.useContext(XM);if(e===void 0&&!t)throw new Error(Oi(7));return e}function rV(t={}){const{highlightItemOnHover:e,highlightedIndex:n,onHighlightedIndexChange:r}=bM(),{ref:o,index:l}=NM(t),a=n===l,u=M.useRef(null),d=Ao(o,u);return{compositeProps:M.useMemo(()=>({tabIndex:a?0:-1,onFocus(){r(l)},onMouseMove(){const p=u.current;if(!e||!p)return;const g=p.hasAttribute("disabled")||p.ariaDisabled==="true";!a&&!g&&p.focus()}}),[a,r,l,e]),compositeRef:d,index:l}}function iV(t){const{render:e,className:n,state:r=Kn,props:o=Ss,refs:l=Ss,metadata:a,stateAttributesMapping:u,tag:d="div",...h}=t,{compositeProps:p,compositeRef:g}=rV({metadata:a});return Nn(d,t,{state:r,ref:[...l,g],props:[p,...o,h],stateAttributesMapping:u})}const oV=M.forwardRef(function(e,n){const{className:r,defaultPressed:o=!1,disabled:l=!1,form:a,onPressedChange:u,pressed:d,render:h,type:p,value:g,nativeButton:b=!0,...v}=e,S=hM(g||void 0),E=nV(),T=E?.value??[],w=E?void 0:o,k=(l||E?.disabled)??!1,[A,O]=pd({controlled:E?T?.indexOf(S)>-1:d,default:w,name:"Toggle",state:"pressed"}),N=_e((ue,me)=>{S&&E?.setGroupValue?.(S,ue,me),u?.(ue,me)}),{getButtonProps:H,buttonRef:z}=ih({disabled:k,native:b}),I=M.useMemo(()=>({disabled:k,pressed:A}),[k,A]),K=[z,n],se=[{"aria-pressed":A,onClick(ue){const me=!A,ee=kt(Qd,ue.nativeEvent);N(me,ee),!ee.isCanceled&&O(me)}},v,H],ce=Nn("button",e,{enabled:!E,state:I,ref:K,props:se});return E?oe.jsx(iV,{tag:"button",render:h,className:r,state:I,refs:K,props:se}):ce});function sV(t){return t==null||t.hasAttribute("disabled")||t.getAttribute("aria-disabled")==="true"}const lV="data-composite-item-active",aV=[];function cV(t){const{itemSizes:e,cols:n=1,loopFocus:r=!0,dense:o=!1,orientation:l="both",direction:a,highlightedIndex:u,onHighlightedIndexChange:d,rootRef:h,enableHomeAndEndKeys:p=!1,stopEventPropagation:g=!1,disabledIndices:b,modifierKeys:v=aV}=t,[S,E]=M.useState(0),T=n>1,w=M.useRef(null),k=Ao(w,h),A=M.useRef([]),O=M.useRef(!1),N=u??S,H=_e((K,se=!1)=>{if((d??E)(K),se){const ce=A.current[K];vE(w.current,ce,a,l)}}),z=_e(K=>{if(K.size===0||O.current)return;O.current=!0;const se=Array.from(K.keys()),ce=se.find(me=>me?.hasAttribute(lV))??null,ue=ce?se.indexOf(ce):-1;ue!==-1&&H(ue),vE(w.current,ce,a,l)}),I=M.useMemo(()=>({"aria-orientation":l==="both"?void 0:l,ref:k,onFocus(K){!w.current||!bE(K.target)||K.target.setSelectionRange(0,K.target.value.length??0)},onKeyDown(K){const se=p?jH:OM;if(!se.has(K.key)||uV(K,v)||!w.current)return;const ue=a==="rtl",me=ue?vc:Al,ee={horizontal:me,vertical:cs,both:me}[l],G=ue?Al:vc,L={horizontal:G,vertical:kl,both:G}[l];if(bE(K.target)&&!sV(K.target)){const j=K.target.selectionStart,Q=K.target.selectionEnd,he=K.target.value??"";if(j==null||K.shiftKey||j!==Q||K.key!==L&&j<he.length||K.key!==ee&&j>0)return}let q=N;const B=xf(A,b),X=Kg(A,b);if(T){const j=e||Array.from({length:A.current.length},()=>({width:1,height:1})),Q=BC(j,n,o),he=Q.findIndex(J=>J!=null&&!To(A,J,b)),ae=Q.reduce((J,pe,Ee)=>pe!=null&&!To(A,pe,b)?Ee:J,-1);q=Q[LC({current:Q.map(J=>J?A.current[J]:null)},{event:K,orientation:l,loopFocus:r,cols:n,disabledIndices:IC([...b||A.current.map((J,pe)=>To(A,pe)?pe:void 0),void 0],Q),minIndex:he,maxIndex:ae,prevIndex:_C(N>X?B:N,j,Q,n,K.key===cs?"bl":K.key===Al?"tr":"tl"),rtl:ue})]}const ne={horizontal:[me],vertical:[cs],both:[me,cs]}[l],R={horizontal:[G],vertical:[kl],both:[G,kl]}[l],F=T?se:{horizontal:p?HH:kM,vertical:p?VH:AM,both:se}[l];p&&(K.key===kc?q=B:K.key===Ac&&(q=X)),q===N&&(ne.includes(K.key)||R.includes(K.key))&&(r&&q===X&&ne.includes(K.key)?q=B:r&&q===B&&R.includes(K.key)?q=X:q=vn(A,{startingIndex:q,decrement:R.includes(K.key),disabledIndices:b})),q!==N&&!wl(A,q)&&(g&&K.stopPropagation(),F.has(K.key)&&K.preventDefault(),H(q,!0),queueMicrotask(()=>{A.current[q]?.focus()}))}}),[n,o,a,b,A,p,N,T,e,r,k,v,H,l,g]);return M.useMemo(()=>({props:I,highlightedIndex:N,onHighlightedIndexChange:H,elementsRef:A,disabledIndices:b,onMapChange:z,relayKeyboardEvent:I.onKeyDown}),[I,N,H,A,b,z])}function uV(t,e){for(const n of GH.values())if(!e.includes(n)&&t.getModifierState(n))return!0;return!1}function fV(t){const{render:e,className:n,refs:r=Ss,props:o=Ss,state:l=Kn,stateAttributesMapping:a,highlightedIndex:u,onHighlightedIndexChange:d,orientation:h,dense:p,itemSizes:g,loopFocus:b,cols:v,enableHomeAndEndKeys:S,onMapChange:E,stopEventPropagation:T=!0,rootRef:w,disabledIndices:k,modifierKeys:A,highlightItemOnHover:O=!1,tag:N="div",...H}=t,z=xM(),{props:I,highlightedIndex:K,onHighlightedIndexChange:se,elementsRef:ce,onMapChange:ue,relayKeyboardEvent:me}=cV({itemSizes:g,cols:v,loopFocus:b,dense:p,orientation:h,highlightedIndex:u,onHighlightedIndexChange:d,rootRef:w,stopEventPropagation:T,enableHomeAndEndKeys:S,direction:z,disabledIndices:k,modifierKeys:A}),ee=Nn(N,t,{state:l,ref:r,props:[I,...o,H],stateAttributesMapping:a}),G=M.useMemo(()=>({highlightedIndex:K,onHighlightedIndexChange:se,highlightItemOnHover:O,relayKeyboardEvent:me}),[K,se,O,me]);return oe.jsx(yM.Provider,{value:G,children:oe.jsx(SM,{elementsRef:ce,onMapChange:L=>{E?.(L),ue(L)},children:ee})})}let dV=(function(t){return t.disabled="data-disabled",t.orientation="data-orientation",t.multiple="data-multiple",t})({});const AE={multiple(t){return t?{[dV.multiple]:""}:null}},hV=M.forwardRef(function(e,n){const{defaultValue:r,disabled:o=!1,loopFocus:l=!0,onValueChange:a,orientation:u="horizontal",multiple:d=!1,value:h,className:p,render:g,...b}=e,v=MM(),S=M.useMemo(()=>{if(h===void 0)return r??[]},[h,r]),E=(v?.disabled??!1)||o,[T,w]=pd({controlled:h,default:S,name:"ToggleGroup",state:"value"}),k=_e((z,I,K)=>{let se;if(d?(se=T.slice(),I?se.push(z):se.splice(T.indexOf(z),1)):se=I?[z]:[],Array.isArray(se)){if(a?.(se,K),K.isCanceled)return;w(se)}}),A=M.useMemo(()=>({disabled:E,multiple:d,orientation:u}),[E,u,d]),O=M.useMemo(()=>({disabled:E,orientation:u,setGroupValue:k,value:T}),[E,u,k,T]),N={role:"group"},H=Nn("div",e,{enabled:!!v,state:A,ref:n,props:[N,b],stateAttributesMapping:AE});return oe.jsx(XM.Provider,{value:O,children:v?H:oe.jsx(fV,{render:g,className:p,state:A,refs:[n],props:[N,b],stateAttributesMapping:AE,loopFocus:l})})}),pV=YM("hover:text-foreground aria-pressed:bg-muted focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[state=on]:bg-muted gap-1 rounded-lg text-sm font-medium transition-all [&_svg:not([class*='size-'])]:size-4 group/toggle hover:bg-muted inline-flex items-center justify-center whitespace-nowrap outline-none focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{default:"bg-transparent",outline:"border-input hover:bg-muted border bg-transparent"},size:{default:"h-8 min-w-8 px-2",sm:"h-7 min-w-7 rounded-[min(var(--radius-md),12px)] px-1.5 text-[0.8rem]",lg:"h-9 min-w-9 px-2.5"}},defaultVariants:{variant:"default",size:"default"}}),WM=M.createContext({size:"default",variant:"default",spacing:0,orientation:"horizontal"});function mV({className:t,variant:e,size:n,spacing:r=0,orientation:o="horizontal",children:l,...a}){return oe.jsx(hV,{"data-slot":"toggle-group","data-variant":e,"data-size":n,"data-spacing":r,"data-orientation":o,style:{"--gap":r},className:Ri("rounded-lg data-[size=sm]:rounded-[min(var(--radius-md),10px)] group/toggle-group flex w-fit flex-row items-center gap-[--spacing(var(--gap))] data-[orientation=vertical]:flex-col data-[orientation=vertical]:items-stretch",t),...a,children:oe.jsx(WM.Provider,{value:{variant:e,size:n,spacing:r,orientation:o},children:l})})}function gV({className:t,children:e,variant:n="default",size:r="default",...o}){const l=M.useContext(WM);return oe.jsx(oV,{"data-slot":"toggle-group-item","data-variant":l.variant||n,"data-size":l.size||r,"data-spacing":l.spacing,className:Ri("group-data-[spacing=0]/toggle-group:rounded-none group-data-[spacing=0]/toggle-group:px-2 group-data-horizontal/toggle-group:data-[spacing=0]:first:rounded-l-lg group-data-vertical/toggle-group:data-[spacing=0]:first:rounded-t-lg group-data-horizontal/toggle-group:data-[spacing=0]:last:rounded-r-lg group-data-vertical/toggle-group:data-[spacing=0]:last:rounded-b-lg shrink-0 focus:z-10 focus-visible:z-10 group-data-horizontal/toggle-group:data-[spacing=0]:data-[variant=outline]:border-l-0 group-data-vertical/toggle-group:data-[spacing=0]:data-[variant=outline]:border-t-0 group-data-horizontal/toggle-group:data-[spacing=0]:data-[variant=outline]:first:border-l group-data-vertical/toggle-group:data-[spacing=0]:data-[variant=outline]:first:border-t",pV({variant:l.variant||n,size:l.size||r}),t),...o,children:e})}function vi({label:t,value:e,dot:n}){return oe.jsxs("div",{className:"flex items-center justify-between gap-4 text-sm",children:[oe.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[n&&oe.jsx("span",{className:`size-2 rounded-full ${n}`}),oe.jsx("span",{className:"truncate text-muted-foreground",children:t})]}),oe.jsx("span",{className:"shrink-0 font-medium",children:e})]})}function yV({editor:t}){const e=M.useCallback(o=>{if(!t||!o)return;const l=t.chain().focus();({Paragraph:()=>l.setParagraph().run(),H1:()=>l.toggleHeading({level:1}).run(),H2:()=>l.toggleHeading({level:2}).run(),H3:()=>l.toggleHeading({level:3}).run(),Blockquote:()=>l.toggleBlockquote().run(),"Bullet List":()=>l.toggleBulletList().run(),"Numbered List":()=>l.toggleOrderedList().run()})[o]()},[t]),n=M.useCallback(o=>{if(!t)return;const l=t.chain().focus();switch(o){case"Bold":l.toggleBold().run();break;case"Italic":l.toggleItalic().run();break;case"Underline":l.toggleUnderline().run();break;case"Code":l.toggleCode().run();break}},[t]);if(!t)return null;const r=t.isActive("heading",{level:1})?"H1":t.isActive("heading",{level:2})?"H2":t.isActive("heading",{level:3})?"H3":t.isActive("bulletList")?"Bullet List":t.isActive("orderedList")?"Numbered List":t.isActive("blockquote")?"Blockquote":"Paragraph";return oe.jsxs("div",{className:"mb-4 flex flex-wrap gap-4 border-b pb-4",children:[oe.jsxs(G5,{value:r,onValueChange:e,children:[oe.jsx(Y5,{className:"w-45",children:oe.jsx(K5,{})}),oe.jsx(X5,{children:["Paragraph","H1","H2","H3","Blockquote","Bullet List","Numbered List"].map(o=>oe.jsx(W5,{value:o,children:o},o))})]}),oe.jsx(mV,{multiple:!0,variant:"outline",children:["Bold","Italic","Underline","Code"].map(o=>oe.jsxs(gV,{value:o,"aria-label":o,onClick:()=>n(o),children:[o==="Bold"&&oe.jsx(CO,{}),o==="Italic"&&oe.jsx(LO,{}),o==="Underline"&&oe.jsx(HO,{}),o==="Code"&&oe.jsx(DO,{})]},o))})]})}const OE="draft",bV=238,vV=158,SV=new Set(["the","and","a","to","of","in","is","it","that","on","for","with","as","at","this","by","an","be","are","from","or","was","were","but","not"]);function RE(t,e){if(t===0)return"0 min";const n=Math.round(t/e*60),r=Math.floor(n/60),o=n%60;return r===0?`${o} sec`:o===0?`${r} min`:`${r} min ${o} sec`}function JM(t){const e=t.toLowerCase().replace(/[^a-z]/g,"");if(!e)return 0;if(e.length<=3)return 1;let r=e.match(/[aeiouy]{1,2}/g)?.length??0;return e.endsWith("e")&&(r-=1),e.endsWith("le")&&(r+=1),Math.max(1,r)}function xV(t){const e=["th","st","nd","rd"],n=t%100;return`${t}${e[(n-20)%10]||e[n]||e[0]}`}function EV(t){const e=t.trim().split(/\s+/),n=e.length,o=e.reduce((u,d)=>u+JM(d),0)/Math.max(n,1),l=(t.match(/[,;:]/g)??[]).length,a=n*.5+o*10+l*2;return a>=35?"danger":a>=25?"warn":null}function TV(t){const e=[];return t.descendants((n,r)=>{if(!n.isTextblock||!n.textContent)return;const o=n.textContent;let l=0;const a=o.match(/[^.!?]+[.!?]*/g);if(a)for(const u of a){const d=u.trim();if(!d){l+=u.length;continue}const h=EV(d);if(!h){l+=u.length;continue}const p=r+1+l,g=p+d.length;e.push({from:p,to:g,level:h}),l+=u.length}}),e}const wV=Vt.create({name:"sentenceHeatmap",addProseMirrorPlugins(){return[new At({props:{decorations(t){const e=TV(t.doc);if(!e.length)return null;const n=e.map(r=>On.inline(r.from,r.to,{class:r.level==="danger"?"heatmap-red":"heatmap-orange"}));return Ct.create(t.doc,n)}}})]}});function CV(){const t=M.useRef(null),[e,n]=M.useState(""),[r,o]=M.useState(""),l=MB({extensions:[w3.configure({heading:{levels:[1,2,3]},codeBlock:!1,horizontalRule:!1,hardBreak:!1,strike:!1}),e3,wV],editorProps:{attributes:{class:"min-h-[400px] outline-none text-base [&_p]:my-1 [&_p]:leading-7"}},onUpdate({editor:d}){n(d.getText())},onSelectionUpdate({editor:d}){const{from:h,to:p}=d.state.selection;if(h===p){o("");return}o(d.state.doc.textBetween(h,p," "))}});M.useEffect(()=>{if(!l)return;const d=localStorage.getItem(OE);d&&l.commands.setContent(d)},[l]),M.useEffect(()=>{l&&(t.current&&clearTimeout(t.current),t.current=setTimeout(()=>{localStorage.setItem(OE,l.getHTML())},500))},[l,e]);const a=M.useMemo(()=>{const h=(r||e).trim(),p=h?h.split(/\s+/):[],g=h?h.split(/[.!?]+/).filter(Boolean):[],b=p.reduce((T,w)=>T+JM(w),0),v=p.length&&g.length?.39*(p.length/g.length)+11.8*(b/p.length)-15.59:0,S={};for(const T of p){const w=T.toLowerCase().replace(/[^a-z0-9]/g,"");!w||SV.has(w)||(S[w]=(S[w]??0)+1)}const E=(()=>{if(!l)return 0;const{from:T,to:w}=l.state.selection;if(T===w)return l.state.doc.childCount;let k=0;return l.state.doc.nodesBetween(T,w,A=>{A.isBlock&&(k+=1)}),k})();return{words:p.length,characters:h.replace(/\s/g,"").length,charactersWithFormatting:h.length,sentences:g.length,paragraphs:E,readingTime:RE(p.length,bV),speakingTime:RE(p.length,vV),readingGrade:v>0?xV(Math.max(1,Math.round(v))):"",keywords:Object.entries(S).sort((T,w)=>w[1]-T[1]).slice(0,10).map(([T,w])=>({word:T,density:(w/p.length*100).toFixed(1)}))}},[e,r,l]),u=M.useCallback(()=>{if(!l)return;let d=l.getHTML();d=d.replace(/<h1>(.*?)<\/h1>/g,`# $1

`).replace(/<h2>(.*?)<\/h2>/g,`## $1

`).replace(/<h3>(.*?)<\/h3>/g,`### $1

`).replace(/<strong>(.*?)<\/strong>/g,"**$1**").replace(/<em>(.*?)<\/em>/g,"*$1*").replace(/<u>(.*?)<\/u>/g,"_$1_").replace(/<li>(.*?)<\/li>/g,`- $1
`).replace(/<blockquote>(.*?)<\/blockquote>/gs,(b,v)=>v.replace(/<p>(.*?)<\/p>/g,`> $1
`)).replace(/<p>(.*?)<\/p>/g,`$1

`).replace(/<code>(.*?)<\/code>/g,"`$1`").replace(/<[^>]+>/g,"").replace(/\n{3,}/g,`

`).trim();const h=new Blob([d],{type:"text/markdown;charset=utf-8"}),p=URL.createObjectURL(h),g=document.createElement("a");g.href=p,g.download="draft.md",g.click(),URL.revokeObjectURL(p)},[l]);return oe.jsx("main",{className:"min-h-dvh bg-muted p-4 flex justify-center items-center",children:oe.jsxs("div",{className:"grid max-w-5xl gap-4 lg:grid-cols-[1fr_280px]",children:[oe.jsxs("section",{className:"rounded-2xl bg-white p-4",children:[oe.jsx(yV,{editor:l}),oe.jsx(vB,{editor:l,className:["min-h-100 outline-none text-base","[&_h1]:scroll-m-20 [&_h1]:mb-4 [&_h1]:text-3xl [&_h1]:font-extrabold [&_h1]:tracking-tight [&_h1]:text-balance","[&_h2]:scroll-m-20 [&_h2]:mb-2 [&_h2]:text-2xl [&_h2]:font-semibold [&_h2]:tracking-tight [&_h2]:first:mt-0","[&_h3]:scroll-m-20 [&_h3]:mb-1 [&_h3]:text-xl [&_h3]:font-semibold [&_h3]:tracking-tight","[&_p]:my-1 [&_p]:leading-7","[&_blockquote]:mt-6 [&_blockquote]:border-l-2 [&_blockquote]:pl-6 [&_blockquote]:italic","[&_ul]:my-6 [&_ul]:ml-6 [&_ul]:list-disc [&_ul>li]:mt-2","[&_ol]:my-6 [&_ol]:ml-6 [&_ol]:list-decimal [&_ol>li]:mt-2","[&_code]:bg-muted [&_code]:relative [&_code]:rounded-sm [&_code]:px-[0.3rem] [&_code]:py-[0.2rem] [&_code]:font-mono [&_code]:text-sm [&_code]:font-semibold"].join(" ")}),oe.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 rounded-full bg-muted px-4 py-2 sm:grid-cols-4",children:[oe.jsx(vi,{label:"Words",value:a.words,dot:"bg-blue-600"}),oe.jsx(vi,{label:"Characters",value:a.characters,dot:"bg-red-600"}),oe.jsx(vi,{label:"Sentences",value:a.sentences,dot:"bg-green-600"}),oe.jsx(vi,{label:"Paragraphs",value:a.paragraphs,dot:"bg-amber-500"})]})]}),oe.jsxs("aside",{className:"flex flex-col justify-between rounded-2xl bg-white p-4",children:[oe.jsxs("div",{className:"space-y-8",children:[oe.jsxs("div",{children:[oe.jsx("p",{className:"mb-4 text-xs font-semibold text-muted-foreground",children:"Timing"}),oe.jsx(vi,{label:"Characters with Formatting",value:a.charactersWithFormatting}),oe.jsx(vi,{label:"Reading Time",value:a.readingTime}),oe.jsx(vi,{label:"Speaking Time",value:a.speakingTime}),oe.jsx(vi,{label:"Reading Grade",value:a.readingGrade})]}),oe.jsxs("div",{children:[oe.jsx("p",{className:"mb-4 text-xs font-semibold text-muted-foreground",children:"Keyword Density"}),a.keywords.length?a.keywords.map(d=>oe.jsx(vi,{label:d.word,value:`${d.density}%`},d.word)):oe.jsx("span",{className:"text-sm text-muted-foreground",children:""})]})]}),oe.jsxs(tV,{className:"mt-4 w-full rounded-full",onClick:u,children:[oe.jsx(_O,{size:18}),"Save"]})]})]})})}bO.createRoot(document.getElementById("root")).render(oe.jsx(M.StrictMode,{children:oe.jsx(CV,{})}));
